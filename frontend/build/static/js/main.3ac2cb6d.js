/*! For license information please see main.3ac2cb6d.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,s)=>{e.exports=s(202)},153:(e,t,s)=>{var n=s(43),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var n,r={},c=null,d=null;for(n in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,n)&&!o.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===r[n]&&(r[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:r,_owner:i.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},202:(e,t)=>{var s=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,f={};function g(e,t,s){this.props=e,this.context=t,this.refs=f,this.updater=s||h}function y(){}function v(e,t,s){this.props=e,this.context=t,this.refs=f,this.updater=s||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,x(b,g.prototype),b.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var a,r={},l=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)N.call(t,a)&&!k.hasOwnProperty(a)&&(r[a]=t[a]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===r[a]&&(r[a]=o[a]);return{$$typeof:s,type:e,key:l,ref:i,props:r,_owner:w.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,a,r,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case n:o=!0}}if(o)return l=l(o=e),e=""===r?"."+E(o,0):r,j(l)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),P(l,t,a,"",function(e){return e})):null!=l&&(_(l)&&(l=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(o=0,r=""===r?".":r+":",j(e))for(var c=0;c<e.length;c++){var d=r+E(i=e[c],c);o+=P(i,t,a,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=P(i=i.value,t,a,d=r+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function T(e,t,s){if(null==e)return e;var n=[],a=0;return P(e,n,"","",function(e){return t.call(s,e,a++)}),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},L={transition:null},F={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:L,ReactCurrentOwner:w};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,s){T(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=l,t.PureComponent=v,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=x({},e.props),r=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=w.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:s,type:e.type,key:r,ref:l,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,s){return R.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,s){return R.current.useReducer(e,t,s)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return R.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var n=s-1>>>1,a=e[n];if(!(0<r(a,t)))break e;e[n]=t,e[s]=a,s=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var n=0,a=e.length,l=a>>>1;n<l;){var i=2*(n+1)-1,o=e[i],c=i+1,d=e[c];if(0>r(o,s))c<a&&0>r(d,o)?(e[n]=d,e[c]=s,n=c):(e[n]=o,e[i]=s,n=i);else{if(!(c<a&&0>r(d,s)))break e;e[n]=d,e[c]=s,n=c}}}return t}function r(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,p=3,h=!1,x=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,s(c,t)}t=n(d)}}function j(e){if(f=!1,b(e),!x)if(null!==n(c))x=!0,L(N);else{var t=n(d);null!==t&&F(j,t.startTime-e)}}function N(e,s){x=!1,f&&(f=!1,y(_),_=-1),h=!0;var r=p;try{for(b(s),m=n(c);null!==m&&(!(m.expirationTime>s)||e&&!P());){var l=m.callback;if("function"===typeof l){m.callback=null,p=m.priorityLevel;var i=l(m.expirationTime<=s);s=t.unstable_now(),"function"===typeof i?m.callback=i:m===n(c)&&a(c),b(s)}else a(c);m=n(c)}if(null!==m)var o=!0;else{var u=n(d);null!==u&&F(j,u.startTime-s),o=!1}return o}finally{m=null,p=r,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,_=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function T(){if(null!==S){var e=t.unstable_now();E=e;var s=!0;try{s=S(!0,e)}finally{s?w():(k=!1,S=null)}}else k=!1}if("function"===typeof v)w=function(){v(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=T,w=function(){R.postMessage(null)}}else w=function(){g(T,0)};function L(e){S=e,k||(k=!0,w())}function F(e,s){_=g(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||h||(x=!0,L(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var s=p;p=t;try{return e()}finally{p=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=p;p=e;try{return t()}finally{p=s}},t.unstable_scheduleCallback=function(e,a,r){var l=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?l+r:l:r=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:r,expirationTime:i=r+i,sortIndex:-1},r>l?(e.sortIndex=r,s(d,e),null===n(c)&&e===n(d)&&(f?(y(_),_=-1):f=!0,F(j,r-l))):(e.sortIndex=i,s(c,e),x||h||(x=!0,L(N))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var s=p;p=t;try{return e.apply(this,arguments)}finally{p=s}}}},391:(e,t,s)=>{var n=s(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},579:(e,t,s)=>{e.exports=s(153)},730:(e,t,s)=>{var n=s(43),a=s(853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function x(e,t,s,n,a,r,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=l}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,s,n){var a=f.hasOwnProperty(t)?f[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,n){if(null===t||"undefined"===typeof t||function(e,t,s,n){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,n))return!0;if(n)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,a,n)&&(s=null),n||null===a?function(e){return!!u.call(h,e)||!u.call(p,e)&&(m.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=null===s?3!==a.type&&"":s:(t=a.attributeName,n=a.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(a=a.type)||4===a&&!0===s?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);f[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);f[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);f[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var M,D=Object.assign;function z(e){if(void 0===M)try{throw Error()}catch(ze){var t=ze.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var I=!1;function $(e,t){if(!e||I)return"";I=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Fe){var n=Fe}Reflect.construct(e,[],t)}else{try{t.call()}catch(Fe){n=Fe}e.call(t.prototype)}else{try{throw Error()}catch(Fe){n=Fe}e()}}catch(Fe){if(Fe&&n&&"string"===typeof Fe.stack){for(var a=Fe.stack.split("\n"),r=n.stack.split("\n"),l=a.length-1,i=r.length-1;1<=l&&0<=i&&a[l]!==r[i];)i--;for(;1<=l&&0<=i;l--,i--)if(a[l]!==r[i]){if(1!==l||1!==i)do{if(l--,0>--i||a[l]!==r[i]){var o="\n"+a[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{I=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(ze){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var a=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==s&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var s=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function Y(e,t){var s=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;s=W(null!=t.value?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){G(e,t);var s=W(t.value),n=t.type;if(null!=s)"number"===n?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&J(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+W(s),t=null,a=0;a<e.length;a++){if(e[a].value===s)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(r(92));if(te(s)){if(1<s.length)throw Error(r(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:W(s)}}function re(e,t){var s=W(t.value),n=W(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ue(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function he(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function xe(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var n=0===s.indexOf("--"),a=he(s,t[s],n);"float"===s&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var fe=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,we=null;function ke(e){if(e=Ea(e)){if("function"!==typeof je)throw Error(r(280));var t=e.stateNode;t&&(t=Ta(t),je(e.stateNode,e.type,t))}}function Se(e){Ne?we?we.push(e):we=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=we;if(we=Ne=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ee(){}var Pe=!1;function Te(e,t,s){if(Pe)return e(t,s);Pe=!0;try{return Ce(e,t,s)}finally{Pe=!1,(null!==Ne||null!==we)&&(Ee(),_e())}}function Ae(e,t){var s=e.stateNode;if(null===s)return null;var n=Ta(s);if(null===n)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(r(231,t,typeof s));return s}var Me=!1;if(d)try{var De={};Object.defineProperty(De,"passive",{get:function(){Me=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(Oe){Me=!1}function Ie(e,t,s,n,a,r,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var $e=!1,Ue=null,We=!1,Ve=null,Qe={onError:function(e){$e=!0,Ue=e}};function Ke(e,t,s,n,a,r,l,i,o){$e=!1,Ue=null,Ie.apply(Qe,arguments)}function Ye(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(r(188))}function Ze(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(r(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(n=a.return)){s=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===s)return Xe(a),e;if(l===n)return Xe(a),t;l=l.sibling}throw Error(r(188))}if(s.return!==n.return)s=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===s){i=!0,s=a,n=l;break}if(o===n){i=!0,n=a,s=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===s){i=!0,s=l,n=a;break}if(o===n){i=!0,n=l,s=a;break}o=o.sibling}if(!i)throw Error(r(189))}}if(s.alternate!==n)throw Error(r(190))}if(3!==s.tag)throw Error(r(188));return s.stateNode.current===s?e:t}(e),null!==e?et(e):null}function et(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=et(e);if(null!==t)return t;e=e.sibling}return null}var tt=a.unstable_scheduleCallback,st=a.unstable_cancelCallback,nt=a.unstable_shouldYield,at=a.unstable_requestPaint,rt=a.unstable_now,lt=a.unstable_getCurrentPriorityLevel,it=a.unstable_ImmediatePriority,ot=a.unstable_UserBlockingPriority,ct=a.unstable_NormalPriority,ut=a.unstable_LowPriority,mt=a.unstable_IdlePriority,pt=null,ht=null;var xt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ft(e)/gt|0)|0},ft=Math.log,gt=Math.LN2;var yt=64,vt=4194304;function bt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jt(e,t){var s=e.pendingLanes;if(0===s)return 0;var n=0,a=e.suspendedLanes,r=e.pingedLanes,l=268435455&s;if(0!==l){var i=l&~a;0!==i?n=bt(i):0!==(r&=l)&&(n=bt(r))}else 0!==(l=s&~a)?n=bt(l):0!==r&&(n=bt(r));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(r=t&-t)||16===a&&0!==(4194240&r)))return t;if(0!==(4&n)&&(n|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(s=31-xt(t)),n|=e[s],t&=~a;return n}function Nt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function wt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function kt(){var e=yt;return 0===(4194240&(yt<<=1))&&(yt=64),e}function St(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function _t(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=s}function Ct(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-xt(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var Et=0;function Pt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Tt,At,Rt,Lt,Ft,Ot=!1,Mt=[],Dt=null,zt=null,It=null,$t=new Map,Ut=new Map,Bt=[],qt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wt(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":$t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ut.delete(t.pointerId)}}function Ht(e,t,s,n,a,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:r,targetContainers:[a]},null!==t&&(null!==(t=Ea(t))&&At(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Vt(e){var t=Ca(e.target);if(null!==t){var s=Ye(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=Ge(s)))return e.blockedOn=t,void Ft(e.priority,function(){Rt(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function Qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=as(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=Ea(s))&&At(t),e.blockedOn=s,!1;var n=new(s=e.nativeEvent).constructor(s.type,s);ve=n,s.target.dispatchEvent(n),ve=null,t.shift()}return!0}function Jt(e,t,s){Qt(e)&&s.delete(t)}function Kt(){Ot=!1,null!==Dt&&Qt(Dt)&&(Dt=null),null!==zt&&Qt(zt)&&(zt=null),null!==It&&Qt(It)&&(It=null),$t.forEach(Jt),Ut.forEach(Jt)}function Yt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Kt)))}function Gt(e){function t(t){return Yt(t,e)}if(0<Mt.length){Yt(Mt[0],e);for(var s=1;s<Mt.length;s++){var n=Mt[s];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Dt&&Yt(Dt,e),null!==zt&&Yt(zt,e),null!==It&&Yt(It,e),$t.forEach(t),Ut.forEach(t),s=0;s<Bt.length;s++)(n=Bt[s]).blockedOn===e&&(n.blockedOn=null);for(;0<Bt.length&&null===(s=Bt[0]).blockedOn;)Vt(s),null===s.blockedOn&&Bt.shift()}var Xt=b.ReactCurrentBatchConfig,Zt=!0;function es(e,t,s,n){var a=Et,r=Xt.transition;Xt.transition=null;try{Et=1,ss(e,t,s,n)}finally{Et=a,Xt.transition=r}}function ts(e,t,s,n){var a=Et,r=Xt.transition;Xt.transition=null;try{Et=4,ss(e,t,s,n)}finally{Et=a,Xt.transition=r}}function ss(e,t,s,n){if(Zt){var a=as(e,t,s,n);if(null===a)Zn(e,t,n,ns,s),Wt(e,n);else if(function(e,t,s,n,a){switch(t){case"focusin":return Dt=Ht(Dt,e,t,s,n,a),!0;case"dragenter":return zt=Ht(zt,e,t,s,n,a),!0;case"mouseover":return It=Ht(It,e,t,s,n,a),!0;case"pointerover":var r=a.pointerId;return $t.set(r,Ht($t.get(r)||null,e,t,s,n,a)),!0;case"gotpointercapture":return r=a.pointerId,Ut.set(r,Ht(Ut.get(r)||null,e,t,s,n,a)),!0}return!1}(a,e,t,s,n))n.stopPropagation();else if(Wt(e,n),4&t&&-1<qt.indexOf(e)){for(;null!==a;){var r=Ea(a);if(null!==r&&Tt(r),null===(r=as(e,t,s,n))&&Zn(e,t,n,ns,s),r===a)break;a=r}null!==a&&n.stopPropagation()}else Zn(e,t,n,null,s)}}var ns=null;function as(e,t,s,n){if(ns=null,null!==(e=Ca(e=be(n))))if(null===(t=Ye(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ns=e,null}function rs(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lt()){case it:return 1;case ot:return 4;case ct:case ut:return 16;case mt:return 536870912;default:return 16}default:return 16}}var ls=null,is=null,os=null;function cs(){if(os)return os;var e,t,s=is,n=s.length,a="value"in ls?ls.value:ls.textContent,r=a.length;for(e=0;e<n&&s[e]===a[e];e++);var l=n-e;for(t=1;t<=l&&s[n-t]===a[r-t];t++);return os=a.slice(e,1<t?1-t:void 0)}function ds(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function us(){return!0}function ms(){return!1}function ps(e){function t(t,s,n,a,r){for(var l in this._reactName=t,this._targetInst=n,this.type=s,this.nativeEvent=a,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?us:ms,this.isPropagationStopped=ms,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),t}var hs,xs,fs,gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=ps(gs),vs=D({},gs,{view:0,detail:0}),bs=ps(vs),js=D({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fs&&(fs&&"mousemove"===e.type?(hs=e.screenX-fs.screenX,xs=e.screenY-fs.screenY):xs=hs=0,fs=e),hs)},movementY:function(e){return"movementY"in e?e.movementY:xs}}),Ns=ps(js),ws=ps(D({},js,{dataTransfer:0})),ks=ps(D({},vs,{relatedTarget:0})),Ss=ps(D({},gs,{animationName:0,elapsedTime:0,pseudoElement:0})),_s=D({},gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cs=ps(_s),Es=ps(D({},gs,{data:0})),Ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ts={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},As={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rs(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=As[e])&&!!t[e]}function Ls(){return Rs}var Fs=D({},vs,{key:function(e){if(e.key){var t=Ps[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ds(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ts[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(e){return"keypress"===e.type?ds(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ds(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Os=ps(Fs),Ms=ps(D({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ds=ps(D({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls})),zs=ps(D({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0})),Is=D({},js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$s=ps(Is),Us=[9,13,27,32],Bs=d&&"CompositionEvent"in window,qs=null;d&&"documentMode"in document&&(qs=document.documentMode);var Ws=d&&"TextEvent"in window&&!qs,Hs=d&&(!Bs||qs&&8<qs&&11>=qs),Vs=String.fromCharCode(32),Qs=!1;function Js(e,t){switch(e){case"keyup":return-1!==Us.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ks(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ys=!1;var Gs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gs[e.type]:"textarea"===t}function Zs(e,t,s,n){Se(n),0<(t=ta(t,"onChange")).length&&(s=new ys("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var en=null,tn=null;function sn(e){Qn(e,0)}function nn(e){if(Q(Pa(e)))return e}function an(e,t){if("change"===e)return t}var rn=!1;if(d){var ln;if(d){var on="oninput"in document;if(!on){var cn=document.createElement("div");cn.setAttribute("oninput","return;"),on="function"===typeof cn.oninput}ln=on}else ln=!1;rn=ln&&(!document.documentMode||9<document.documentMode)}function dn(){en&&(en.detachEvent("onpropertychange",un),tn=en=null)}function un(e){if("value"===e.propertyName&&nn(tn)){var t=[];Zs(t,tn,e,be(e)),Te(sn,t)}}function mn(e,t,s){"focusin"===e?(dn(),tn=s,(en=t).attachEvent("onpropertychange",un)):"focusout"===e&&dn()}function pn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nn(tn)}function hn(e,t){if("click"===e)return nn(t)}function xn(e,t){if("input"===e||"change"===e)return nn(t)}var fn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function gn(e,t){if(fn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!u.call(t,a)||!fn(e[a],t[a]))return!1}return!0}function yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vn(e,t){var s,n=yn(e);for(e=0;n;){if(3===n.nodeType){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yn(n)}}function bn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?bn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function jn(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(Be){s=!1}if(!s)break;t=J((e=t.contentWindow).document)}return t}function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function wn(e){var t=jn(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&bn(s.ownerDocument.documentElement,s)){if(null!==n&&Nn(s))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=s.textContent.length,r=Math.min(n.start,a);n=void 0===n.end?r:Math.min(n.end,a),!e.extend&&r>n&&(a=n,n=r,r=a),a=vn(s,r);var l=vn(s,n);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kn=d&&"documentMode"in document&&11>=document.documentMode,Sn=null,_n=null,Cn=null,En=!1;function Pn(e,t,s){var n=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;En||null==Sn||Sn!==J(n)||("selectionStart"in(n=Sn)&&Nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Cn&&gn(Cn,n)||(Cn=n,0<(n=ta(_n,"onSelect")).length&&(t=new ys("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Sn)))}function Tn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var An={animationend:Tn("Animation","AnimationEnd"),animationiteration:Tn("Animation","AnimationIteration"),animationstart:Tn("Animation","AnimationStart"),transitionend:Tn("Transition","TransitionEnd")},Rn={},Ln={};function Fn(e){if(Rn[e])return Rn[e];if(!An[e])return e;var t,s=An[e];for(t in s)if(s.hasOwnProperty(t)&&t in Ln)return Rn[e]=s[t];return e}d&&(Ln=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);var On=Fn("animationend"),Mn=Fn("animationiteration"),Dn=Fn("animationstart"),zn=Fn("transitionend"),In=new Map,$n="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){In.set(e,t),o(t,[e])}for(var Bn=0;Bn<$n.length;Bn++){var qn=$n[Bn];Un(qn.toLowerCase(),"on"+(qn[0].toUpperCase()+qn.slice(1)))}Un(On,"onAnimationEnd"),Un(Mn,"onAnimationIteration"),Un(Dn,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(zn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wn));function Vn(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,n,a,l,i,o,c){if(Ke.apply(this,arguments),$e){if(!$e)throw Error(r(198));var d=Ue;$e=!1,Ue=null,We||(We=!0,Ve=d)}}(n,t,void 0,e),e.currentTarget=null}function Qn(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var l=n.length-1;0<=l;l--){var i=n[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==r&&a.isPropagationStopped())break e;Vn(a,i,c),r=o}else for(l=0;l<n.length;l++){if(o=(i=n[l]).instance,c=i.currentTarget,i=i.listener,o!==r&&a.isPropagationStopped())break e;Vn(a,i,c),r=o}}}if(We)throw e=Ve,We=!1,Ve=null,e}function Jn(e,t){var s=t[ka];void 0===s&&(s=t[ka]=new Set);var n=e+"__bubble";s.has(n)||(Xn(t,e,2,!1),s.add(n))}function Kn(e,t,s){var n=0;t&&(n|=4),Xn(s,e,n,t)}var Yn="_reactListening"+Math.random().toString(36).slice(2);function Gn(e){if(!e[Yn]){e[Yn]=!0,l.forEach(function(t){"selectionchange"!==t&&(Hn.has(t)||Kn(t,!1,e),Kn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Yn]||(t[Yn]=!0,Kn("selectionchange",!1,t))}}function Xn(e,t,s,n){switch(rs(t)){case 1:var a=es;break;case 4:a=ts;break;default:a=ss}s=a.bind(null,t,s,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):void 0!==a?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Zn(e,t,s,n,a){var r=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var l=n.tag;if(3===l||4===l){var i=n.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===l)for(l=n.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;l=l.return}for(;null!==i;){if(null===(l=Ca(i)))return;if(5===(o=l.tag)||6===o){n=r=l;continue e}i=i.parentNode}}n=n.return}Te(function(){var n=r,a=be(s),l=[];e:{var i=In.get(e);if(void 0!==i){var o=ys,c=e;switch(e){case"keypress":if(0===ds(s))break e;case"keydown":case"keyup":o=Os;break;case"focusin":c="focus",o=ks;break;case"focusout":c="blur",o=ks;break;case"beforeblur":case"afterblur":o=ks;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=Ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=ws;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Ds;break;case On:case Mn:case Dn:o=Ss;break;case zn:o=zs;break;case"scroll":o=bs;break;case"wheel":o=$s;break;case"copy":case"cut":case"paste":o=Cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Ms}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var p,h=n;null!==h;){var x=(p=h).stateNode;if(5===p.tag&&null!==x&&(p=x,null!==m&&(null!=(x=Ae(h,m))&&d.push(ea(h,x,p)))),u)break;h=h.return}0<d.length&&(i=new o(i,c,null,s,a),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||s===ve||!(c=s.relatedTarget||s.fromElement)||!Ca(c)&&!c[wa])&&(o||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=n,null!==(c=(c=s.relatedTarget||s.toElement)?Ca(c):null)&&(c!==(u=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=n),o!==c)){if(d=Ns,x="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ms,x="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==o?i:Pa(o),p=null==c?i:Pa(c),(i=new d(x,h+"leave",o,s,a)).target=u,i.relatedTarget=p,x=null,Ca(a)===n&&((d=new d(m,h+"enter",c,s,a)).target=p,d.relatedTarget=u,x=d),u=x,o&&c)e:{for(m=c,h=0,p=d=o;p;p=sa(p))h++;for(p=0,x=m;x;x=sa(x))p++;for(;0<h-p;)d=sa(d),h--;for(;0<p-h;)m=sa(m),p--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=sa(d),m=sa(m)}d=null}else d=null;null!==o&&na(l,i,o,d,!1),null!==c&&null!==u&&na(l,u,c,d,!0)}if("select"===(o=(i=n?Pa(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var f=an;else if(Xs(i))if(rn)f=xn;else{f=pn;var g=mn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(f=hn);switch(f&&(f=f(e,n))?Zs(l,f,s,a):(g&&g(e,i,n),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=n?Pa(n):window,e){case"focusin":(Xs(g)||"true"===g.contentEditable)&&(Sn=g,_n=n,Cn=null);break;case"focusout":Cn=_n=Sn=null;break;case"mousedown":En=!0;break;case"contextmenu":case"mouseup":case"dragend":En=!1,Pn(l,s,a);break;case"selectionchange":if(kn)break;case"keydown":case"keyup":Pn(l,s,a)}var y;if(Bs)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ys?Js(e,s)&&(v="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(v="onCompositionStart");v&&(Hs&&"ko"!==s.locale&&(Ys||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ys&&(y=cs()):(is="value"in(ls=a)?ls.value:ls.textContent,Ys=!0)),0<(g=ta(n,v)).length&&(v=new Es(v,e,null,s,a),l.push({event:v,listeners:g}),y?v.data=y:null!==(y=Ks(s))&&(v.data=y))),(y=Ws?function(e,t){switch(e){case"compositionend":return Ks(t);case"keypress":return 32!==t.which?null:(Qs=!0,Vs);case"textInput":return(e=t.data)===Vs&&Qs?null:e;default:return null}}(e,s):function(e,t){if(Ys)return"compositionend"===e||!Bs&&Js(e,t)?(e=cs(),os=is=ls=null,Ys=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hs&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(n=ta(n,"onBeforeInput")).length&&(a=new Es("onBeforeInput","beforeinput",null,s,a),l.push({event:a,listeners:n}),a.data=y))}Qn(l,t)})}function ea(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ta(e,t){for(var s=t+"Capture",n=[];null!==e;){var a=e,r=a.stateNode;5===a.tag&&null!==r&&(a=r,null!=(r=Ae(e,s))&&n.unshift(ea(e,r,a)),null!=(r=Ae(e,t))&&n.push(ea(e,r,a))),e=e.return}return n}function sa(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function na(e,t,s,n,a){for(var r=t._reactName,l=[];null!==s&&s!==n;){var i=s,o=i.alternate,c=i.stateNode;if(null!==o&&o===n)break;5===i.tag&&null!==c&&(i=c,a?null!=(o=Ae(s,r))&&l.unshift(ea(s,o,i)):a||null!=(o=Ae(s,r))&&l.push(ea(s,o,i))),s=s.return}0!==l.length&&e.push({event:t,listeners:l})}var aa=/\r\n?/g,ra=/\u0000|\uFFFD/g;function la(e){return("string"===typeof e?e:""+e).replace(aa,"\n").replace(ra,"")}function ia(e,t,s){if(t=la(t),la(e)!==t&&s)throw Error(r(425))}function oa(){}var ca=null,da=null;function ua(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ma="function"===typeof setTimeout?setTimeout:void 0,pa="function"===typeof clearTimeout?clearTimeout:void 0,ha="function"===typeof Promise?Promise:void 0,xa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ha?function(e){return ha.resolve(null).then(e).catch(fa)}:ma;function fa(e){setTimeout(function(){throw e})}function ga(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&8===a.nodeType)if("/$"===(s=a.data)){if(0===n)return e.removeChild(a),void Gt(t);n--}else"$"!==s&&"$?"!==s&&"$!"!==s||n++;s=a}while(s);Gt(t)}function ya(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function va(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var ba=Math.random().toString(36).slice(2),ja="__reactFiber$"+ba,Na="__reactProps$"+ba,wa="__reactContainer$"+ba,ka="__reactEvents$"+ba,Sa="__reactListeners$"+ba,_a="__reactHandles$"+ba;function Ca(e){var t=e[ja];if(t)return t;for(var s=e.parentNode;s;){if(t=s[wa]||s[ja]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=va(e);null!==e;){if(s=e[ja])return s;e=va(e)}return t}s=(e=s).parentNode}return null}function Ea(e){return!(e=e[ja]||e[wa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function Ta(e){return e[Na]||null}var Aa=[],Ra=-1;function La(e){return{current:e}}function Fa(e){0>Ra||(e.current=Aa[Ra],Aa[Ra]=null,Ra--)}function Oa(e,t){Ra++,Aa[Ra]=e.current,e.current=t}var Ma={},Da=La(Ma),za=La(!1),Ia=Ma;function $a(e,t){var s=e.type.contextTypes;if(!s)return Ma;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,r={};for(a in s)r[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ua(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ba(){Fa(za),Fa(Da)}function qa(e,t,s){if(Da.current!==Ma)throw Error(r(168));Oa(Da,t),Oa(za,s)}function Wa(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return s;for(var a in n=n.getChildContext())if(!(a in t))throw Error(r(108,q(e)||"Unknown",a));return D({},s,n)}function Ha(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ma,Ia=Da.current,Oa(Da,e),Oa(za,za.current),!0}function Va(e,t,s){var n=e.stateNode;if(!n)throw Error(r(169));s?(e=Wa(e,t,Ia),n.__reactInternalMemoizedMergedChildContext=e,Fa(za),Fa(Da),Oa(Da,e)):Fa(za),Oa(za,s)}var Qa=null,Ja=!1,Ka=!1;function Ya(e){null===Qa?Qa=[e]:Qa.push(e)}function Ga(){if(!Ka&&null!==Qa){Ka=!0;var e=0,t=Et;try{var s=Qa;for(Et=1;e<s.length;e++){var n=s[e];do{n=n(!0)}while(null!==n)}Qa=null,Ja=!1}catch(Re){throw null!==Qa&&(Qa=Qa.slice(e+1)),tt(it,Ga),Re}finally{Et=t,Ka=!1}}return null}var Xa=[],Za=0,er=null,tr=0,sr=[],nr=0,ar=null,rr=1,lr="";function ir(e,t){Xa[Za++]=tr,Xa[Za++]=er,er=e,tr=t}function or(e,t,s){sr[nr++]=rr,sr[nr++]=lr,sr[nr++]=ar,ar=e;var n=rr;e=lr;var a=32-xt(n)-1;n&=~(1<<a),s+=1;var r=32-xt(t)+a;if(30<r){var l=a-a%5;r=(n&(1<<l)-1).toString(32),n>>=l,a-=l,rr=1<<32-xt(t)+a|s<<a|n,lr=r+e}else rr=1<<r|s<<a|n,lr=e}function cr(e){null!==e.return&&(ir(e,1),or(e,1,0))}function dr(e){for(;e===er;)er=Xa[--Za],Xa[Za]=null,tr=Xa[--Za],Xa[Za]=null;for(;e===ar;)ar=sr[--nr],sr[nr]=null,lr=sr[--nr],sr[nr]=null,rr=sr[--nr],sr[nr]=null}var ur=null,mr=null,pr=!1,hr=null;function xr(e,t){var s=$c(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function fr(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ur=e,mr=ya(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ur=e,mr=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==ar?{id:rr,overflow:lr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=$c(18,null,null,0)).stateNode=t,s.return=e,e.child=s,ur=e,mr=null,!0);default:return!1}}function gr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function yr(e){if(pr){var t=mr;if(t){var s=t;if(!fr(e,t)){if(gr(e))throw Error(r(418));t=ya(s.nextSibling);var n=ur;t&&fr(e,t)?xr(n,s):(e.flags=-4097&e.flags|2,pr=!1,ur=e)}}else{if(gr(e))throw Error(r(418));e.flags=-4097&e.flags|2,pr=!1,ur=e}}}function vr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ur=e}function br(e){if(e!==ur)return!1;if(!pr)return vr(e),pr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ua(e.type,e.memoizedProps)),t&&(t=mr)){if(gr(e))throw jr(),Error(r(418));for(;t;)xr(e,t),t=ya(t.nextSibling)}if(vr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){mr=ya(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}mr=null}}else mr=ur?ya(e.stateNode.nextSibling):null;return!0}function jr(){for(var e=mr;e;)e=ya(e.nextSibling)}function Nr(){mr=ur=null,pr=!1}function wr(e){null===hr?hr=[e]:hr.push(e)}var kr=b.ReactCurrentBatchConfig;function Sr(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(r(309));var n=s.stateNode}if(!n)throw Error(r(147,e));var a=n,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function _r(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cr(e){return(0,e._init)(e._payload)}function Er(e){function t(t,s){if(e){var n=t.deletions;null===n?(t.deletions=[s],t.flags|=16):n.push(s)}}function s(s,n){if(!e)return null;for(;null!==n;)t(s,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function l(t,s,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<s?(t.flags|=2,s):n:(t.flags|=2,s):(t.flags|=1048576,s)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,s,n){return null===t||6!==t.tag?((t=Vc(s,e.mode,n)).return=e,t):((t=a(t,s)).return=e,t)}function c(e,t,s,n){var r=s.type;return r===w?u(e,t,s.props.children,n,s.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===R&&Cr(r)===t.type)?((n=a(t,s.props)).ref=Sr(e,t,s),n.return=e,n):((n=qc(s.type,s.key,s.props,null,e.mode,n)).ref=Sr(e,t,s),n.return=e,n)}function d(e,t,s,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Qc(s,e.mode,n)).return=e,t):((t=a(t,s.children||[])).return=e,t)}function u(e,t,s,n,r){return null===t||7!==t.tag?((t=Wc(s,e.mode,n,r)).return=e,t):((t=a(t,s)).return=e,t)}function m(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(s=qc(t.type,t.key,t.props,null,e.mode,s)).ref=Sr(e,null,t),s.return=e,s;case N:return(t=Qc(t,e.mode,s)).return=e,t;case R:return m(e,(0,t._init)(t._payload),s)}if(te(t)||O(t))return(t=Wc(t,e.mode,s,null)).return=e,t;_r(e,t)}return null}function p(e,t,s,n){var a=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==a?null:o(e,t,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case j:return s.key===a?c(e,t,s,n):null;case N:return s.key===a?d(e,t,s,n):null;case R:return p(e,t,(a=s._init)(s._payload),n)}if(te(s)||O(s))return null!==a?null:u(e,t,s,n,null);_r(e,s)}return null}function h(e,t,s,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return o(t,e=e.get(s)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?s:n.key)||null,n,a);case N:return d(t,e=e.get(null===n.key?s:n.key)||null,n,a);case R:return h(e,t,s,(0,n._init)(n._payload),a)}if(te(n)||O(n))return u(t,e=e.get(s)||null,n,a,null);_r(t,n)}return null}function x(a,r,i,o){for(var c=null,d=null,u=r,x=r=0,f=null;null!==u&&x<i.length;x++){u.index>x?(f=u,u=null):f=u.sibling;var g=p(a,u,i[x],o);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(a,u),r=l(g,r,x),null===d?c=g:d.sibling=g,d=g,u=f}if(x===i.length)return s(a,u),pr&&ir(a,x),c;if(null===u){for(;x<i.length;x++)null!==(u=m(a,i[x],o))&&(r=l(u,r,x),null===d?c=u:d.sibling=u,d=u);return pr&&ir(a,x),c}for(u=n(a,u);x<i.length;x++)null!==(f=h(u,a,x,i[x],o))&&(e&&null!==f.alternate&&u.delete(null===f.key?x:f.key),r=l(f,r,x),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(a,e)}),pr&&ir(a,x),c}function f(a,i,o,c){var d=O(o);if("function"!==typeof d)throw Error(r(150));if(null==(o=d.call(o)))throw Error(r(151));for(var u=d=null,x=i,f=i=0,g=null,y=o.next();null!==x&&!y.done;f++,y=o.next()){x.index>f?(g=x,x=null):g=x.sibling;var v=p(a,x,y.value,c);if(null===v){null===x&&(x=g);break}e&&x&&null===v.alternate&&t(a,x),i=l(v,i,f),null===u?d=v:u.sibling=v,u=v,x=g}if(y.done)return s(a,x),pr&&ir(a,f),d;if(null===x){for(;!y.done;f++,y=o.next())null!==(y=m(a,y.value,c))&&(i=l(y,i,f),null===u?d=y:u.sibling=y,u=y);return pr&&ir(a,f),d}for(x=n(a,x);!y.done;f++,y=o.next())null!==(y=h(x,a,f,y.value,c))&&(e&&null!==y.alternate&&x.delete(null===y.key?f:y.key),i=l(y,i,f),null===u?d=y:u.sibling=y,u=y);return e&&x.forEach(function(e){return t(a,e)}),pr&&ir(a,f),d}return function e(n,r,l,o){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=r;null!==d;){if(d.key===c){if((c=l.type)===w){if(7===d.tag){s(n,d.sibling),(r=a(d,l.props.children)).return=n,n=r;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Cr(c)===d.type){s(n,d.sibling),(r=a(d,l.props)).ref=Sr(n,d,l),r.return=n,n=r;break e}s(n,d);break}t(n,d),d=d.sibling}l.type===w?((r=Wc(l.props.children,n.mode,o,l.key)).return=n,n=r):((o=qc(l.type,l.key,l.props,null,n.mode,o)).ref=Sr(n,r,l),o.return=n,n=o)}return i(n);case N:e:{for(d=l.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===l.containerInfo&&r.stateNode.implementation===l.implementation){s(n,r.sibling),(r=a(r,l.children||[])).return=n,n=r;break e}s(n,r);break}t(n,r),r=r.sibling}(r=Qc(l,n.mode,o)).return=n,n=r}return i(n);case R:return e(n,r,(d=l._init)(l._payload),o)}if(te(l))return x(n,r,l,o);if(O(l))return f(n,r,l,o);_r(n,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==r&&6===r.tag?(s(n,r.sibling),(r=a(r,l)).return=n,n=r):(s(n,r),(r=Vc(l,n.mode,o)).return=n,n=r),i(n)):s(n,r)}}var Pr=Er(!0),Tr=Er(!1),Ar=La(null),Rr=null,Lr=null,Fr=null;function Or(){Fr=Lr=Rr=null}function Mr(e){var t=Ar.current;Fa(Ar),e._currentValue=t}function Dr(e,t,s){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function zr(e,t){Rr=e,Fr=Lr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ci=!0),e.firstContext=null)}function Ir(e){var t=e._currentValue;if(Fr!==e)if(e={context:e,memoizedValue:t,next:null},null===Lr){if(null===Rr)throw Error(r(308));Lr=e,Rr.dependencies={lanes:0,firstContext:e}}else Lr=Lr.next=e;return t}var $r=null;function Ur(e){null===$r?$r=[e]:$r.push(e)}function Br(e,t,s,n){var a=t.interleaved;return null===a?(s.next=s,Ur(t)):(s.next=a.next,a.next=s),t.interleaved=s,qr(e,n)}function qr(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var Wr=!1;function Hr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(e,t,s){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Do)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,qr(e,s)}return null===(a=n.interleaved)?(t.next=t,Ur(n)):(t.next=a.next,a.next=t),n.interleaved=t,qr(e,s)}function Kr(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,Ct(e,s)}}function Yr(e,t){var s=e.updateQueue,n=e.alternate;if(null!==n&&s===(n=n.updateQueue)){var a=null,r=null;if(null!==(s=s.firstBaseUpdate)){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===r?a=r=l:r=r.next=l,s=s.next}while(null!==s);null===r?a=r=t:r=r.next=t}else a=r=t;return s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:n.shared,effects:n.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Gr(e,t,s,n){var a=e.updateQueue;Wr=!1;var r=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?r=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==r){var u=a.baseState;for(l=0,d=c=o=null,i=r;;){var m=i.lane,p=i.eventTime;if((n&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,x=i;switch(m=t,p=s,x.tag){case 1:if("function"===typeof(h=x.payload)){u=h.call(p,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=x.payload)?h.call(p,u,m):h)||void 0===m)break e;u=D({},u,m);break e;case 2:Wr=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[i]:m.push(i))}else p={eventTime:p,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,l|=m;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(m=i).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===r&&(a.shared.lanes=0);Ho|=l,e.lanes=l,e.memoizedState=u}}function Xr(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=s,"function"!==typeof a)throw Error(r(191,a));a.call(n)}}}var Zr={},el=La(Zr),tl=La(Zr),sl=La(Zr);function nl(e){if(e===Zr)throw Error(r(174));return e}function al(e,t){switch(Oa(sl,t),Oa(tl,e),Oa(el,Zr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Fa(el),Oa(el,t)}function rl(){Fa(el),Fa(tl),Fa(sl)}function ll(e){nl(sl.current);var t=nl(el.current),s=oe(t,e.type);t!==s&&(Oa(tl,e),Oa(el,s))}function il(e){tl.current===e&&(Fa(el),Fa(tl))}var ol=La(0);function cl(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dl=[];function ul(){for(var e=0;e<dl.length;e++)dl[e]._workInProgressVersionPrimary=null;dl.length=0}var ml=b.ReactCurrentDispatcher,pl=b.ReactCurrentBatchConfig,hl=0,xl=null,fl=null,gl=null,yl=!1,vl=!1,bl=0,jl=0;function Nl(){throw Error(r(321))}function wl(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!fn(e[s],t[s]))return!1;return!0}function kl(e,t,s,n,a,l){if(hl=l,xl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ml.current=null===e||null===e.memoizedState?ii:oi,e=s(n,a),vl){l=0;do{if(vl=!1,bl=0,25<=l)throw Error(r(301));l+=1,gl=fl=null,t.updateQueue=null,ml.current=ci,e=s(n,a)}while(vl)}if(ml.current=li,t=null!==fl&&null!==fl.next,hl=0,gl=fl=xl=null,yl=!1,t)throw Error(r(300));return e}function Sl(){var e=0!==bl;return bl=0,e}function _l(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gl?xl.memoizedState=gl=e:gl=gl.next=e,gl}function Cl(){if(null===fl){var e=xl.alternate;e=null!==e?e.memoizedState:null}else e=fl.next;var t=null===gl?xl.memoizedState:gl.next;if(null!==t)gl=t,fl=e;else{if(null===e)throw Error(r(310));e={memoizedState:(fl=e).memoizedState,baseState:fl.baseState,baseQueue:fl.baseQueue,queue:fl.queue,next:null},null===gl?xl.memoizedState=gl=e:gl=gl.next=e}return gl}function El(e,t){return"function"===typeof t?t(e):t}function Pl(e){var t=Cl(),s=t.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=e;var n=fl,a=n.baseQueue,l=s.pending;if(null!==l){if(null!==a){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,s.pending=null}if(null!==a){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((hl&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=n):c=c.next=m,xl.lanes|=u,Ho|=u}d=d.next}while(null!==d&&d!==l);null===c?i=n:c.next=o,fn(n,t.memoizedState)||(Ci=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,s.lastRenderedState=n}if(null!==(e=s.interleaved)){a=e;do{l=a.lane,xl.lanes|=l,Ho|=l,a=a.next}while(a!==e)}else null===a&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Tl(e){var t=Cl(),s=t.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,l=t.memoizedState;if(null!==a){s.pending=null;var i=a=a.next;do{l=e(l,i.action),i=i.next}while(i!==a);fn(l,t.memoizedState)||(Ci=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),s.lastRenderedState=l}return[l,n]}function Al(){}function Rl(e,t){var s=xl,n=Cl(),a=t(),l=!fn(n.memoizedState,a);if(l&&(n.memoizedState=a,Ci=!0),n=n.queue,Wl(Ol.bind(null,s,n,e),[e]),n.getSnapshot!==t||l||null!==gl&&1&gl.memoizedState.tag){if(s.flags|=2048,Il(9,Fl.bind(null,s,n,a,t),void 0,null),null===zo)throw Error(r(349));0!==(30&hl)||Ll(s,t,a)}return a}function Ll(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=xl.updateQueue)?(t={lastEffect:null,stores:null},xl.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Fl(e,t,s,n){t.value=s,t.getSnapshot=n,Ml(t)&&Dl(e)}function Ol(e,t,s){return s(function(){Ml(t)&&Dl(e)})}function Ml(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!fn(e,s)}catch(Be){return!0}}function Dl(e){var t=qr(e,1);null!==t&&uc(t,e,1,-1)}function zl(e){var t=_l();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:e},t.queue=e,e=e.dispatch=si.bind(null,xl,e),[t.memoizedState,e]}function Il(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},null===(t=xl.updateQueue)?(t={lastEffect:null,stores:null},xl.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e),e}function $l(){return Cl().memoizedState}function Ul(e,t,s,n){var a=_l();xl.flags|=e,a.memoizedState=Il(1|t,s,void 0,void 0===n?null:n)}function Bl(e,t,s,n){var a=Cl();n=void 0===n?null:n;var r=void 0;if(null!==fl){var l=fl.memoizedState;if(r=l.destroy,null!==n&&wl(n,l.deps))return void(a.memoizedState=Il(t,s,r,n))}xl.flags|=e,a.memoizedState=Il(1|t,s,r,n)}function ql(e,t){return Ul(8390656,8,e,t)}function Wl(e,t){return Bl(2048,8,e,t)}function Hl(e,t){return Bl(4,2,e,t)}function Vl(e,t){return Bl(4,4,e,t)}function Ql(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Jl(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Bl(4,4,Ql.bind(null,t,e),s)}function Kl(){}function Yl(e,t){var s=Cl();t=void 0===t?null:t;var n=s.memoizedState;return null!==n&&null!==t&&wl(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function Gl(e,t){var s=Cl();t=void 0===t?null:t;var n=s.memoizedState;return null!==n&&null!==t&&wl(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function Xl(e,t,s){return 0===(21&hl)?(e.baseState&&(e.baseState=!1,Ci=!0),e.memoizedState=s):(fn(s,t)||(s=kt(),xl.lanes|=s,Ho|=s,e.baseState=!0),t)}function Zl(e,t){var s=Et;Et=0!==s&&4>s?s:4,e(!0);var n=pl.transition;pl.transition={};try{e(!1),t()}finally{Et=s,pl.transition=n}}function ei(){return Cl().memoizedState}function ti(e,t,s){var n=dc(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},ni(e))ai(t,s);else if(null!==(s=Br(e,t,s,n))){uc(s,e,n,cc()),ri(s,t,n)}}function si(e,t,s){var n=dc(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(ni(e))ai(t,a);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=r(l,s);if(a.hasEagerState=!0,a.eagerState=i,fn(i,l)){var o=t.interleaved;return null===o?(a.next=a,Ur(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(Fe){}null!==(s=Br(e,t,a,n))&&(uc(s,e,n,a=cc()),ri(s,t,n))}}function ni(e){var t=e.alternate;return e===xl||null!==t&&t===xl}function ai(e,t){vl=yl=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ri(e,t,s){if(0!==(4194240&s)){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,Ct(e,s)}}var li={readContext:Ir,useCallback:Nl,useContext:Nl,useEffect:Nl,useImperativeHandle:Nl,useInsertionEffect:Nl,useLayoutEffect:Nl,useMemo:Nl,useReducer:Nl,useRef:Nl,useState:Nl,useDebugValue:Nl,useDeferredValue:Nl,useTransition:Nl,useMutableSource:Nl,useSyncExternalStore:Nl,useId:Nl,unstable_isNewReconciler:!1},ii={readContext:Ir,useCallback:function(e,t){return _l().memoizedState=[e,void 0===t?null:t],e},useContext:Ir,useEffect:ql,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ul(4194308,4,Ql.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ul(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ul(4,2,e,t)},useMemo:function(e,t){var s=_l();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=_l();return t=void 0!==s?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ti.bind(null,xl,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},_l().memoizedState=e},useState:zl,useDebugValue:Kl,useDeferredValue:function(e){return _l().memoizedState=e},useTransition:function(){var e=zl(!1),t=e[0];return e=Zl.bind(null,e[1]),_l().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=xl,a=_l();if(pr){if(void 0===s)throw Error(r(407));s=s()}else{if(s=t(),null===zo)throw Error(r(349));0!==(30&hl)||Ll(n,t,s)}a.memoizedState=s;var l={value:s,getSnapshot:t};return a.queue=l,ql(Ol.bind(null,n,l,e),[e]),n.flags|=2048,Il(9,Fl.bind(null,n,l,s,t),void 0,null),s},useId:function(){var e=_l(),t=zo.identifierPrefix;if(pr){var s=lr;t=":"+t+"R"+(s=(rr&~(1<<32-xt(rr)-1)).toString(32)+s),0<(s=bl++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=jl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oi={readContext:Ir,useCallback:Yl,useContext:Ir,useEffect:Wl,useImperativeHandle:Jl,useInsertionEffect:Hl,useLayoutEffect:Vl,useMemo:Gl,useReducer:Pl,useRef:$l,useState:function(){return Pl(El)},useDebugValue:Kl,useDeferredValue:function(e){return Xl(Cl(),fl.memoizedState,e)},useTransition:function(){return[Pl(El)[0],Cl().memoizedState]},useMutableSource:Al,useSyncExternalStore:Rl,useId:ei,unstable_isNewReconciler:!1},ci={readContext:Ir,useCallback:Yl,useContext:Ir,useEffect:Wl,useImperativeHandle:Jl,useInsertionEffect:Hl,useLayoutEffect:Vl,useMemo:Gl,useReducer:Tl,useRef:$l,useState:function(){return Tl(El)},useDebugValue:Kl,useDeferredValue:function(e){var t=Cl();return null===fl?t.memoizedState=e:Xl(t,fl.memoizedState,e)},useTransition:function(){return[Tl(El)[0],Cl().memoizedState]},useMutableSource:Al,useSyncExternalStore:Rl,useId:ei,unstable_isNewReconciler:!1};function di(e,t){if(e&&e.defaultProps){for(var s in t=D({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function ui(e,t,s,n){s=null===(s=s(n,t=e.memoizedState))||void 0===s?t:D({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var mi={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=cc(),a=dc(e),r=Qr(n,a);r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=Jr(e,r,a))&&(uc(t,e,a,n),Kr(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=cc(),a=dc(e),r=Qr(n,a);r.tag=1,r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=Jr(e,r,a))&&(uc(t,e,a,n),Kr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=cc(),n=dc(e),a=Qr(s,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Jr(e,a,n))&&(uc(t,e,n,s),Kr(t,e,n))}};function pi(e,t,s,n,a,r,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,l):!t.prototype||!t.prototype.isPureReactComponent||(!gn(s,n)||!gn(a,r))}function hi(e,t,s){var n=!1,a=Ma,r=t.contextType;return"object"===typeof r&&null!==r?r=Ir(r):(a=Ua(t)?Ia:Da.current,r=(n=null!==(n=t.contextTypes)&&void 0!==n)?$a(e,a):Ma),t=new t(s,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mi,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=r),t}function xi(e,t,s,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function fi(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Hr(e);var r=t.contextType;"object"===typeof r&&null!==r?a.context=Ir(r):(r=Ua(t)?Ia:Da.current,a.context=$a(e,r)),a.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(ui(e,t,r,s),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&mi.enqueueReplaceState(a,a.state,null),Gr(e,s,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function gi(e,t){try{var s="",n=t;do{s+=U(n),n=n.return}while(n);var a=s}catch(qe){a="\nError generating stack: "+qe.message+"\n"+qe.stack}return{value:e,source:t,stack:a,digest:null}}function yi(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function vi(e,t){try{console.error(t.value)}catch(ze){setTimeout(function(){throw ze})}}var bi="function"===typeof WeakMap?WeakMap:Map;function ji(e,t,s){(s=Qr(-1,s)).tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Zo||(Zo=!0,ec=n),vi(0,t)},s}function Ni(e,t,s){(s=Qr(-1,s)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){vi(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(s.callback=function(){vi(0,t),"function"!==typeof n&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function wi(e,t,s){var n=e.pingCache;if(null===n){n=e.pingCache=new bi;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=Fc.bind(null,e,t,s),t.then(e,e))}function ki(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Si(e,t,s,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=Qr(-1,1)).tag=2,Jr(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var _i=b.ReactCurrentOwner,Ci=!1;function Ei(e,t,s,n){t.child=null===e?Tr(t,null,s,n):Pr(t,e.child,s,n)}function Pi(e,t,s,n,a){s=s.render;var r=t.ref;return zr(t,a),n=kl(e,t,s,n,r,a),s=Sl(),null===e||Ci?(pr&&s&&cr(t),t.flags|=1,Ei(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Xi(e,t,a))}function Ti(e,t,s,n,a){if(null===e){var r=s.type;return"function"!==typeof r||Uc(r)||void 0!==r.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=qc(s.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ai(e,t,r,n,a))}if(r=e.child,0===(e.lanes&a)){var l=r.memoizedProps;if((s=null!==(s=s.compare)?s:gn)(l,n)&&e.ref===t.ref)return Xi(e,t,a)}return t.flags|=1,(e=Bc(r,n)).ref=t.ref,e.return=t,t.child=e}function Ai(e,t,s,n,a){if(null!==e){var r=e.memoizedProps;if(gn(r,n)&&e.ref===t.ref){if(Ci=!1,t.pendingProps=n=r,0===(e.lanes&a))return t.lanes=e.lanes,Xi(e,t,a);0!==(131072&e.flags)&&(Ci=!0)}}return Fi(e,t,s,n,a)}function Ri(e,t,s){var n=t.pendingProps,a=n.children,r=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oa(Bo,Uo),Uo|=s;else{if(0===(1073741824&s))return e=null!==r?r.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oa(Bo,Uo),Uo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==r?r.baseLanes:s,Oa(Bo,Uo),Uo|=n}else null!==r?(n=r.baseLanes|s,t.memoizedState=null):n=s,Oa(Bo,Uo),Uo|=n;return Ei(e,t,a,s),t.child}function Li(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Fi(e,t,s,n,a){var r=Ua(s)?Ia:Da.current;return r=$a(t,r),zr(t,a),s=kl(e,t,s,n,r,a),n=Sl(),null===e||Ci?(pr&&n&&cr(t),t.flags|=1,Ei(e,t,s,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Xi(e,t,a))}function Oi(e,t,s,n,a){if(Ua(s)){var r=!0;Ha(t)}else r=!1;if(zr(t,a),null===t.stateNode)Gi(e,t),hi(t,s,n),fi(t,s,n,a),n=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=s.contextType;"object"===typeof c&&null!==c?c=Ir(c):c=$a(t,c=Ua(s)?Ia:Da.current);var d=s.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==n||o!==c)&&xi(t,l,n,c),Wr=!1;var m=t.memoizedState;l.state=m,Gr(t,n,l,a),o=t.memoizedState,i!==n||m!==o||za.current||Wr?("function"===typeof d&&(ui(t,s,d,n),o=t.memoizedState),(i=Wr||pi(t,s,i,n,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=c,n=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Vr(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:di(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=s.contextType)&&null!==o?o=Ir(o):o=$a(t,o=Ua(s)?Ia:Da.current);var p=s.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&xi(t,l,n,o),Wr=!1,m=t.memoizedState,l.state=m,Gr(t,n,l,a);var h=t.memoizedState;i!==u||m!==h||za.current||Wr?("function"===typeof p&&(ui(t,s,p,n),h=t.memoizedState),(c=Wr||pi(t,s,c,n,m,h,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(n,h,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(n,h,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),l.props=n,l.state=h,l.context=o,n=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Mi(e,t,s,n,r,a)}function Mi(e,t,s,n,a,r){Li(e,t);var l=0!==(128&t.flags);if(!n&&!l)return a&&Va(t,s,!1),Xi(e,t,r);n=t.stateNode,_i.current=t;var i=l&&"function"!==typeof s.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&l?(t.child=Pr(t,e.child,null,r),t.child=Pr(t,null,i,r)):Ei(e,t,i,r),t.memoizedState=n.state,a&&Va(t,s,!0),t.child}function Di(e){var t=e.stateNode;t.pendingContext?qa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&qa(0,t.context,!1),al(e,t.containerInfo)}function zi(e,t,s,n,a){return Nr(),wr(a),t.flags|=256,Ei(e,t,s,n),t.child}var Ii,$i,Ui,Bi,qi={dehydrated:null,treeContext:null,retryLane:0};function Wi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hi(e,t,s){var n,a=t.pendingProps,l=ol.current,i=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&l)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Oa(ol,1&l),null===e)return yr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Hc(o,a,0,null),e=Wc(e,a,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Wi(s),t.memoizedState=qi,e):Vi(t,o));if(null!==(l=e.memoizedState)&&null!==(n=l.dehydrated))return function(e,t,s,n,a,l,i){if(s)return 256&t.flags?(t.flags&=-257,Qi(e,t,i,n=yi(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=Hc({mode:"visible",children:n.children},a,0,null),(l=Wc(l,a,i,null)).flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,0!==(1&t.mode)&&Pr(t,e.child,null,i),t.child.memoizedState=Wi(i),t.memoizedState=qi,l);if(0===(1&t.mode))return Qi(e,t,i,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var o=n.dgst;return n=o,Qi(e,t,i,n=yi(l=Error(r(419)),n,void 0))}if(o=0!==(i&e.childLanes),Ci||o){if(null!==(n=zo)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|i))?0:a)&&a!==l.retryLane&&(l.retryLane=a,qr(e,a),uc(n,e,a,-1))}return kc(),Qi(e,t,i,n=yi(Error(r(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,mr=ya(a.nextSibling),ur=t,pr=!0,hr=null,null!==e&&(sr[nr++]=rr,sr[nr++]=lr,sr[nr++]=ar,rr=e.id,lr=e.overflow,ar=t),t=Vi(t,n.children),t.flags|=4096,t)}(e,t,o,a,n,l,s);if(i){i=a.fallback,o=t.mode,n=(l=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Bc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==n?i=Bc(n,i):(i=Wc(i,o,s,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=null===(o=e.child.memoizedState)?Wi(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=qi,a}return e=(i=e.child).sibling,a=Bc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=s),a.return=t,a.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Vi(e,t){return(t=Hc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Qi(e,t,s,n){return null!==n&&wr(n),Pr(t,e.child,null,s),(e=Vi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ji(e,t,s){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Dr(e.return,t,s)}function Ki(e,t,s,n,a){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=s,r.tailMode=a)}function Yi(e,t,s){var n=t.pendingProps,a=n.revealOrder,r=n.tail;if(Ei(e,t,n.children,s),0!==(2&(n=ol.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ji(e,s,t);else if(19===e.tag)Ji(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oa(ol,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;null!==s;)null!==(e=s.alternate)&&null===cl(e)&&(a=s),s=s.sibling;null===(s=a)?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Ki(t,!1,a,s,r);break;case"backwards":for(s=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===cl(e)){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Ki(t,!0,s,null,r);break;case"together":Ki(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xi(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Ho|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(s=Bc(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Bc(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function Zi(e,t){if(!pr)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;null!==s;)null!==s.alternate&&(n=s),s=s.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function eo(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;null!==a;)s|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function to(e,t,s){var n=t.pendingProps;switch(dr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return eo(t),null;case 1:case 17:return Ua(t.type)&&Ba(),eo(t),null;case 3:return n=t.stateNode,rl(),Fa(za),Fa(Da),ul(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(br(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==hr&&(xc(hr),hr=null))),$i(e,t),eo(t),null;case 5:il(t);var a=nl(sl.current);if(s=t.type,null!==e&&null!=t.stateNode)Ui(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(r(166));return eo(t),null}if(e=nl(el.current),br(t)){n=t.stateNode,s=t.type;var l=t.memoizedProps;switch(n[ja]=t,n[Na]=l,e=0!==(1&t.mode),s){case"dialog":Jn("cancel",n),Jn("close",n);break;case"iframe":case"object":case"embed":Jn("load",n);break;case"video":case"audio":for(a=0;a<Wn.length;a++)Jn(Wn[a],n);break;case"source":Jn("error",n);break;case"img":case"image":case"link":Jn("error",n),Jn("load",n);break;case"details":Jn("toggle",n);break;case"input":Y(n,l),Jn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Jn("invalid",n);break;case"textarea":ae(n,l),Jn("invalid",n)}for(var o in ge(s,l),a=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?n.textContent!==c&&(!0!==l.suppressHydrationWarning&&ia(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&ia(n.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Jn("scroll",n)}switch(s){case"input":V(n),Z(n,l,!0);break;case"textarea":V(n),le(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=oa)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),"select"===s&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[ja]=t,e[Na]=n,Ii(e,t,!1,!1),t.stateNode=e;e:{switch(o=ye(s,n),s){case"dialog":Jn("cancel",e),Jn("close",e),a=n;break;case"iframe":case"object":case"embed":Jn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Wn.length;a++)Jn(Wn[a],e);a=n;break;case"source":Jn("error",e),a=n;break;case"img":case"image":case"link":Jn("error",e),Jn("load",e),a=n;break;case"details":Jn("toggle",e),a=n;break;case"input":Y(e,n),a=K(e,n),Jn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=D({},n,{value:void 0}),Jn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Jn("invalid",e)}for(l in ge(s,a),c=a)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?xe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&de(e,d):"children"===l?"string"===typeof d?("textarea"!==s||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Jn("scroll",e):null!=d&&v(e,l,d,o))}switch(s){case"input":V(e),Z(e,n,!1);break;case"textarea":V(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(l=n.value)?se(e,!!n.multiple,l,!1):null!=n.defaultValue&&se(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=oa)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return eo(t),null;case 6:if(e&&null!=t.stateNode)Bi(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(r(166));if(s=nl(sl.current),nl(el.current),br(t)){if(n=t.stateNode,s=t.memoizedProps,n[ja]=t,(l=n.nodeValue!==s)&&null!==(e=ur))switch(e.tag){case 3:ia(n.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ia(n.nodeValue,s,0!==(1&e.mode))}l&&(t.flags|=4)}else(n=(9===s.nodeType?s:s.ownerDocument).createTextNode(n))[ja]=t,t.stateNode=n}return eo(t),null;case 13:if(Fa(ol),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(pr&&null!==mr&&0!==(1&t.mode)&&0===(128&t.flags))jr(),Nr(),t.flags|=98560,l=!1;else if(l=br(t),null!==n&&null!==n.dehydrated){if(null===e){if(!l)throw Error(r(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(r(317));l[ja]=t}else Nr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;eo(t),l=!1}else null!==hr&&(xc(hr),hr=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ol.current)?0===qo&&(qo=3):kc())),null!==t.updateQueue&&(t.flags|=4),eo(t),null);case 4:return rl(),$i(e,t),null===e&&Gn(t.stateNode.containerInfo),eo(t),null;case 10:return Mr(t.type._context),eo(t),null;case 19:if(Fa(ol),null===(l=t.memoizedState))return eo(t),null;if(n=0!==(128&t.flags),null===(o=l.rendering))if(n)Zi(l,!1);else{if(0!==qo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=cl(e))){for(t.flags|=128,Zi(l,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;null!==s;)e=n,(l=s).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Oa(ol,1&ol.current|2),t.child}e=e.sibling}null!==l.tail&&rt()>Go&&(t.flags|=128,n=!0,Zi(l,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=cl(o))){if(t.flags|=128,n=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),Zi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!pr)return eo(t),null}else 2*rt()-l.renderingStartTime>Go&&1073741824!==s&&(t.flags|=128,n=!0,Zi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(s=l.last)?s.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rt(),t.sibling=null,s=ol.current,Oa(ol,n?1&s|2:1&s),t):(eo(t),null);case 22:case 23:return bc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Uo)&&(eo(t),6&t.subtreeFlags&&(t.flags|=8192)):eo(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function so(e,t){switch(dr(t),t.tag){case 1:return Ua(t.type)&&Ba(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return rl(),Fa(za),Fa(Da),ul(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return il(t),null;case 13:if(Fa(ol),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));Nr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Fa(ol),null;case 4:return rl(),null;case 10:return Mr(t.type._context),null;case 22:case 23:return bc(),null;default:return null}}Ii=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},$i=function(){},Ui=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,nl(el.current);var r,l=null;switch(s){case"input":a=K(e,a),n=K(e,n),l=[];break;case"select":a=D({},a,{value:void 0}),n=D({},n,{value:void 0}),l=[];break;case"textarea":a=ne(e,a),n=ne(e,n),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=oa)}for(d in ge(s,n),s=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var o=a[d];for(r in o)o.hasOwnProperty(r)&&(s||(s={}),s[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(r in o)!o.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(s||(s={}),s[r]="");for(r in c)c.hasOwnProperty(r)&&o[r]!==c[r]&&(s||(s={}),s[r]=c[r])}else s||(l||(l=[]),l.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Jn("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}s&&(l=l||[]).push("style",s);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Bi=function(e,t,s,n){s!==n&&(t.flags|=4)};var no=!1,ao=!1,ro="function"===typeof WeakSet?WeakSet:Set,lo=null;function io(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(Be){Lc(e,t,Be)}else s.current=null}function oo(e,t,s){try{s()}catch(Be){Lc(e,t,Be)}}var co=!1;function uo(e,t,s){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var r=a.destroy;a.destroy=void 0,void 0!==r&&oo(t,s,r)}a=a.next}while(a!==n)}}function mo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function po(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function ho(e){var t=e.alternate;null!==t&&(e.alternate=null,ho(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ja],delete t[Na],delete t[ka],delete t[Sa],delete t[_a])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xo(e){return 5===e.tag||3===e.tag||4===e.tag}function fo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function go(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=oa));else if(4!==n&&null!==(e=e.child))for(go(e,t,s),e=e.sibling;null!==e;)go(e,t,s),e=e.sibling}function yo(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==n&&null!==(e=e.child))for(yo(e,t,s),e=e.sibling;null!==e;)yo(e,t,s),e=e.sibling}var vo=null,bo=!1;function jo(e,t,s){for(s=s.child;null!==s;)No(e,t,s),s=s.sibling}function No(e,t,s){if(ht&&"function"===typeof ht.onCommitFiberUnmount)try{ht.onCommitFiberUnmount(pt,s)}catch(He){}switch(s.tag){case 5:ao||io(s,t);case 6:var n=vo,a=bo;vo=null,jo(e,t,s),bo=a,null!==(vo=n)&&(bo?(e=vo,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):vo.removeChild(s.stateNode));break;case 18:null!==vo&&(bo?(e=vo,s=s.stateNode,8===e.nodeType?ga(e.parentNode,s):1===e.nodeType&&ga(e,s),Gt(e)):ga(vo,s.stateNode));break;case 4:n=vo,a=bo,vo=s.stateNode.containerInfo,bo=!0,jo(e,t,s),vo=n,bo=a;break;case 0:case 11:case 14:case 15:if(!ao&&(null!==(n=s.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var r=a,l=r.destroy;r=r.tag,void 0!==l&&(0!==(2&r)||0!==(4&r))&&oo(s,t,l),a=a.next}while(a!==n)}jo(e,t,s);break;case 1:if(!ao&&(io(s,t),"function"===typeof(n=s.stateNode).componentWillUnmount))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(He){Lc(s,t,He)}jo(e,t,s);break;case 21:jo(e,t,s);break;case 22:1&s.mode?(ao=(n=ao)||null!==s.memoizedState,jo(e,t,s),ao=n):jo(e,t,s);break;default:jo(e,t,s)}}function wo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new ro),t.forEach(function(t){var n=Dc.bind(null,e,t);s.has(t)||(s.add(t),t.then(n,n))})}}function ko(e,t){var s=t.deletions;if(null!==s)for(var n=0;n<s.length;n++){var a=s[n];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:vo=o.stateNode,bo=!1;break e;case 3:case 4:vo=o.stateNode.containerInfo,bo=!0;break e}o=o.return}if(null===vo)throw Error(r(160));No(l,i,a),vo=null,bo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(Fe){Lc(a,t,Fe)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)So(t,e),t=t.sibling}function So(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ko(t,e),_o(e),4&n){try{uo(3,e,e.return),mo(3,e)}catch(Le){Lc(e,e.return,Le)}try{uo(5,e,e.return)}catch(Le){Lc(e,e.return,Le)}}break;case 1:ko(t,e),_o(e),512&n&&null!==s&&io(s,s.return);break;case 5:if(ko(t,e),_o(e),512&n&&null!==s&&io(s,s.return),32&e.flags){var a=e.stateNode;try{ue(a,"")}catch(Le){Lc(e,e.return,Le)}}if(4&n&&null!=(a=e.stateNode)){var l=e.memoizedProps,i=null!==s?s.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&G(a,l),ye(o,i);var d=ye(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?xe(a,m):"dangerouslySetInnerHTML"===u?de(a,m):"children"===u?ue(a,m):v(a,u,m,d)}switch(o){case"input":X(a,l);break;case"textarea":re(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var h=l.value;null!=h?se(a,!!l.multiple,h,!1):p!==!!l.multiple&&(null!=l.defaultValue?se(a,!!l.multiple,l.defaultValue,!0):se(a,!!l.multiple,l.multiple?[]:"",!1))}a[Na]=l}catch(Le){Lc(e,e.return,Le)}}break;case 6:if(ko(t,e),_o(e),4&n){if(null===e.stateNode)throw Error(r(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(Le){Lc(e,e.return,Le)}}break;case 3:if(ko(t,e),_o(e),4&n&&null!==s&&s.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(Le){Lc(e,e.return,Le)}break;case 4:default:ko(t,e),_o(e);break;case 13:ko(t,e),_o(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Yo=rt())),4&n&&wo(e);break;case 22:if(u=null!==s&&null!==s.memoizedState,1&e.mode?(ao=(d=ao)||u,ko(t,e),ao=d):ko(t,e),_o(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(lo=e,u=e.child;null!==u;){for(m=lo=u;null!==lo;){switch(h=(p=lo).child,p.tag){case 0:case 11:case 14:case 15:uo(4,p,p.return);break;case 1:io(p,p.return);var x=p.stateNode;if("function"===typeof x.componentWillUnmount){n=p,s=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(Le){Lc(n,s,Le)}}break;case 5:io(p,p.return);break;case 22:if(null!==p.memoizedState){To(m);continue}}null!==h?(h.return=p,lo=h):To(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=he("display",i))}catch(Le){Lc(e,e.return,Le)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(Le){Lc(e,e.return,Le)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ko(t,e),_o(e),4&n&&wo(e);case 21:}}function _o(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(xo(s)){var n=s;break e}s=s.return}throw Error(r(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(ue(a,""),n.flags&=-33),yo(e,fo(e),a);break;case 3:case 4:var l=n.stateNode.containerInfo;go(e,fo(e),l);break;default:throw Error(r(161))}}catch(dt){Lc(e,e.return,dt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Co(e,t,s){lo=e,Eo(e,t,s)}function Eo(e,t,s){for(var n=0!==(1&e.mode);null!==lo;){var a=lo,r=a.child;if(22===a.tag&&n){var l=null!==a.memoizedState||no;if(!l){var i=a.alternate,o=null!==i&&null!==i.memoizedState||ao;i=no;var c=ao;if(no=l,(ao=o)&&!c)for(lo=a;null!==lo;)o=(l=lo).child,22===l.tag&&null!==l.memoizedState?Ao(a):null!==o?(o.return=l,lo=o):Ao(a);for(;null!==r;)lo=r,Eo(r,t,s),r=r.sibling;lo=a,no=i,ao=c}Po(e)}else 0!==(8772&a.subtreeFlags)&&null!==r?(r.return=a,lo=r):Po(e)}}function Po(e){for(;null!==lo;){var t=lo;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ao||mo(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!ao)if(null===s)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:di(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Xr(t,l,n);break;case 3:var i=t.updateQueue;if(null!==i){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Xr(t,i,s)}break;case 5:var o=t.stateNode;if(null===s&&4&t.flags){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Gt(m)}}}break;default:throw Error(r(163))}ao||512&t.flags&&po(t)}catch(p){Lc(t,t.return,p)}}if(t===e){lo=null;break}if(null!==(s=t.sibling)){s.return=t.return,lo=s;break}lo=t.return}}function To(e){for(;null!==lo;){var t=lo;if(t===e){lo=null;break}var s=t.sibling;if(null!==s){s.return=t.return,lo=s;break}lo=t.return}}function Ao(e){for(;null!==lo;){var t=lo;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{mo(4,t)}catch(dt){Lc(t,s,dt)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(dt){Lc(t,a,dt)}}var r=t.return;try{po(t)}catch(dt){Lc(t,r,dt)}break;case 5:var l=t.return;try{po(t)}catch(dt){Lc(t,l,dt)}}}catch(dt){Lc(t,t.return,dt)}if(t===e){lo=null;break}var i=t.sibling;if(null!==i){i.return=t.return,lo=i;break}lo=t.return}}var Ro,Lo=Math.ceil,Fo=b.ReactCurrentDispatcher,Oo=b.ReactCurrentOwner,Mo=b.ReactCurrentBatchConfig,Do=0,zo=null,Io=null,$o=0,Uo=0,Bo=La(0),qo=0,Wo=null,Ho=0,Vo=0,Qo=0,Jo=null,Ko=null,Yo=0,Go=1/0,Xo=null,Zo=!1,ec=null,tc=null,sc=!1,nc=null,ac=0,rc=0,lc=null,ic=-1,oc=0;function cc(){return 0!==(6&Do)?rt():-1!==ic?ic:ic=rt()}function dc(e){return 0===(1&e.mode)?1:0!==(2&Do)&&0!==$o?$o&-$o:null!==kr.transition?(0===oc&&(oc=kt()),oc):0!==(e=Et)?e:e=void 0===(e=window.event)?16:rs(e.type)}function uc(e,t,s,n){if(50<rc)throw rc=0,lc=null,Error(r(185));_t(e,s,n),0!==(2&Do)&&e===zo||(e===zo&&(0===(2&Do)&&(Vo|=s),4===qo&&fc(e,$o)),mc(e,n),1===s&&0===Do&&0===(1&t.mode)&&(Go=rt()+500,Ja&&Ga()))}function mc(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,r=e.pendingLanes;0<r;){var l=31-xt(r),i=1<<l,o=a[l];-1===o?0!==(i&s)&&0===(i&n)||(a[l]=Nt(i,t)):o<=t&&(e.expiredLanes|=i),r&=~i}}(e,t);var n=jt(e,e===zo?$o:0);if(0===n)null!==s&&st(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=s&&st(s),1===t)0===e.tag?function(e){Ja=!0,Ya(e)}(gc.bind(null,e)):Ya(gc.bind(null,e)),xa(function(){0===(6&Do)&&Ga()}),s=null;else{switch(Pt(n)){case 1:s=it;break;case 4:s=ot;break;case 16:default:s=ct;break;case 536870912:s=mt}s=zc(s,pc.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function pc(e,t){if(ic=-1,oc=0,0!==(6&Do))throw Error(r(327));var s=e.callbackNode;if(Ac()&&e.callbackNode!==s)return null;var n=jt(e,e===zo?$o:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=Sc(e,n);else{t=n;var a=Do;Do|=2;var l=wc();for(zo===e&&$o===t||(Xo=null,Go=rt()+500,jc(e,t));;)try{Cc();break}catch(He){Nc(e,He)}Or(),Fo.current=l,Do=a,null!==Io?t=0:(zo=null,$o=0,t=qo)}if(0!==t){if(2===t&&(0!==(a=wt(e))&&(n=a,t=hc(e,a))),1===t)throw s=Wo,jc(e,0),fc(e,n),mc(e,rt()),s;if(6===t)fc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var n=0;n<s.length;n++){var a=s[n],r=a.getSnapshot;a=a.value;try{if(!fn(r(),a))return!1}catch(i){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Sc(e,n))&&(0!==(l=wt(e))&&(n=l,t=hc(e,l))),1===t))throw s=Wo,jc(e,0),fc(e,n),mc(e,rt()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(r(345));case 2:case 5:Tc(e,Ko,Xo);break;case 3:if(fc(e,n),(130023424&n)===n&&10<(t=Yo+500-rt())){if(0!==jt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){cc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ma(Tc.bind(null,e,Ko,Xo),t);break}Tc(e,Ko,Xo);break;case 4:if(fc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-xt(n);l=1<<i,(i=t[i])>a&&(a=i),n&=~l}if(n=a,10<(n=(120>(n=rt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Lo(n/1960))-n)){e.timeoutHandle=ma(Tc.bind(null,e,Ko,Xo),n);break}Tc(e,Ko,Xo);break;default:throw Error(r(329))}}}return mc(e,rt()),e.callbackNode===s?pc.bind(null,e):null}function hc(e,t){var s=Jo;return e.current.memoizedState.isDehydrated&&(jc(e,t).flags|=256),2!==(e=Sc(e,t))&&(t=Ko,Ko=s,null!==t&&xc(t)),e}function xc(e){null===Ko?Ko=e:Ko.push.apply(Ko,e)}function fc(e,t){for(t&=~Qo,t&=~Vo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-xt(t),n=1<<s;e[s]=-1,t&=~n}}function gc(e){if(0!==(6&Do))throw Error(r(327));Ac();var t=jt(e,0);if(0===(1&t))return mc(e,rt()),null;var s=Sc(e,t);if(0!==e.tag&&2===s){var n=wt(e);0!==n&&(t=n,s=hc(e,n))}if(1===s)throw s=Wo,jc(e,0),fc(e,t),mc(e,rt()),s;if(6===s)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,Ko,Xo),mc(e,rt()),null}function yc(e,t){var s=Do;Do|=1;try{return e(t)}finally{0===(Do=s)&&(Go=rt()+500,Ja&&Ga())}}function vc(e){null!==nc&&0===nc.tag&&0===(6&Do)&&Ac();var t=Do;Do|=1;var s=Mo.transition,n=Et;try{if(Mo.transition=null,Et=1,e)return e()}finally{Et=n,Mo.transition=s,0===(6&(Do=t))&&Ga()}}function bc(){Uo=Bo.current,Fa(Bo)}function jc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,pa(s)),null!==Io)for(s=Io.return;null!==s;){var n=s;switch(dr(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ba();break;case 3:rl(),Fa(za),Fa(Da),ul();break;case 5:il(n);break;case 4:rl();break;case 13:case 19:Fa(ol);break;case 10:Mr(n.type._context);break;case 22:case 23:bc()}s=s.return}if(zo=e,Io=e=Bc(e.current,null),$o=Uo=t,qo=0,Wo=null,Qo=Vo=Ho=0,Ko=Jo=null,null!==$r){for(t=0;t<$r.length;t++)if(null!==(n=(s=$r[t]).interleaved)){s.interleaved=null;var a=n.next,r=s.pending;if(null!==r){var l=r.next;r.next=a,n.next=l}s.pending=n}$r=null}return e}function Nc(e,t){for(;;){var s=Io;try{if(Or(),ml.current=li,yl){for(var n=xl.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}yl=!1}if(hl=0,gl=fl=xl=null,vl=!1,bl=0,Oo.current=null,null===s||null===s.return){qo=1,Wo=t,Io=null;break}e:{var l=e,i=s.return,o=s,c=t;if(t=$o,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=ki(i);if(null!==h){h.flags&=-257,Si(h,i,o,0,t),1&h.mode&&wi(l,d,t),c=d;var x=(t=h).updateQueue;if(null===x){var f=new Set;f.add(c),t.updateQueue=f}else x.add(c);break e}if(0===(1&t)){wi(l,d,t),kc();break e}c=Error(r(426))}else if(pr&&1&o.mode){var g=ki(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Si(g,i,o,0,t),wr(gi(c,o));break e}}l=c=gi(c,o),4!==qo&&(qo=2),null===Jo?Jo=[l]:Jo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Yr(l,ji(0,c,t));break e;case 1:o=c;var y=l.type,v=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===tc||!tc.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t,Yr(l,Ni(l,o,t));break e}}l=l.return}while(null!==l)}Pc(s)}catch(b){t=b,Io===s&&null!==s&&(Io=s=s.return);continue}break}}function wc(){var e=Fo.current;return Fo.current=li,null===e?li:e}function kc(){0!==qo&&3!==qo&&2!==qo||(qo=4),null===zo||0===(268435455&Ho)&&0===(268435455&Vo)||fc(zo,$o)}function Sc(e,t){var s=Do;Do|=2;var n=wc();for(zo===e&&$o===t||(Xo=null,jc(e,t));;)try{_c();break}catch(Re){Nc(e,Re)}if(Or(),Do=s,Fo.current=n,null!==Io)throw Error(r(261));return zo=null,$o=0,qo}function _c(){for(;null!==Io;)Ec(Io)}function Cc(){for(;null!==Io&&!nt();)Ec(Io)}function Ec(e){var t=Ro(e.alternate,e,Uo);e.memoizedProps=e.pendingProps,null===t?Pc(e):Io=t,Oo.current=null}function Pc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=to(s,t,Uo)))return void(Io=s)}else{if(null!==(s=so(s,t)))return s.flags&=32767,void(Io=s);if(null===e)return qo=6,void(Io=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Io=t);Io=t=e}while(null!==t);0===qo&&(qo=5)}function Tc(e,t,s){var n=Et,a=Mo.transition;try{Mo.transition=null,Et=1,function(e,t,s,n){do{Ac()}while(null!==nc);if(0!==(6&Do))throw Error(r(327));s=e.finishedWork;var a=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-xt(s),r=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~r}}(e,l),e===zo&&(Io=zo=null,$o=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||sc||(sc=!0,zc(ct,function(){return Ac(),null})),l=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||l){l=Mo.transition,Mo.transition=null;var i=Et;Et=1;var o=Do;Do|=4,Oo.current=null,function(e,t){if(ca=Zt,Nn(e=jn())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(n&&0!==n.rangeCount){s=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{s.nodeType,l.nodeType}catch(Je){s=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==s||0!==a&&3!==m.nodeType||(o=i+a),m!==l||0!==n&&3!==m.nodeType||(c=i+n),3===m.nodeType&&(i+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===s&&++d===a&&(o=i),p===l&&++u===n&&(c=i),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}s=-1===o||-1===c?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(da={focusedElem:e,selectionRange:s},Zt=!1,lo=t;null!==lo;)if(e=(t=lo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,lo=e;else for(;null!==lo;){t=lo;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var f=x.memoizedProps,g=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:di(t.type,f),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(r(163))}}catch(Je){Lc(t,t.return,Je)}if(null!==(e=t.sibling)){e.return=t.return,lo=e;break}lo=t.return}x=co,co=!1}(e,s),So(s,e),wn(da),Zt=!!ca,da=ca=null,e.current=s,Co(s,e,a),at(),Do=o,Et=i,Mo.transition=l}else e.current=s;if(sc&&(sc=!1,nc=e,ac=a),l=e.pendingLanes,0===l&&(tc=null),function(e){if(ht&&"function"===typeof ht.onCommitFiberRoot)try{ht.onCommitFiberRoot(pt,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),mc(e,rt()),null!==t)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(Zo)throw Zo=!1,e=ec,ec=null,e;0!==(1&ac)&&0!==e.tag&&Ac(),l=e.pendingLanes,0!==(1&l)?e===lc?rc++:(rc=0,lc=e):rc=0,Ga()}(e,t,s,n)}finally{Mo.transition=a,Et=n}return null}function Ac(){if(null!==nc){var e=Pt(ac),t=Mo.transition,s=Et;try{if(Mo.transition=null,Et=16>e?16:e,null===nc)var n=!1;else{if(e=nc,nc=null,ac=0,0!==(6&Do))throw Error(r(331));var a=Do;for(Do|=4,lo=e.current;null!==lo;){var l=lo,i=l.child;if(0!==(16&lo.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(lo=d;null!==lo;){var u=lo;switch(u.tag){case 0:case 11:case 15:uo(8,u,l)}var m=u.child;if(null!==m)m.return=u,lo=m;else for(;null!==lo;){var p=(u=lo).sibling,h=u.return;if(ho(u),u===d){lo=null;break}if(null!==p){p.return=h,lo=p;break}lo=h}}}var x=l.alternate;if(null!==x){var f=x.child;if(null!==f){x.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}lo=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,lo=i;else e:for(;null!==lo;){if(0!==(2048&(l=lo).flags))switch(l.tag){case 0:case 11:case 15:uo(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,lo=y;break e}lo=l.return}}var v=e.current;for(lo=v;null!==lo;){var b=(i=lo).child;if(0!==(2064&i.subtreeFlags)&&null!==b)b.return=i,lo=b;else e:for(i=v;null!==lo;){if(0!==(2048&(o=lo).flags))try{switch(o.tag){case 0:case 11:case 15:mo(9,o)}}catch(N){Lc(o,o.return,N)}if(o===i){lo=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,lo=j;break e}lo=o.return}}if(Do=a,Ga(),ht&&"function"===typeof ht.onPostCommitFiberRoot)try{ht.onPostCommitFiberRoot(pt,e)}catch(N){}n=!0}return n}finally{Et=s,Mo.transition=t}}return!1}function Rc(e,t,s){e=Jr(e,t=ji(0,t=gi(s,t),1),1),t=cc(),null!==e&&(_t(e,1,t),mc(e,t))}function Lc(e,t,s){if(3===e.tag)Rc(e,e,s);else for(;null!==t;){if(3===t.tag){Rc(t,e,s);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===tc||!tc.has(n))){t=Jr(t,e=Ni(t,e=gi(s,e),1),1),e=cc(),null!==t&&(_t(t,1,e),mc(t,e));break}}t=t.return}}function Fc(e,t,s){var n=e.pingCache;null!==n&&n.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&s,zo===e&&($o&s)===s&&(4===qo||3===qo&&(130023424&$o)===$o&&500>rt()-Yo?jc(e,0):Qo|=s),mc(e,t)}function Oc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=vt,0===(130023424&(vt<<=1))&&(vt=4194304)));var s=cc();null!==(e=qr(e,t))&&(_t(e,t,s),mc(e,s))}function Mc(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),Oc(e,s)}function Dc(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(r(314))}null!==n&&n.delete(t),Oc(e,s)}function zc(e,t){return tt(e,t)}function Ic(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $c(e,t,s,n){return new Ic(e,t,s,n)}function Uc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var s=e.alternate;return null===s?((s=$c(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function qc(e,t,s,n,a,l){var i=2;if(n=e,"function"===typeof e)Uc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Wc(s.children,a,l,t);case k:i=8,a|=8;break;case S:return(e=$c(12,s,t,2|a)).elementType=S,e.lanes=l,e;case P:return(e=$c(13,s,t,a)).elementType=P,e.lanes=l,e;case T:return(e=$c(19,s,t,a)).elementType=T,e.lanes=l,e;case L:return Hc(s,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:i=10;break e;case C:i=9;break e;case E:i=11;break e;case A:i=14;break e;case R:i=16,n=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=$c(i,s,t,a)).elementType=e,t.type=n,t.lanes=l,t}function Wc(e,t,s,n){return(e=$c(7,e,n,t)).lanes=s,e}function Hc(e,t,s,n){return(e=$c(22,e,n,t)).elementType=L,e.lanes=s,e.stateNode={isHidden:!1},e}function Vc(e,t,s){return(e=$c(6,e,null,t)).lanes=s,e}function Qc(e,t,s){return(t=$c(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jc(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=St(0),this.expirationTimes=St(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Kc(e,t,s,n,a,r,l,i,o){return e=new Jc(e,t,s,i,o),1===t?(t=1,!0===r&&(t|=8)):t=0,r=$c(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hr(r),e}function Yc(e){if(!e)return Ma;e:{if(Ye(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ua(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var s=e.type;if(Ua(s))return Wa(e,s,t)}return t}function Gc(e,t,s,n,a,r,l,i,o){return(e=Kc(s,n,!0,e,0,r,0,i,o)).context=Yc(null),s=e.current,(r=Qr(n=cc(),a=dc(s))).callback=void 0!==t&&null!==t?t:null,Jr(s,r,a),e.current.lanes=a,_t(e,a,n),mc(e,n),e}function Xc(e,t,s,n){var a=t.current,r=cc(),l=dc(a);return s=Yc(s),null===t.context?t.context=s:t.pendingContext=s,(t=Qr(r,l)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Jr(a,t,l))&&(uc(e,a,l,r),Kr(e,a,l)),l}function Zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}Ro=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||za.current)Ci=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return Ci=!1,function(e,t,s){switch(t.tag){case 3:Di(t),Nr();break;case 5:ll(t);break;case 1:Ua(t.type)&&Ha(t);break;case 4:al(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Oa(Ar,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Oa(ol,1&ol.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Hi(e,t,s):(Oa(ol,1&ol.current),null!==(e=Xi(e,t,s))?e.sibling:null);Oa(ol,1&ol.current);break;case 19:if(n=0!==(s&t.childLanes),0!==(128&e.flags)){if(n)return Yi(e,t,s);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Oa(ol,ol.current),n)break;return null;case 22:case 23:return t.lanes=0,Ri(e,t,s)}return Xi(e,t,s)}(e,t,s);Ci=0!==(131072&e.flags)}else Ci=!1,pr&&0!==(1048576&t.flags)&&or(t,tr,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gi(e,t),e=t.pendingProps;var a=$a(t,Da.current);zr(t,s),a=kl(null,t,n,e,a,s);var l=Sl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ua(n)?(l=!0,Ha(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Hr(t),a.updater=mi,t.stateNode=a,a._reactInternals=t,fi(t,n,e,s),t=Mi(null,t,n,!0,l,s)):(t.tag=0,pr&&l&&cr(t),Ei(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Gi(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Uc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===A)return 14}return 2}(n),e=di(n,e),a){case 0:t=Fi(null,t,n,e,s);break e;case 1:t=Oi(null,t,n,e,s);break e;case 11:t=Pi(null,t,n,e,s);break e;case 14:t=Ti(null,t,n,di(n.type,e),s);break e}throw Error(r(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Fi(e,t,n,a=t.elementType===n?a:di(n,a),s);case 1:return n=t.type,a=t.pendingProps,Oi(e,t,n,a=t.elementType===n?a:di(n,a),s);case 3:e:{if(Di(t),null===e)throw Error(r(387));n=t.pendingProps,a=(l=t.memoizedState).element,Vr(e,t),Gr(t,n,null,s);var i=t.memoizedState;if(n=i.element,l.isDehydrated){if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=zi(e,t,n,s,a=gi(Error(r(423)),t));break e}if(n!==a){t=zi(e,t,n,s,a=gi(Error(r(424)),t));break e}for(mr=ya(t.stateNode.containerInfo.firstChild),ur=t,pr=!0,hr=null,s=Tr(t,null,n,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(Nr(),n===a){t=Xi(e,t,s);break e}Ei(e,t,n,s)}t=t.child}return t;case 5:return ll(t),null===e&&yr(t),n=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,i=a.children,ua(n,a)?i=null:null!==l&&ua(n,l)&&(t.flags|=32),Li(e,t),Ei(e,t,i,s),t.child;case 6:return null===e&&yr(t),null;case 13:return Hi(e,t,s);case 4:return al(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Pr(t,null,n,s):Ei(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,Pi(e,t,n,a=t.elementType===n?a:di(n,a),s);case 7:return Ei(e,t,t.pendingProps,s),t.child;case 8:case 12:return Ei(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,Oa(Ar,n._currentValue),n._currentValue=i,null!==l)if(fn(l.value,i)){if(l.children===a.children&&!za.current){t=Xi(e,t,s);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===n){if(1===l.tag){(c=Qr(-1,s&-s)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=s,null!==(c=l.alternate)&&(c.lanes|=s),Dr(l.return,s,t),o.lanes|=s;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(r(341));i.lanes|=s,null!==(o=i.alternate)&&(o.lanes|=s),Dr(i,s,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}Ei(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,zr(t,s),n=n(a=Ir(a)),t.flags|=1,Ei(e,t,n,s),t.child;case 14:return a=di(n=t.type,t.pendingProps),Ti(e,t,n,a=di(n.type,a),s);case 15:return Ai(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:di(n,a),Gi(e,t),t.tag=1,Ua(n)?(e=!0,Ha(t)):e=!1,zr(t,s),hi(t,n,a),fi(t,n,a,s),Mi(null,t,n,!0,e,s);case 19:return Yi(e,t,s);case 22:return Ri(e,t,s)}throw Error(r(156,t.tag))};var sd="function"===typeof reportError?reportError:function(e){console.error(e)};function nd(e){this._internalRoot=e}function ad(e){this._internalRoot=e}function rd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ld(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function id(){}function od(e,t,s,n,a){var r=s._reactRootContainer;if(r){var l=r;if("function"===typeof a){var i=a;a=function(){var e=Zc(l);i.call(e)}}Xc(t,l,e,a)}else l=function(e,t,s,n,a){if(a){if("function"===typeof n){var r=n;n=function(){var e=Zc(l);r.call(e)}}var l=Gc(t,n,e,0,null,!1,0,"",id);return e._reactRootContainer=l,e[wa]=l.current,Gn(8===e.nodeType?e.parentNode:e),vc(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var i=n;n=function(){var e=Zc(o);i.call(e)}}var o=Kc(e,0,!1,null,0,!1,0,"",id);return e._reactRootContainer=o,e[wa]=o.current,Gn(8===e.nodeType?e.parentNode:e),vc(function(){Xc(t,o,s,n)}),o}(s,t,e,a,n);return Zc(l)}ad.prototype.render=nd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Xc(e,t,null,null)},ad.prototype.unmount=nd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vc(function(){Xc(null,e,null,null)}),t[wa]=null}},ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lt();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Bt.length&&0!==t&&t<Bt[s].priority;s++);Bt.splice(s,0,e),0===s&&Vt(e)}},Tt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=bt(t.pendingLanes);0!==s&&(Ct(t,1|s),mc(t,rt()),0===(6&Do)&&(Go=rt()+500,Ga()))}break;case 13:vc(function(){var t=qr(e,1);if(null!==t){var s=cc();uc(t,e,1,s)}}),td(e,1)}},At=function(e){if(13===e.tag){var t=qr(e,134217728);if(null!==t)uc(t,e,134217728,cc());td(e,134217728)}},Rt=function(e){if(13===e.tag){var t=dc(e),s=qr(e,t);if(null!==s)uc(s,e,t,cc());td(e,t)}},Lt=function(){return Et},Ft=function(e,t){var s=Et;try{return Et=e,t()}finally{Et=s}},je=function(e,t,s){switch(t){case"input":if(X(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=Ta(n);if(!a)throw Error(r(90));Q(n),X(n,a)}}}break;case"textarea":re(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},Ce=yc,Ee=vc;var cd={usingClientEntryPoint:!1,Events:[Ea,Pa,Ta,Se,_e,yc]},dd={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ud={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{pt=md.inject(ud),ht=md}catch(Oe){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cd,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rd(t))throw Error(r(200));return function(e,t,s){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==n?null:""+n,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!rd(e))throw Error(r(299));var s=!1,n="",a=sd;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Kc(e,1,!1,null,0,s,0,n,a),e[wa]=t.current,Gn(8===e.nodeType?e.parentNode:e),new nd(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e){return vc(e)},t.hydrate=function(e,t,s){if(!ld(t))throw Error(r(200));return od(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!rd(e))throw Error(r(405));var n=null!=s&&s.hydratedSources||null,a=!1,l="",i=sd;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(a=!0),void 0!==s.identifierPrefix&&(l=s.identifierPrefix),void 0!==s.onRecoverableError&&(i=s.onRecoverableError)),t=Gc(t,null,e,1,null!=s?s:null,a,0,l,i),e[wa]=t.current,Gn(e),n)for(e=0;e<n.length;e++)a=(a=(s=n[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new ad(t)},t.render=function(e,t,s){if(!ld(t))throw Error(r(200));return od(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!ld(e))throw Error(r(40));return!!e._reactRootContainer&&(vc(function(){od(null,null,e,!1,function(){e._reactRootContainer=null,e[wa]=null})}),!0)},t.unstable_batchedUpdates=yc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!ld(s))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return od(e,t,s,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,s)=>{e.exports=s(234)},950:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(730)}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var r=Object.create(null);s.r(r);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>l[e]=()=>n[e]);return l.default=()=>n,s.d(r,l),r}})(),s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};s.r(n),s.d(n,{hasBrowserEnv:()=>Os,hasStandardBrowserEnv:()=>Ds,hasStandardBrowserWebWorkerEnv:()=>zs,navigator:()=>Ms,origin:()=>Is});var a,r=s(43),l=s.t(r,2),i=s(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Re){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,s,n){return void 0===s&&(s=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:s,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function x(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function f(e,t,s,n){void 0===n&&(n={});let{window:r=document.defaultView,v5Compat:l=!1}=n,i=r.history,u=a.Pop,x=null,f=g();function g(){return(i.state||{idx:null}).idx}function y(){u=a.Pop;let e=g(),t=null==e?null:e-f;f=e,x&&x({action:u,location:b.location,delta:t})}function v(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,s="string"===typeof e?e:h(e);return s=s.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==f&&(f=0,i.replaceState(o({},i.state,{idx:f}),""));let b={get action(){return u},get location(){return e(r,i)},listen(e){if(x)throw new Error("A history only accepts one active listener");return r.addEventListener(c,y),x=e,()=>{r.removeEventListener(c,y),x=null}},createHref:e=>t(r,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=a.Push;let n=p(b.location,e,t);s&&s(n,e),f=g()+1;let o=m(n,f),c=b.createHref(n);try{i.pushState(o,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;r.location.assign(c)}l&&x&&x({action:u,location:b.location,delta:1})},replace:function(e,t){u=a.Replace;let n=p(b.location,e,t);s&&s(n,e),f=g();let r=m(n,f),o=b.createHref(n);i.replaceState(r,"",o),l&&x&&x({action:u,location:b.location,delta:0})},go:e=>i.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,s){return void 0===s&&(s="/"),v(e,t,s,!1)}function v(e,t,s,n){let a=L(("string"===typeof t?x(t):t).pathname||"/",s);if(null==a)return null;let r=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let l=null;for(let i=0;null==l&&i<r.length;++i){let e=R(a);l=T(r[i],e,n)}return l}function b(e,t,s,n){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===n&&(n="");let a=(e,a,r)=>{let l={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};l.relativePath.startsWith("/")&&(d(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(n.length));let i=z([n,l.relativePath]),o=s.concat(l);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),b(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:P(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let n of j(e.path))a(e,t,n);else a(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[s,...n]=t,a=s.endsWith("?"),r=s.replace(/\?$/,"");if(0===n.length)return a?[r,""]:[r];let l=j(n.join("/")),i=[];return i.push(...l.map(e=>""===e?r:[r,e].join("/"))),a&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,w=3,k=2,S=1,_=10,C=-2,E=e=>"*"===e;function P(e,t){let s=e.split("/"),n=s.length;return s.some(E)&&(n+=C),t&&(n+=k),s.filter(e=>!E(e)).reduce((e,t)=>e+(N.test(t)?w:""===t?S:_),n)}function T(e,t,s){void 0===s&&(s=!1);let{routesMeta:n}=e,a={},r="/",l=[];for(let i=0;i<n.length;++i){let e=n[i],o=i===n.length-1,c="/"===r?t:t.slice(r.length)||"/",d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&s&&!n[n.length-1].route.index&&(d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:z([r,d.pathname]),pathnameBase:I(z([r,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(r=z([r,d.pathnameBase]))}return l}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(n.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let r=new RegExp(a,t?void 0:"i");return[r,n]}(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let r=a[0],l=r.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:n.reduce((e,t,s)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=i[s]||"";l=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[s];return e[n]=a&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:r,pathnameBase:l,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&"/"!==n?null:e.slice(s)||"/"}function F(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let s=O(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function D(e,t,s,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=x(e):(a=o({},e),d(!a.pathname||!a.pathname.includes("?"),F("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),F("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),F("#","search","hash",a)));let r,l=""===e||""===a.pathname,i=l?"/":a.pathname;if(null==i)r=s;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}r=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:s,search:n="",hash:a=""}="string"===typeof e?x(e):e,r=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:r,search:$(n),hash:U(a)}}(a,r),u=i&&"/"!==i&&i.endsWith("/"),m=(l||"."===i)&&s.endsWith("/");return c.pathname.endsWith("/")||!u&&!m||(c.pathname+="/"),c}const z=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],W=(new Set(q),["get",...q]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},H.apply(this,arguments)}const V=r.createContext(null);const Q=r.createContext(null);const J=r.createContext(null);const K=r.createContext(null);const Y=r.createContext({outlet:null,matches:[],isDataRoute:!1});const G=r.createContext(null);function X(){return null!=r.useContext(K)}function Z(){return X()||d(!1),r.useContext(K).location}function ee(e){r.useContext(J).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(Y);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=pe(de.UseNavigateStable),s=r.useRef(!1);return ee(()=>{s.current=!0}),r.useCallback(function(n,a){void 0===a&&(a={}),s.current&&("number"===typeof n?e.navigate(n):e.navigate(n,H({fromRouteId:t},a)))},[e,t])}():function(){X()||d(!1);let e=r.useContext(V),{basename:t,future:s,navigator:n}=r.useContext(J),{matches:a}=r.useContext(Y),{pathname:l}=Z(),i=JSON.stringify(M(a,s.v7_relativeSplatPath)),o=r.useRef(!1);return ee(()=>{o.current=!0}),r.useCallback(function(s,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof s)return void n.go(s);let r=D(s,JSON.parse(i),l,"path"===a.relative);null==e&&"/"!==t&&(r.pathname="/"===r.pathname?t:z([t,r.pathname])),(a.replace?n.replace:n.push)(r,a.state,a)},[t,n,i,l,e])}()}function se(e,t){let{relative:s}=void 0===t?{}:t,{future:n}=r.useContext(J),{matches:a}=r.useContext(Y),{pathname:l}=Z(),i=JSON.stringify(M(a,n.v7_relativeSplatPath));return r.useMemo(()=>D(e,JSON.parse(i),l,"path"===s),[e,i,l,s])}function ne(e,t,s,n){X()||d(!1);let{navigator:l}=r.useContext(J),{matches:i}=r.useContext(Y),o=i[i.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,p=Z();if(t){var h;let e="string"===typeof t?x(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||d(!1),m=e}else m=p;let f=m.pathname||"/",g=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=y(e,{pathname:g});let b=oe(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:z([u,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:z([u,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,s,n);return t&&b?r.createElement(K.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:a.Pop}},b):b}function ae(){let e=function(){var e;let t=r.useContext(G),s=me(de.UseRouteError),n=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=s.errors)?void 0:e[n]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),s?r.createElement("pre",{style:a},s):null,null)}const re=r.createElement(ae,null);class le extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Y.Provider,{value:this.props.routeContext},r.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:s,children:n}=e,a=r.useContext(V);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),r.createElement(Y.Provider,{value:t},n)}function oe(e,t,s,n){var a;if(void 0===t&&(t=[]),void 0===s&&(s=null),void 0===n&&(n=null),null==e){var l;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(l=n)&&l.v7_partialHydration&&0===t.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let i=e,o=null==(a=s)?void 0:a.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(s&&n&&n.v7_partialHydration)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:n}=s,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,n,a)=>{let l,d=!1,m=null,p=null;var h;s&&(l=o&&n.route.id?o[n.route.id]:void 0,m=n.route.errorElement||re,c&&(u<0&&0===a?(h="route-fallback",!1||he[h]||(he[h]=!0),d=!0,p=null):u===a&&(d=!0,p=n.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,a+1)),f=()=>{let t;return t=l?m:d?p:n.route.Component?r.createElement(n.route.Component,null):n.route.element?n.route.element:e,r.createElement(ie,{match:n,routeContext:{outlet:e,matches:x,isDataRoute:null!=s},children:t})};return s&&(n.route.ErrorBoundary||n.route.errorElement||0===a)?r.createElement(le,{location:s.location,revalidation:s.revalidation,component:m,error:l,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let t=r.useContext(V);return t||d(!1),t}function me(e){let t=r.useContext(Q);return t||d(!1),t}function pe(e){let t=function(){let e=r.useContext(Y);return e||d(!1),e}(),s=t.matches[t.matches.length-1];return s.route.id||d(!1),s.route.id}const he={};function xe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function fe(e){d(!1)}function ge(e){let{basename:t="/",children:s=null,location:n,navigationType:l=a.Pop,navigator:i,static:o=!1,future:c}=e;X()&&d(!1);let u=t.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:u,navigator:i,static:o,future:H({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);"string"===typeof n&&(n=x(n));let{pathname:p="/",search:h="",hash:f="",state:g=null,key:y="default"}=n,v=r.useMemo(()=>{let e=L(p,u);return null==e?null:{location:{pathname:e,search:h,hash:f,state:g,key:y},navigationType:l}},[u,p,h,f,g,y,l]);return null==v?null:r.createElement(J.Provider,{value:m},r.createElement(K.Provider,{children:s,value:v}))}function ye(e){let{children:t,location:s}=e;return ne(ve(t),s)}new Promise(()=>{});r.Component;function ve(e,t){void 0===t&&(t=[]);let s=[];return r.Children.forEach(e,(e,n)=>{if(!r.isValidElement(e))return;let a=[...t,n];if(e.type===r.Fragment)return void s.push.apply(s,ve(e.props.children,a));e.type!==fe&&d(!1),e.props.index&&e.props.children&&d(!1);let l={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=ve(e.props.children,a)),s.push(l)}),s}var be=s(950),je=s.t(be,2);function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ne.apply(this,arguments)}function we(e,t){if(null==e)return{};var s,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Re){}new Map;const Se=l.startTransition;je.flushSync,l.useId;function _e(e){let{basename:t,children:s,future:n,window:a}=e,l=r.useRef();var i;null==l.current&&(l.current=(void 0===(i={window:a,v5Compat:!0})&&(i={}),f(function(e,t){let{pathname:s,search:n,hash:a}=e.location;return p("",{pathname:s,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,i)));let o=l.current,[c,d]=r.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},m=r.useCallback(e=>{u&&Se?Se(()=>d(e)):d(e)},[d,u]);return r.useLayoutEffect(()=>o.listen(m),[o,m]),r.useEffect(()=>xe(n),[n]),r.createElement(ge,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:o,future:n})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=r.forwardRef(function(e,t){let s,{onClick:n,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:u,preventScrollReset:m,viewTransition:p}=e,x=we(e,ke),{basename:f}=r.useContext(J),g=!1;if("string"===typeof u&&Ee.test(u)&&(s=u,Ce))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),s=L(t.pathname,f);t.origin===e.origin&&null!=s?u=s+t.search+t.hash:g=!0}catch(Re){}let y=function(e,t){let{relative:s}=void 0===t?{}:t;X()||d(!1);let{basename:n,navigator:a}=r.useContext(J),{hash:l,pathname:i,search:o}=se(e,{relative:s}),c=i;return"/"!==n&&(c="/"===i?n:z([n,i])),a.createHref({pathname:c,search:o,hash:l})}(u,{relative:a}),v=function(e,t){let{target:s,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o}=void 0===t?{}:t,c=te(),d=Z(),u=se(e,{relative:i});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,s)){t.preventDefault();let s=void 0!==n?n:h(d)===h(u);c(e,{replace:s,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,n,a,s,e,l,i,o])}(u,{replace:i,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:p});return r.createElement("a",Ne({},x,{href:s||y,onClick:g||l?n:function(e){n&&n(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var Te,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));let Re={data:""},Le=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Re,Fe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Oe=/\/\*[^]*?\*\/|  +/g,Me=/\n+/g,De=(e,t)=>{let s="",n="",a="";for(let r in e){let l=e[r];"@"==r[0]?"i"==r[1]?s=r+" "+l+";":n+="f"==r[1]?De(l,r):r+"{"+De(l,"k"==r[1]?"":t)+"}":"object"==typeof l?n+=De(l,t?t.replace(/([^,])+/g,e=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):r):null!=l&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=De.p?De.p(r,l):r+":"+l+";")}return s+(t&&a?t+"{"+a+"}":a)+n},ze={},Ie=e=>{if("object"==typeof e){let t="";for(let s in e)t+=s+Ie(e[s]);return t}return e},$e=(e,t,s,n,a)=>{let r=Ie(e),l=ze[r]||(ze[r]=(e=>{let t=0,s=11;for(;t<e.length;)s=101*s+e.charCodeAt(t++)>>>0;return"go"+s})(r));if(!ze[l]){let t=r!==e?e:(e=>{let t,s,n=[{}];for(;t=Fe.exec(e.replace(Oe,""));)t[4]?n.shift():t[3]?(s=t[3].replace(Me," ").trim(),n.unshift(n[0][s]=n[0][s]||{})):n[0][t[1]]=t[2].replace(Me," ").trim();return n[0]})(e);ze[l]=De(a?{["@keyframes "+l]:t}:t,s?"":"."+l)}let i=s&&ze.g?ze.g:null;return s&&(ze.g=ze[l]),((e,t,s,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=s?e+t.data:t.data+e)})(ze[l],t,n,i),l};function Ue(e){let t=this||{},s=e.call?e(t.p):e;return $e(s.unshift?s.raw?((e,t,s)=>e.reduce((e,n,a)=>{let r=t[a];if(r&&r.call){let e=r(s),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;r=t?"."+t:e&&"object"==typeof e?e.props?"":De(e,""):!1===e?"":e}return e+n+(null==r?"":r)},""))(s,[].slice.call(arguments,1),t.p):s.reduce((e,s)=>Object.assign(e,s&&s.call?s(t.p):s),{}):s,Le(t.target),t.g,t.o,t.k)}Ue.bind({g:1});let Be,qe,We,He=Ue.bind({k:1});function Ve(e,t){let s=this||{};return function(){let n=arguments;function a(r,l){let i=Object.assign({},r),o=i.className||a.className;s.p=Object.assign({theme:qe&&qe()},i),s.o=/ *go\d+/.test(o),i.className=Ue.apply(s,n)+(o?" "+o:""),t&&(i.ref=l);let c=e;return e[0]&&(c=i.as||e,delete i.as),We&&c[0]&&We(i),Be(c,i)}return t?t(a):a}}var Qe=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Je=(()=>{let e=0;return()=>(++e).toString()})(),Ke=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ye=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:s}=t;return Ye(e,{type:e.toasts.find(e=>e.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+a}))}}},Ge=[],Xe={toasts:[],pausedAt:void 0},Ze=e=>{Xe=Ye(Xe,e),Ge.forEach(e=>{e(Xe)})},et={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},tt=e=>(t,s)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",s=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(null==s?void 0:s.id)||Je()}}(t,e,s);return Ze({type:2,toast:n}),n.id},st=(e,t)=>tt("blank")(e,t);st.error=tt("error"),st.success=tt("success"),st.loading=tt("loading"),st.custom=tt("custom"),st.dismiss=e=>{Ze({type:3,toastId:e})},st.remove=e=>Ze({type:4,toastId:e}),st.promise=(e,t,s)=>{let n=st.loading(t.loading,{...s,...null==s?void 0:s.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?Qe(t.success,e):void 0;return a?st.success(a,{id:n,...s,...null==s?void 0:s.success}):st.dismiss(n),e}).catch(e=>{let a=t.error?Qe(t.error,e):void 0;a?st.error(a,{id:n,...s,...null==s?void 0:s.error}):st.dismiss(n)}),e};var nt=(e,t)=>{Ze({type:1,toast:{id:e,height:t}})},at=()=>{Ze({type:5,time:Date.now()})},rt=new Map,lt=e=>{let{toasts:t,pausedAt:s}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,s]=(0,r.useState)(Xe),n=(0,r.useRef)(Xe);(0,r.useEffect)(()=>(n.current!==Xe&&s(Xe),Ge.push(s),()=>{let e=Ge.indexOf(s);e>-1&&Ge.splice(e,1)}),[]);let a=t.toasts.map(t=>{var s,n,a;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(s=e[t.type])?void 0:s.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||et[t.type],style:{...e.style,...null==(a=e[t.type])?void 0:a.style,...t.style}}});return{...t,toasts:a}}(e);(0,r.useEffect)(()=>{if(s)return;let e=Date.now(),n=t.map(t=>{if(t.duration===1/0)return;let s=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(s<0))return setTimeout(()=>st.dismiss(t.id),s);t.visible&&st.dismiss(t.id)});return()=>{n.forEach(e=>e&&clearTimeout(e))}},[t,s]);let n=(0,r.useCallback)(()=>{s&&Ze({type:6,time:Date.now()})},[s]),a=(0,r.useCallback)((e,s)=>{let{reverseOrder:n=!1,gutter:a=8,defaultPosition:r}=s||{},l=t.filter(t=>(t.position||r)===(e.position||r)&&t.height),i=l.findIndex(t=>t.id===e.id),o=l.filter((e,t)=>t<i&&e.visible).length;return l.filter(e=>e.visible).slice(...n?[o+1]:[0,o]).reduce((e,t)=>e+(t.height||0)+a,0)},[t]);return(0,r.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(rt.has(e))return;let s=setTimeout(()=>{rt.delete(e),Ze({type:4,toastId:e})},t);rt.set(e,s)}(e.id,e.removeDelay);else{let t=rt.get(e.id);t&&(clearTimeout(t),rt.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:nt,startPause:at,endPause:n,calculateOffset:a}}},it=He`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ot=He`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ct=He`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,dt=Ve("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${it} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ot} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ct} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ut=He`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,mt=Ve("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ut} 1s linear infinite;
`,pt=He`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ht=He`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,xt=Ve("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ht} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ft=Ve("div")`
  position: absolute;
`,gt=Ve("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yt=He`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vt=Ve("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yt} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,bt=e=>{let{toast:t}=e,{icon:s,type:n,iconTheme:a}=t;return void 0!==s?"string"==typeof s?r.createElement(vt,null,s):s:"blank"===n?null:r.createElement(gt,null,r.createElement(mt,{...a}),"loading"!==n&&r.createElement(ft,null,"error"===n?r.createElement(dt,{...a}):r.createElement(xt,{...a})))},jt=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Nt=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,wt=Ve("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kt=Ve("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,St=r.memo(e=>{let{toast:t,position:s,style:n,children:a}=e,l=t.height?((e,t)=>{let s=e.includes("top")?1:-1,[n,a]=Ke()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[jt(s),Nt(s)];return{animation:t?`${He(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${He(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||s||"top-center",t.visible):{opacity:0},i=r.createElement(bt,{toast:t}),o=r.createElement(kt,{...t.ariaProps},Qe(t.message,t));return r.createElement(wt,{className:t.className,style:{...l,...n,...t.style}},"function"==typeof a?a({icon:i,message:o}):r.createElement(r.Fragment,null,i,o))});!function(e,t,s,n){De.p=t,Be=e,qe=s,We=n}(r.createElement);var _t=e=>{let{id:t,className:s,style:n,onHeightUpdate:a,children:l}=e,i=r.useCallback(e=>{if(e){let s=()=>{let s=e.getBoundingClientRect().height;a(t,s)};s(),new MutationObserver(s).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return r.createElement("div",{ref:i,className:s,style:n},l)},Ct=Ue`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Et=e=>{let{reverseOrder:t,position:s="top-center",toastOptions:n,gutter:a,children:l,containerStyle:i,containerClassName:o}=e,{toasts:c,handlers:d}=lt(n);return r.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...i},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(e=>{let n=e.position||s,i=((e,t)=>{let s=e.includes("top"),n=s?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ke()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...n,...a}})(n,d.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:s}));return r.createElement(_t,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?Ct:"",style:i},"custom"===e.type?Qe(e.message,e):l?l(e):r.createElement(St,{toast:e,position:n}))}))},Pt=st;function Tt(e,t){return function(){return e.apply(t,arguments)}}const{toString:At}=Object.prototype,{getPrototypeOf:Rt}=Object,{iterator:Lt,toStringTag:Ft}=Symbol,Ot=(Mt=Object.create(null),e=>{const t=At.call(e);return Mt[t]||(Mt[t]=t.slice(8,-1).toLowerCase())});var Mt;const Dt=e=>(e=e.toLowerCase(),t=>Ot(t)===e),zt=e=>t=>typeof t===e,{isArray:It}=Array,$t=zt("undefined");function Ut(e){return null!==e&&!$t(e)&&null!==e.constructor&&!$t(e.constructor)&&Wt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Bt=Dt("ArrayBuffer");const qt=zt("string"),Wt=zt("function"),Ht=zt("number"),Vt=e=>null!==e&&"object"===typeof e,Qt=e=>{if("object"!==Ot(e))return!1;const t=Rt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ft in e)&&!(Lt in e)},Jt=Dt("Date"),Kt=Dt("File"),Yt=Dt("Blob"),Gt=Dt("FileList"),Xt=Dt("URLSearchParams"),[Zt,es,ts,ss]=["ReadableStream","Request","Response","Headers"].map(Dt);function ns(e,t){let s,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),It(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(Ut(e))return;const n=a?Object.getOwnPropertyNames(e):Object.keys(e),r=n.length;let l;for(s=0;s<r;s++)l=n[s],t.call(null,e[l],l,e)}}function as(e,t){if(Ut(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n,a=s.length;for(;a-- >0;)if(n=s[a],t===n.toLowerCase())return n;return null}const rs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ls=e=>!$t(e)&&e!==rs;const is=(os="undefined"!==typeof Uint8Array&&Rt(Uint8Array),e=>os&&e instanceof os);var os;const cs=Dt("HTMLFormElement"),ds=(e=>{let{hasOwnProperty:t}=e;return(e,s)=>t.call(e,s)})(Object.prototype),us=Dt("RegExp"),ms=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};ns(s,(s,a)=>{let r;!1!==(r=t(s,a,e))&&(n[a]=r||s)}),Object.defineProperties(e,n)};const ps=Dt("AsyncFunction"),hs=((e,t)=>{return e?setImmediate:t?(s=`axios@${Math.random()}`,n=[],rs.addEventListener("message",e=>{let{source:t,data:a}=e;t===rs&&a===s&&n.length&&n.shift()()},!1),e=>{n.push(e),rs.postMessage(s,"*")}):e=>setTimeout(e);var s,n})("function"===typeof setImmediate,Wt(rs.postMessage)),xs="undefined"!==typeof queueMicrotask?queueMicrotask.bind(rs):"undefined"!==typeof process&&process.nextTick||hs,fs={isArray:It,isArrayBuffer:Bt,isBuffer:Ut,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Wt(e.append)&&("formdata"===(t=Ot(e))||"object"===t&&Wt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Bt(e.buffer),t},isString:qt,isNumber:Ht,isBoolean:e=>!0===e||!1===e,isObject:Vt,isPlainObject:Qt,isEmptyObject:e=>{if(!Vt(e)||Ut(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Re){return!1}},isReadableStream:Zt,isRequest:es,isResponse:ts,isHeaders:ss,isUndefined:$t,isDate:Jt,isFile:Kt,isBlob:Yt,isRegExp:us,isFunction:Wt,isStream:e=>Vt(e)&&Wt(e.pipe),isURLSearchParams:Xt,isTypedArray:is,isFileList:Gt,forEach:ns,merge:function e(){const{caseless:t}=ls(this)&&this||{},s={},n=(n,a)=>{const r=t&&as(s,a)||a;Qt(s[r])&&Qt(n)?s[r]=e(s[r],n):Qt(n)?s[r]=e({},n):It(n)?s[r]=n.slice():s[r]=n};for(let a=0,r=arguments.length;a<r;a++)arguments[a]&&ns(arguments[a],n);return s},extend:function(e,t,s){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ns(t,(t,n)=>{s&&Wt(t)?e[n]=Tt(t,s):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,n)=>{let a,r,l;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),r=a.length;r-- >0;)l=a[r],n&&!n(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==s&&Rt(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:Ot,kindOfTest:Dt,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return-1!==n&&n===s},toArray:e=>{if(!e)return null;if(It(e))return e;let t=e.length;if(!Ht(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[Lt]).call(e);let n;for(;(n=s.next())&&!n.done;){const s=n.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const n=[];for(;null!==(s=e.exec(t));)n.push(s);return n},isHTMLForm:cs,hasOwnProperty:ds,hasOwnProp:ds,reduceDescriptors:ms,freezeMethods:e=>{ms(e,(t,s)=>{if(Wt(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const n=e[s];Wt(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet:(e,t)=>{const s={},n=e=>{e.forEach(e=>{s[e]=!0})};return It(e)?n(e):n(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,s){return t.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:as,global:rs,isContextDefined:ls,isSpecCompliantForm:function(e){return!!(e&&Wt(e.append)&&"FormData"===e[Ft]&&e[Lt])},toJSONObject:e=>{const t=new Array(10),s=(e,n)=>{if(Vt(e)){if(t.indexOf(e)>=0)return;if(Ut(e))return e;if(!("toJSON"in e)){t[n]=e;const a=It(e)?[]:{};return ns(e,(e,t)=>{const r=s(e,n+1);!$t(r)&&(a[t]=r)}),t[n]=void 0,a}}return e};return s(e,0)},isAsyncFn:ps,isThenable:e=>e&&(Vt(e)||Wt(e))&&Wt(e.then)&&Wt(e.catch),setImmediate:hs,asap:xs,isIterable:e=>null!=e&&Wt(e[Lt])};function gs(e,t,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}fs.inherits(gs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fs.toJSONObject(this.config),code:this.code,status:this.status}}});const ys=gs.prototype,vs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vs[e]={value:e}}),Object.defineProperties(gs,vs),Object.defineProperty(ys,"isAxiosError",{value:!0}),gs.from=(e,t,s,n,a,r)=>{const l=Object.create(ys);return fs.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),gs.call(l,e.message,t,s,n,a),l.cause=e,l.name=e.name,r&&Object.assign(l,r),l};const bs=gs;function js(e){return fs.isPlainObject(e)||fs.isArray(e)}function Ns(e){return fs.endsWith(e,"[]")?e.slice(0,-2):e}function ws(e,t,s){return e?e.concat(t).map(function(e,t){return e=Ns(e),!s&&t?"["+e+"]":e}).join(s?".":""):t}const ks=fs.toFlatObject(fs,{},null,function(e){return/^is[A-Z]/.test(e)});const Ss=function(e,t,s){if(!fs.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(s=fs.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!fs.isUndefined(t[e])})).metaTokens,a=s.visitor||c,r=s.dots,l=s.indexes,i=(s.Blob||"undefined"!==typeof Blob&&Blob)&&fs.isSpecCompliantForm(t);if(!fs.isFunction(a))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(fs.isDate(e))return e.toISOString();if(fs.isBoolean(e))return e.toString();if(!i&&fs.isBlob(e))throw new bs("Blob is not supported. Use a Buffer instead.");return fs.isArrayBuffer(e)||fs.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,a){let i=e;if(e&&!a&&"object"===typeof e)if(fs.endsWith(s,"{}"))s=n?s:s.slice(0,-2),e=JSON.stringify(e);else if(fs.isArray(e)&&function(e){return fs.isArray(e)&&!e.some(js)}(e)||(fs.isFileList(e)||fs.endsWith(s,"[]"))&&(i=fs.toArray(e)))return s=Ns(s),i.forEach(function(e,n){!fs.isUndefined(e)&&null!==e&&t.append(!0===l?ws([s],n,r):null===l?s:s+"[]",o(e))}),!1;return!!js(e)||(t.append(ws(a,s,r),o(e)),!1)}const d=[],u=Object.assign(ks,{defaultVisitor:c,convertValue:o,isVisitable:js});if(!fs.isObject(e))throw new TypeError("data must be an object");return function e(s,n){if(!fs.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+n.join("."));d.push(s),fs.forEach(s,function(s,r){!0===(!(fs.isUndefined(s)||null===s)&&a.call(t,s,fs.isString(r)?r.trim():r,n,u))&&e(s,n?n.concat(r):[r])}),d.pop()}}(e),t};function _s(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Cs(e,t){this._pairs=[],e&&Ss(e,this,t)}const Es=Cs.prototype;Es.append=function(e,t){this._pairs.push([e,t])},Es.toString=function(e){const t=e?function(t){return e.call(this,t,_s)}:_s;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Ps=Cs;function Ts(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function As(e,t,s){if(!t)return e;const n=s&&s.encode||Ts;fs.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let r;if(r=a?a(t,s):fs.isURLSearchParams(t)?t.toString():new Ps(t,s).toString(n),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const Rs=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){fs.forEach(this.handlers,function(t){null!==t&&e(t)})}},Ls={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fs={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ps,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Os="undefined"!==typeof window&&"undefined"!==typeof document,Ms="object"===typeof navigator&&navigator||void 0,Ds=Os&&(!Ms||["ReactNative","NativeScript","NS"].indexOf(Ms.product)<0),zs="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Is=Os&&window.location.href||"http://localhost",$s={...n,...Fs};const Us=function(e){function t(e,s,n,a){let r=e[a++];if("__proto__"===r)return!0;const l=Number.isFinite(+r),i=a>=e.length;if(r=!r&&fs.isArray(n)?n.length:r,i)return fs.hasOwnProp(n,r)?n[r]=[n[r],s]:n[r]=s,!l;n[r]&&fs.isObject(n[r])||(n[r]=[]);return t(e,s,n[r],a)&&fs.isArray(n[r])&&(n[r]=function(e){const t={},s=Object.keys(e);let n;const a=s.length;let r;for(n=0;n<a;n++)r=s[n],t[r]=e[r];return t}(n[r])),!l}if(fs.isFormData(e)&&fs.isFunction(e.entries)){const s={};return fs.forEachEntry(e,(e,n)=>{t(function(e){return fs.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,s,0)}),s}return null};const Bs={transitional:Ls,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",n=s.indexOf("application/json")>-1,a=fs.isObject(e);a&&fs.isHTMLForm(e)&&(e=new FormData(e));if(fs.isFormData(e))return n?JSON.stringify(Us(e)):e;if(fs.isArrayBuffer(e)||fs.isBuffer(e)||fs.isStream(e)||fs.isFile(e)||fs.isBlob(e)||fs.isReadableStream(e))return e;if(fs.isArrayBufferView(e))return e.buffer;if(fs.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ss(e,new $s.classes.URLSearchParams,{visitor:function(e,t,s,n){return $s.isNode&&fs.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((r=fs.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ss(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,s){if(fs.isString(e))try{return(t||JSON.parse)(e),fs.trim(e)}catch(Re){if("SyntaxError"!==Re.name)throw Re}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Bs.transitional,s=t&&t.forcedJSONParsing,n="json"===this.responseType;if(fs.isResponse(e)||fs.isReadableStream(e))return e;if(e&&fs.isString(e)&&(s&&!this.responseType||n)){const s=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(Re){if(s){if("SyntaxError"===Re.name)throw bs.from(Re,bs.ERR_BAD_RESPONSE,this,null,this.response);throw Re}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$s.classes.FormData,Blob:$s.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fs.forEach(["delete","get","head","post","put","patch"],e=>{Bs.headers[e]={}});const qs=Bs,Ws=fs.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hs=Symbol("internals");function Vs(e){return e&&String(e).trim().toLowerCase()}function Qs(e){return!1===e||null==e?e:fs.isArray(e)?e.map(Qs):String(e)}function Js(e,t,s,n,a){return fs.isFunction(n)?n.call(this,t,s):(a&&(t=s),fs.isString(t)?fs.isString(n)?-1!==t.indexOf(n):fs.isRegExp(n)?n.test(t):void 0:void 0)}class Ks{constructor(e){e&&this.set(e)}set(e,t,s){const n=this;function a(e,t,s){const a=Vs(t);if(!a)throw new Error("header name must be a non-empty string");const r=fs.findKey(n,a);(!r||void 0===n[r]||!0===s||void 0===s&&!1!==n[r])&&(n[r||t]=Qs(e))}const r=(e,t)=>fs.forEach(e,(e,s)=>a(e,s,t));if(fs.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(fs.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let s,n,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),s=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!s||t[s]&&Ws[s]||("set-cookie"===s?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t})(e),t);else if(fs.isObject(e)&&fs.isIterable(e)){let s,n,a={};for(const t of e){if(!fs.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[n=t[0]]=(s=a[n])?fs.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}r(a,t)}else null!=e&&a(t,e,s);return this}get(e,t){if(e=Vs(e)){const s=fs.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}(e);if(fs.isFunction(t))return t.call(this,e,s);if(fs.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Vs(e)){const s=fs.findKey(this,e);return!(!s||void 0===this[s]||t&&!Js(0,this[s],s,t))}return!1}delete(e,t){const s=this;let n=!1;function a(e){if(e=Vs(e)){const a=fs.findKey(s,e);!a||t&&!Js(0,s[a],a,t)||(delete s[a],n=!0)}}return fs.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let s=t.length,n=!1;for(;s--;){const a=t[s];e&&!Js(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,s={};return fs.forEach(this,(n,a)=>{const r=fs.findKey(s,a);if(r)return t[r]=Qs(n),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}(a):String(a).trim();l!==a&&delete t[a],t[l]=Qs(n),s[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return fs.forEach(this,(s,n)=>{null!=s&&!1!==s&&(t[n]=e&&fs.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,s]=e;return t+": "+s}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var s=arguments.length,n=new Array(s>1?s-1:0),a=1;a<s;a++)n[a-1]=arguments[a];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Hs]=this[Hs]={accessors:{}}).accessors,s=this.prototype;function n(e){const n=Vs(e);t[n]||(!function(e,t){const s=fs.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(e,s,a){return this[n].call(this,t,e,s,a)},configurable:!0})})}(s,e),t[n]=!0)}return fs.isArray(e)?e.forEach(n):n(e),this}}Ks.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),fs.reduceDescriptors(Ks.prototype,(e,t)=>{let{value:s}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(e){this[n]=e}}}),fs.freezeMethods(Ks);const Ys=Ks;function Gs(e,t){const s=this||qs,n=t||s,a=Ys.from(n.headers);let r=n.data;return fs.forEach(e,function(e){r=e.call(s,r,a.normalize(),t?t.status:void 0)}),a.normalize(),r}function Xs(e){return!(!e||!e.__CANCEL__)}function Zs(e,t,s){bs.call(this,null==e?"canceled":e,bs.ERR_CANCELED,t,s),this.name="CanceledError"}fs.inherits(Zs,bs,{__CANCEL__:!0});const en=Zs;function tn(e,t,s){const n=s.config.validateStatus;s.status&&n&&!n(s.status)?t(new bs("Request failed with status code "+s.status,[bs.ERR_BAD_REQUEST,bs.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const sn=function(e,t){e=e||10;const s=new Array(e),n=new Array(e);let a,r=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=n[l];a||(a=o),s[r]=i,n[r]=o;let d=l,u=0;for(;d!==r;)u+=s[d++],d%=e;if(r=(r+1)%e,r===l&&(l=(l+1)%e),o-a<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const nn=function(e,t){let s,n,a=0,r=1e3/t;const l=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=r,s=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=r?l(o,e):(s=o,n||(n=setTimeout(()=>{n=null,l(s)},r-t)))},()=>s&&l(s)]},an=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=sn(50,250);return nn(s=>{const r=s.loaded,l=s.lengthComputable?s.total:void 0,i=r-n,o=a(i);n=r;e({loaded:r,total:l,progress:l?r/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&r<=l?(l-r)/o:void 0,event:s,lengthComputable:null!=l,[t?"download":"upload"]:!0})},s)},rn=(e,t)=>{const s=null!=e;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},ln=e=>function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return fs.asap(()=>e(...s))},on=$s.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,$s.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL($s.origin),$s.navigator&&/(msie|trident)/i.test($s.navigator.userAgent)):()=>!0,cn=$s.hasStandardBrowserEnv?{write(e,t,s,n,a,r){const l=[e+"="+encodeURIComponent(t)];fs.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),fs.isString(n)&&l.push("path="+n),fs.isString(a)&&l.push("domain="+a),!0===r&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function dn(e,t,s){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const un=e=>e instanceof Ys?{...e}:e;function mn(e,t){t=t||{};const s={};function n(e,t,s,n){return fs.isPlainObject(e)&&fs.isPlainObject(t)?fs.merge.call({caseless:n},e,t):fs.isPlainObject(t)?fs.merge({},t):fs.isArray(t)?t.slice():t}function a(e,t,s,a){return fs.isUndefined(t)?fs.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function r(e,t){if(!fs.isUndefined(t))return n(void 0,t)}function l(e,t){return fs.isUndefined(t)?fs.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function i(s,a,r){return r in t?n(s,a):r in e?n(void 0,s):void 0}const o={url:r,method:r,data:r,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,s)=>a(un(e),un(t),0,!0)};return fs.forEach(Object.keys({...e,...t}),function(n){const r=o[n]||a,l=r(e[n],t[n],n);fs.isUndefined(l)&&r!==i||(s[n]=l)}),s}const pn=e=>{const t=mn({},e);let s,{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=Ys.from(i),t.url=As(dn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),fs.isFormData(n))if($s.hasStandardBrowserEnv||$s.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map(e=>e.trim()).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if($s.hasStandardBrowserEnv&&(a&&fs.isFunction(a)&&(a=a(t)),a||!1!==a&&on(t.url))){const e=r&&l&&cn.read(l);e&&i.set(r,e)}return t},hn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,s){const n=pn(e);let a=n.data;const r=Ys.from(n.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=n;function h(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let x=new XMLHttpRequest;function f(){if(!x)return;const n=Ys.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());tn(function(e){t(e),h()},function(e){s(e),h()},{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:n,config:e,request:x}),x=null}x.open(n.method.toUpperCase(),n.url,!0),x.timeout=n.timeout,"onloadend"in x?x.onloadend=f:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(f)},x.onabort=function(){x&&(s(new bs("Request aborted",bs.ECONNABORTED,e,x)),x=null)},x.onerror=function(){s(new bs("Network Error",bs.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||Ls;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),s(new bs(t,a.clarifyTimeoutError?bs.ETIMEDOUT:bs.ECONNABORTED,e,x)),x=null},void 0===a&&r.setContentType(null),"setRequestHeader"in x&&fs.forEach(r.toJSON(),function(e,t){x.setRequestHeader(t,e)}),fs.isUndefined(n.withCredentials)||(x.withCredentials=!!n.withCredentials),u&&"json"!==u&&(x.responseType=n.responseType),p&&([o,d]=an(p,!0),x.addEventListener("progress",o)),m&&x.upload&&([i,c]=an(m),x.upload.addEventListener("progress",i),x.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(l=t=>{x&&(s(!t||t.type?new en(null,e,x):t),x.abort(),x=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);g&&-1===$s.protocols.indexOf(g)?s(new bs("Unsupported protocol "+g+":",bs.ERR_BAD_REQUEST,e)):x.send(a||null)})},xn=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,n=new AbortController;const a=function(e){if(!s){s=!0,l();const t=e instanceof Error?e:this.reason;n.abort(t instanceof bs?t:new en(t instanceof Error?t.message:t))}};let r=t&&setTimeout(()=>{r=null,a(new bs(`timeout ${t} of ms exceeded`,bs.ETIMEDOUT))},t);const l=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:i}=n;return i.unsubscribe=()=>fs.asap(l),i}},fn=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let n,a=0;for(;a<s;)n=a+t,yield e.slice(a,n),a=n},gn=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},yn=(e,t,s,n)=>{const a=async function*(e,t){for await(const s of gn(e))yield*fn(s,t)}(e,t);let r,l=0,i=e=>{r||(r=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return i(),void e.close();let r=n.byteLength;if(s){let e=l+=r;s(e)}e.enqueue(new Uint8Array(n))}catch(t){throw i(t),t}},cancel:e=>(i(e),a.return())},{highWaterMark:2})},vn="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,bn=vn&&"function"===typeof ReadableStream,jn=vn&&("function"===typeof TextEncoder?(Nn=new TextEncoder,e=>Nn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Nn;const wn=function(e){try{for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return!!e(...s)}catch(Re){return!1}},kn=bn&&wn(()=>{let e=!1;const t=new Request($s.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Sn=bn&&wn(()=>fs.isReadableStream(new Response("").body)),_n={stream:Sn&&(e=>e.body)};var Cn;vn&&(Cn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!_n[e]&&(_n[e]=fs.isFunction(Cn[e])?t=>t[e]():(t,s)=>{throw new bs(`Response type '${e}' is not supported`,bs.ERR_NOT_SUPPORT,s)})}));const En=async(e,t)=>{const s=fs.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(fs.isBlob(e))return e.size;if(fs.isSpecCompliantForm(e)){const t=new Request($s.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return fs.isArrayBufferView(e)||fs.isArrayBuffer(e)?e.byteLength:(fs.isURLSearchParams(e)&&(e+=""),fs.isString(e)?(await jn(e)).byteLength:void 0)})(t):s},Pn=vn&&(async e=>{let{url:t,method:s,data:n,signal:a,cancelToken:r,timeout:l,onDownloadProgress:i,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=pn(e);c=c?(c+"").toLowerCase():"text";let p,h=xn([a,r&&r.toAbortSignal()],l);const x=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let f;try{if(o&&kn&&"get"!==s&&"head"!==s&&0!==(f=await En(d,n))){let e,s=new Request(t,{method:"POST",body:n,duplex:"half"});if(fs.isFormData(n)&&(e=s.headers.get("content-type"))&&d.setContentType(e),s.body){const[e,t]=rn(f,an(ln(o)));n=yn(s.body,65536,e,t)}}fs.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;p=new Request(t,{...m,signal:h,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:a?u:void 0});let r=await fetch(p,m);const l=Sn&&("stream"===c||"response"===c);if(Sn&&(i||l&&x)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=r[t]});const t=fs.toFiniteNumber(r.headers.get("content-length")),[s,n]=i&&rn(t,an(ln(i),!0))||[];r=new Response(yn(r.body,65536,s,()=>{n&&n(),x&&x()}),e)}c=c||"text";let g=await _n[fs.findKey(_n,c)||"text"](r,e);return!l&&x&&x(),await new Promise((t,s)=>{tn(t,s,{data:g,headers:Ys.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:p})})}catch(g){if(x&&x(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new bs("Network Error",bs.ERR_NETWORK,e,p),{cause:g.cause||g});throw bs.from(g,g&&g.code,e,p)}}),Tn={http:null,xhr:hn,fetch:Pn};fs.forEach(Tn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Re){}Object.defineProperty(e,"adapterName",{value:t})}});const An=e=>`- ${e}`,Rn=e=>fs.isFunction(e)||null===e||!1===e,Ln=e=>{e=fs.isArray(e)?e:[e];const{length:t}=e;let s,n;const a={};for(let r=0;r<t;r++){let t;if(s=e[r],n=s,!Rn(s)&&(n=Tn[(t=String(s)).toLowerCase()],void 0===n))throw new bs(`Unknown adapter '${t}'`);if(n)break;a[t||"#"+r]=n}if(!n){const e=Object.entries(a).map(e=>{let[t,s]=e;return`adapter ${t} `+(!1===s?"is not supported by the environment":"is not available in the build")});let s=t?e.length>1?"since :\n"+e.map(An).join("\n"):" "+An(e[0]):"as no adapter specified";throw new bs("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n};function Fn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new en(null,e)}function On(e){Fn(e),e.headers=Ys.from(e.headers),e.data=Gs.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ln(e.adapter||qs.adapter)(e).then(function(t){return Fn(e),t.data=Gs.call(e,e.transformResponse,t),t.headers=Ys.from(t.headers),t},function(t){return Xs(t)||(Fn(e),t&&t.response&&(t.response.data=Gs.call(e,e.transformResponse,t.response),t.response.headers=Ys.from(t.response.headers))),Promise.reject(t)})}const Mn="1.11.0",Dn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Dn[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const zn={};Dn.transitional=function(e,t,s){function n(e,t){return"[Axios v"+Mn+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,a,r)=>{if(!1===e)throw new bs(n(a," has been removed"+(t?" in "+t:"")),bs.ERR_DEPRECATED);return t&&!zn[a]&&(zn[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,a,r)}},Dn.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};const In={assertOptions:function(e,t,s){if("object"!==typeof e)throw new bs("options must be an object",bs.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const r=n[a],l=t[r];if(l){const t=e[r],s=void 0===t||l(t,r,e);if(!0!==s)throw new bs("option "+r+" must be "+s,bs.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new bs("Unknown option "+r,bs.ERR_BAD_OPTION)}},validators:Dn},$n=In.validators;class Un{constructor(e){this.defaults=e||{},this.interceptors={request:new Rs,response:new Rs}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(Re){}}throw s}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=mn(this.defaults,t);const{transitional:s,paramsSerializer:n,headers:a}=t;void 0!==s&&In.assertOptions(s,{silentJSONParsing:$n.transitional($n.boolean),forcedJSONParsing:$n.transitional($n.boolean),clarifyTimeoutError:$n.transitional($n.boolean)},!1),null!=n&&(fs.isFunction(n)?t.paramsSerializer={serialize:n}:In.assertOptions(n,{encode:$n.function,serialize:$n.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),In.assertOptions(t,{baseUrl:$n.spelling("baseURL"),withXsrfToken:$n.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=a&&fs.merge(a.common,a[t.method]);a&&fs.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Ys.concat(r,a);const l=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[On.bind(this),void 0];for(e.unshift(...l),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=On.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return As(dn((e=mn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}fs.forEach(["delete","get","head","options"],function(e){Un.prototype[e]=function(t,s){return this.request(mn(s||{},{method:e,url:t,data:(s||{}).data}))}}),fs.forEach(["post","put","patch"],function(e){function t(t){return function(s,n,a){return this.request(mn(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:n}))}}Un.prototype[e]=t(),Un.prototype[e+"Form"]=t(!0)});const Bn=Un;class qn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{s.subscribe(e),t=e}).then(e);return n.cancel=function(){s.unsubscribe(t)},n},e(function(e,n,a){s.reason||(s.reason=new en(e,n,a),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new qn(function(t){e=t});return{token:t,cancel:e}}}const Wn=qn;const Hn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hn).forEach(e=>{let[t,s]=e;Hn[s]=t});const Vn=Hn;const Qn=function e(t){const s=new Bn(t),n=Tt(Bn.prototype.request,s);return fs.extend(n,Bn.prototype,s,{allOwnKeys:!0}),fs.extend(n,s,null,{allOwnKeys:!0}),n.create=function(s){return e(mn(t,s))},n}(qs);Qn.Axios=Bn,Qn.CanceledError=en,Qn.CancelToken=Wn,Qn.isCancel=Xs,Qn.VERSION=Mn,Qn.toFormData=Ss,Qn.AxiosError=bs,Qn.Cancel=Qn.CanceledError,Qn.all=function(e){return Promise.all(e)},Qn.spread=function(e){return function(t){return e.apply(null,t)}},Qn.isAxiosError=function(e){return fs.isObject(e)&&!0===e.isAxiosError},Qn.mergeConfig=mn,Qn.AxiosHeaders=Ys,Qn.formToJSON=e=>Us(fs.isHTMLForm(e)?new FormData(e):e),Qn.getAdapter=Ln,Qn.HttpStatusCode=Vn,Qn.default=Qn;const Jn=Qn;var Kn=s(579);const Yn=(0,r.createContext)(),Gn=()=>{const e=(0,r.useContext)(Yn);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Xn=e=>{let{children:t}=e;const[s,n]=(0,r.useState)(null),[a,l]=(0,r.useState)(!0),[i,o]=(0,r.useState)(localStorage.getItem("token")),c="https://d90eaae8-ec2e-41a4-a8e7-e61f976a5052.preview.emergentagent.com";(0,r.useEffect)(()=>{i?Jn.defaults.headers.common.Authorization=`Bearer ${i}`:delete Jn.defaults.headers.common.Authorization},[i]),(0,r.useEffect)(()=>{(async()=>{if(console.log("\ud83d\udd0d AuthContext: Checking authentication, token:",i?"present":"absent"),i)try{console.log("\ud83d\udd0d AuthContext: Making request to /api/auth/me");const e=await Jn.get(`${c}/api/auth/me`);console.log("\u2705 AuthContext: User data received:",e.data),n(e.data)}catch(e){console.error("\u274c AuthContext: Token validation failed:",e),console.log("\ud83d\udd04 AuthContext: Attempting token refresh...");(await u()).success||(console.log("\u274c AuthContext: Token refresh failed, clearing auth"),localStorage.removeItem("token"),o(null),n(null))}else console.log("\ud83d\udd0d AuthContext: No token present");console.log("\u2705 AuthContext: Authentication check complete, setting loading to false"),l(!1)})()},[i,c]);const d=async()=>{try{i&&await Jn.post(`${c}/api/auth/logout`)}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("token"),o(null),n(null)}},u=async()=>{try{const e=await Jn.post(`${c}/api/auth/refresh`),{access_token:t}=e.data;return localStorage.setItem("token",t),o(t),{success:!0}}catch(e){return console.error("Token refresh error:",e),d(),{success:!1}}},m={user:s,loading:a,login:async(e,t)=>{try{console.log("\ud83d\udd10 AuthContext: Starting login process for username:",e);const s=await Jn.post(`${c}/api/auth/login`,{username:e,password:t});console.log("\u2705 AuthContext: Login response received:",s.data);const{access_token:a}=s.data;console.log("\ud83d\udcbe AuthContext: Storing token in localStorage"),localStorage.setItem("token",a),o(a),console.log("\ud83d\udc64 AuthContext: Fetching user info");const r=await Jn.get(`${c}/api/auth/me`,{headers:{Authorization:`Bearer ${a}`}});return console.log("\u2705 AuthContext: User info received:",r.data),n(r.data),console.log("\ud83c\udf89 AuthContext: Login successful"),{success:!0}}catch(r){var s,a;return console.error("\u274c AuthContext: Login error:",r),{success:!1,error:(null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.detail)||"Login failed"}}},register:async(e,t,s,a)=>{try{const r=await Jn.post(`${c}/api/auth/register`,{username:e,email:t,password:s,full_name:a}),{access_token:l}=r.data;localStorage.setItem("token",l),o(l);const i=await Jn.get(`${c}/api/auth/me`,{headers:{Authorization:`Bearer ${l}`}});return n(i.data),{success:!0}}catch(i){var r,l;return console.error("Registration error:",i),{success:!1,error:(null===(r=i.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.detail)||"Registration failed"}}},logout:d,refreshToken:u,isAuthenticated:!!s};return(0,Kn.jsx)(Yn.Provider,{value:m,children:t})};var Zn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ea=(e,t)=>{const s=(0,r.forwardRef)((s,n)=>{let{color:a="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,...u}=s;return(0,r.createElement)("svg",{ref:n,...Zn,width:l,height:l,stroke:a,strokeWidth:o?24*Number(i)/Number(l):i,className:["lucide",`lucide-${m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,c].join(" "),...u},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]]);var m});return s.displayName=`${e}`,s},ta=ea("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),sa=ea("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),na=ea("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),aa=ea("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ra=ea("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),la=ea("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),ia=ea("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),oa=()=>{const[e,t]=(0,r.useState)(!0),[s,n]=(0,r.useState)({username:"",email:"",password:"",fullName:""}),[a,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),{login:c,register:d}=Gn(),u=e=>{n({...s,[e.target.name]:e.target.value})},m=()=>{t(!e),n({username:"",email:"",password:"",fullName:""})};return(0,Kn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Kn.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("div",{className:"mx-auto h-12 w-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,Kn.jsx)(ta,{className:"h-6 w-6 text-white"})}),(0,Kn.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:e?"Sign in to your account":"Create your account"}),(0,Kn.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:e?(0,Kn.jsxs)(Kn.Fragment,{children:["Don't have an account?"," ",(0,Kn.jsx)("button",{onClick:m,className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]}):(0,Kn.jsxs)(Kn.Fragment,{children:["Already have an account?"," ",(0,Kn.jsx)("button",{onClick:m,className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]}),(0,Kn.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),console.log("\ud83d\udd04 AuthForm: Form submitted, starting authentication process"),o(!0);try{let t;e?(console.log("\ud83d\udd10 AuthForm: Calling login function"),t=await c(s.username,s.password)):(console.log("\ud83d\udcdd AuthForm: Calling register function"),t=await d(s.username,s.email,s.password,s.fullName)),console.log("\ud83d\udcca AuthForm: Authentication result:",t),t.success?(console.log("\u2705 AuthForm: Authentication successful"),Pt.success(e?"Login successful!":"Registration successful!")):(console.error("\u274c AuthForm: Authentication failed:",t.error),Pt.error(t.error))}catch(n){console.error("\u274c AuthForm: Unexpected error:",n),Pt.error("An unexpected error occurred")}finally{console.log("\ud83d\udd04 AuthForm: Setting loading to false"),o(!1)}},children:[(0,Kn.jsxs)("div",{className:"space-y-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,Kn.jsxs)("div",{className:"mt-1 relative",children:[(0,Kn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,Kn.jsx)(sa,{className:"h-5 w-5 text-gray-400"})}),(0,Kn.jsx)("input",{id:"username",name:"username",type:"text",required:!0,value:s.username,onChange:u,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Username"})]})]}),!e&&(0,Kn.jsxs)(Kn.Fragment,{children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Kn.jsxs)("div",{className:"mt-1 relative",children:[(0,Kn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,Kn.jsx)(ta,{className:"h-5 w-5 text-gray-400"})}),(0,Kn.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:u,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,Kn.jsxs)("div",{className:"mt-1 relative",children:[(0,Kn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,Kn.jsx)(sa,{className:"h-5 w-5 text-gray-400"})}),(0,Kn.jsx)("input",{id:"fullName",name:"fullName",type:"text",value:s.fullName,onChange:u,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Full Name (optional)"})]})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,Kn.jsxs)("div",{className:"mt-1 relative",children:[(0,Kn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,Kn.jsx)(na,{className:"h-5 w-5 text-gray-400"})}),(0,Kn.jsx)("input",{id:"password",name:"password",type:a?"text":"password",required:!0,value:s.password,onChange:u,className:"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password"}),(0,Kn.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!a),children:a?(0,Kn.jsx)(aa,{className:"h-5 w-5 text-gray-400"}):(0,Kn.jsx)(ra,{className:"h-5 w-5 text-gray-400"})})]})]})]}),(0,Kn.jsx)("div",{children:(0,Kn.jsxs)("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Kn.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:e?(0,Kn.jsx)(la,{className:"h-5 w-5 text-blue-300 group-hover:text-blue-200"}):(0,Kn.jsx)(ia,{className:"h-5 w-5 text-blue-300 group-hover:text-blue-200"})}),i?"Processing...":e?"Sign in":"Sign up"]})})]})]})})},ca=ea("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),da=ea("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),ua=ea("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),ma=ea("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),pa=ea("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ha=ea("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),xa=ea("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),fa=ea("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),ga=ea("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ya=ea("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),va=ea("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),ba=ea("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ja=ea("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Na=ea("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),wa=ea("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ka=ea("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sa=ea("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),_a=e=>{let{children:t}=e;const[s,n]=(0,r.useState)(!1),a=Z(),{user:l,logout:i}=Gn(),o=[{name:"Dashboard",href:"/",icon:ca,color:"from-blue-500 to-blue-600"},{name:"AI Agent",href:"/ai-agent",icon:da,color:"from-violet-500 to-violet-600"},{name:"Real-Time",href:"/real-time",icon:ua,color:"from-red-500 to-red-600"},{name:"Email Processing",href:"/email-processing",icon:ta,color:"from-emerald-500 to-emerald-600"},{name:"Campaigns",href:"/campaigns",icon:ma,color:"from-purple-500 to-purple-600"},{name:"Prospects",href:"/prospects",icon:pa,color:"from-green-500 to-green-600"},{name:"Lists",href:"/lists",icon:ha,color:"from-indigo-500 to-indigo-600"},{name:"Templates",href:"/templates",icon:xa,color:"from-orange-500 to-orange-600"},{name:"Intents",href:"/intents",icon:fa,color:"from-pink-500 to-pink-600"},{name:"Analytics",href:"/analytics",icon:ga,color:"from-indigo-500 to-indigo-600"},{name:"Email Providers",href:"/email-providers",icon:ya,color:"from-cyan-500 to-cyan-600"},{name:"Knowledge Base",href:"/knowledge-base",icon:va,color:"from-teal-500 to-teal-600"},{name:"System Prompts",href:"/system-prompts",icon:ba,color:"from-amber-500 to-amber-600"},{name:"Response Verification",href:"/response-verification",icon:ja,color:"from-rose-500 to-rose-600"}],c=e=>a.pathname===e;return(0,Kn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50",children:(0,Kn.jsxs)("div",{className:"flex h-screen",children:[(0,Kn.jsx)("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/80 backdrop-blur-sm shadow-sm border-b border-gray-100",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl",children:(0,Kn.jsx)(Na,{className:"h-5 w-5 text-white"})}),(0,Kn.jsx)("h1",{className:"text-xl font-bold gradient-text",children:"AI Email Responder"})]}),(0,Kn.jsx)("button",{onClick:()=>n(!0),className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors",children:(0,Kn.jsx)(wa,{className:"h-6 w-6"})})]})}),(0,Kn.jsxs)("div",{className:`\n          fixed inset-y-0 left-0 z-50 w-72 bg-white/80 backdrop-blur-xl shadow-2xl transform transition-transform duration-300 ease-in-out border-r border-gray-100\n          ${s?"translate-x-0":"-translate-x-full"}\n          lg:translate-x-0 lg:relative lg:flex lg:flex-col overflow-hidden\n        `,children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,Kn.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg flex-shrink-0",children:(0,Kn.jsx)(Na,{className:"h-6 w-6 text-white"})}),(0,Kn.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Kn.jsx)("h1",{className:"text-xl font-bold gradient-text truncate",children:"AI Email Responder"}),(0,Kn.jsx)("p",{className:"text-xs text-gray-500 truncate",children:"Powered by AI"})]})]}),(0,Kn.jsx)("button",{onClick:()=>n(!1),className:"lg:hidden p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors flex-shrink-0",children:(0,Kn.jsx)(ka,{className:"h-5 w-5"})})]}),(0,Kn.jsx)("nav",{className:"p-4 space-y-2 flex-1 overflow-y-auto",children:o.map(e=>{const t=e.icon;return(0,Kn.jsxs)(Pe,{to:e.href,onClick:()=>n(!1),className:`\n                    flex items-center px-4 py-3 text-sm font-medium transition-all duration-200 rounded-xl group min-w-0\n                    ${c(e.href)?"bg-gradient-to-r from-blue-50 to-purple-50 text-blue-700 shadow-sm border border-blue-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}\n                  `,children:[(0,Kn.jsx)("div",{className:`\n                    p-2 rounded-lg mr-3 transition-all duration-200 flex-shrink-0\n                    ${c(e.href)?`bg-gradient-to-r ${e.color} text-white shadow-md`:"bg-gray-100 text-gray-500 group-hover:bg-gray-200"}\n                  `,children:(0,Kn.jsx)(t,{className:"h-4 w-4"})}),(0,Kn.jsx)("span",{className:"font-medium truncate flex-1",children:e.name}),c(e.href)&&(0,Kn.jsx)("div",{className:"ml-auto w-2 h-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex-shrink-0"})]},e.name)})}),(0,Kn.jsxs)("div",{className:"p-4 border-t border-gray-100 space-y-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-xl",children:[(0,Kn.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg",children:(0,Kn.jsx)(sa,{className:"h-4 w-4 text-white"})}),(0,Kn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:(null===l||void 0===l?void 0:l.full_name)||(null===l||void 0===l?void 0:l.username)||"User"}),(0,Kn.jsx)("p",{className:"text-xs text-gray-600 truncate",children:(null===l||void 0===l?void 0:l.email)||"No email"})]}),(0,Kn.jsx)("button",{onClick:async()=>{await i()},className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Logout",children:(0,Kn.jsx)(Sa,{className:"h-4 w-4"})})]}),(0,Kn.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-100",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg",children:(0,Kn.jsx)(Na,{className:"h-4 w-4 text-white"})}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"AI Powered"}),(0,Kn.jsx)("p",{className:"text-xs text-gray-600",children:"Groq Integration Active"})]})]})})]})]}),(0,Kn.jsx)("div",{className:"flex-1 flex flex-col lg:pt-0 pt-20",children:(0,Kn.jsx)("main",{className:"flex-1 p-6 overflow-y-auto",children:t})}),s&&(0,Kn.jsx)("div",{className:"fixed inset-0 z-40 bg-black/20 backdrop-blur-sm lg:hidden",onClick:()=>n(!1)})]})})},Ca=ea("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ea=ea("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Pa="https://d90eaae8-ec2e-41a4-a8e7-e61f976a5052.preview.emergentagent.com",Ta=Jn.create({baseURL:Pa,headers:{"Content-Type":"application/json"}});Ta.interceptors.request.use(e=>{var t;console.log("API Request:",null===(t=e.method)||void 0===t?void 0:t.toUpperCase(),e.url);const s=localStorage.getItem("token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e)),Ta.interceptors.response.use(e=>e,async e=>{var t,s;if(console.error("API Error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),401===(null===(s=e.response)||void 0===s?void 0:s.status)){console.log("Received 401 error, attempting token refresh...");if(localStorage.getItem("token"))try{const t=await Jn.post(`${Pa}/api/auth/refresh`),{access_token:s}=t.data;localStorage.setItem("token",s);const n=e.config;return n.headers.Authorization=`Bearer ${s}`,Jn(n)}catch(n){console.error("Token refresh failed:",n),localStorage.removeItem("token"),window.location.href="/"}}return Promise.reject(e)});const Aa={healthCheck:()=>Ta.get("/api/health"),getProspects:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Ta.get(`/api/prospects?skip=${e}&limit=${t}`)},createProspect:e=>Ta.post("/api/prospects",e),uploadProspects:e=>{const t=new FormData;return t.append("file",e),Ta.post("/api/prospects/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},getTemplates:()=>Ta.get("/api/templates"),createTemplate:e=>Ta.post("/api/templates",e),getTemplate:e=>Ta.get(`/api/templates/${e}`),updateTemplate:(e,t)=>Ta.put(`/api/templates/${e}`,t),getCampaigns:()=>Ta.get("/api/campaigns"),createCampaign:e=>Ta.post("/api/campaigns",e),getCampaign:e=>Ta.get(`/api/campaigns/${e}`),sendCampaign:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("\ud83d\udce1 sendCampaign called with id:",e,"sendRequest:",t);const s={send_immediately:!0,email_provider_id:"",max_emails:1e3,schedule_type:"immediate",start_time:null,follow_up_enabled:!0,follow_up_intervals:[3,7,14],follow_up_templates:[],...t};return console.log("\ud83d\udce4 Final send request:",s),console.log("\ud83c\udfaf Making POST request to:",`/api/campaigns/${e}/send`),Ta.post(`/api/campaigns/${e}/send`,s)},getIntents:()=>Ta.get("/api/intents"),createIntent:e=>Ta.post("/api/intents",e),getIntent:e=>Ta.get(`/api/intents/${e}`),updateIntent:(e,t)=>Ta.put(`/api/intents/${e}`,t),deleteIntent:e=>Ta.delete(`/api/intents/${e}`),getCampaignAnalytics:e=>Ta.get(`/api/analytics/campaign/${e}`),getLists:()=>Ta.get("/api/lists"),createList:e=>Ta.post("/api/lists",e),getList:e=>Ta.get(`/api/lists/${e}`),updateList:(e,t)=>Ta.put(`/api/lists/${e}`,t),deleteList:e=>Ta.delete(`/api/lists/${e}`),addProspectsToList:(e,t)=>Ta.post(`/api/lists/${e}/prospects`,{prospect_ids:t}),removeProspectsFromList:(e,t)=>Ta.delete(`/api/lists/${e}/prospects`,{data:{prospect_ids:t}}),startEmailProcessing:()=>Ta.post("/api/email-processing/start"),stopEmailProcessing:()=>Ta.post("/api/email-processing/stop"),getProcessingStatus:()=>Ta.get("/api/email-processing/status"),getProcessingAnalytics:()=>Ta.get("/api/email-processing/analytics"),testIntentClassification:e=>Ta.post("/api/email-processing/test-classification",e),testResponseGeneration:e=>Ta.post("/api/email-processing/test-response",e),getThreads:()=>Ta.get("/api/threads"),getThread:e=>Ta.get(`/api/threads/${e}`),getThreadByProspect:e=>Ta.get(`/api/threads/prospect/${e}`),addMessageToThread:(e,t)=>Ta.post(`/api/threads/${e}/messages`,t),getEmailProviders:()=>Ta.get("/api/email-providers"),createEmailProvider:e=>Ta.post("/api/email-providers",e),updateEmailProvider:(e,t)=>Ta.put(`/api/email-providers/${e}`,t),deleteEmailProvider:e=>Ta.delete(`/api/email-providers/${e}`),setDefaultEmailProvider:e=>Ta.post(`/api/email-providers/${e}/set-default`),testEmailProvider:e=>Ta.post(`/api/email-providers/${e}/test-connection`),getFollowUpDashboard:()=>Ta.get("/api/follow-up-monitoring/dashboard"),getImapScanStatus:()=>Ta.get("/api/follow-up-monitoring/imap-scan-status"),getImapLogs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24;return Ta.get(`/api/follow-up-monitoring/imap-logs?hours=${e}`)},getProspectResponses:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return Ta.get(`/api/follow-up-monitoring/prospect-responses?days=${e}`)},analyzeProspectThread:e=>Ta.get(`/api/follow-up-monitoring/thread-analysis/${e}`),forceStopFollowUp:e=>Ta.post(`/api/follow-up-monitoring/force-stop-follow-up/${e}`),restartFollowUp:e=>Ta.post(`/api/follow-up-monitoring/restart-follow-up/${e}`),getFollowUpHealthCheck:()=>Ta.get("/api/follow-up-monitoring/health-check"),startFollowUpEngine:()=>Ta.post("/api/follow-up-engine/start"),stopFollowUpEngine:()=>Ta.post("/api/follow-up-engine/stop"),getFollowUpEngineStatus:()=>Ta.get("/api/follow-up-engine/status"),getFollowUpStatistics:()=>Ta.get("/api/follow-up-engine/statistics"),processEmailResponse:e=>Ta.post("/api/follow-up-engine/process-response",e)},Ra=Ta,La=()=>{const[e,t]=(0,r.useState)({prospects:0,templates:0,campaigns:0,intents:0}),[s,n]=(0,r.useState)(!0);(0,r.useEffect)(()=>{a()},[]);const a=async()=>{try{const[e,s,n,a]=await Promise.all([Aa.getProspects(0,1e3),Aa.getTemplates(),Aa.getCampaigns(),Aa.getIntents()]);t({prospects:e.data.length,templates:s.data.length,campaigns:n.data.length,intents:a.data.length})}catch(e){console.error("Dashboard API Error:",e),Pt.error("Failed to load dashboard data"),t({prospects:0,templates:0,campaigns:0,intents:0})}finally{n(!1)}},l=[{title:"Total Prospects",value:e.prospects,icon:pa,color:"from-emerald-500 to-emerald-600",bgColor:"from-emerald-50 to-emerald-100",change:"+12%",changeType:"increase"},{title:"Email Templates",value:e.templates,icon:xa,color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100",change:"+8%",changeType:"increase"},{title:"Active Campaigns",value:e.campaigns,icon:ma,color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100",change:"+23%",changeType:"increase"},{title:"Intent Configs",value:e.intents,icon:ga,color:"from-orange-500 to-orange-600",bgColor:"from-orange-50 to-orange-100",change:"+15%",changeType:"increase"}],i=[{title:"Create Campaign",description:"Start a new email campaign",icon:ma,color:"from-blue-500 to-purple-600",link:"/campaigns"},{title:"Add Prospects",description:"Upload new prospects",icon:pa,color:"from-green-500 to-emerald-600",link:"/prospects"},{title:"Design Template",description:"Create email templates",icon:xa,color:"from-orange-500 to-red-600",link:"/templates"},{title:"Configure AI",description:"Set up intent detection",icon:Na,color:"from-pink-500 to-purple-600",link:"/intents"}];return s?(0,Kn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Kn.jsxs)("div",{className:"text-center",children:[(0,Kn.jsx)("div",{className:"loading-spinner mx-auto mb-4"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):(0,Kn.jsxs)("div",{className:"space-y-8",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h1",{className:"text-4xl font-bold gradient-text",children:"Welcome back!"}),(0,Kn.jsx)("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your email campaigns"})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 bg-white/70 backdrop-blur-sm px-4 py-2 rounded-xl border border-gray-100",children:[(0,Kn.jsx)(ua,{className:"h-4 w-4 text-green-500"}),(0,Kn.jsx)("span",{children:"All systems operational"})]})]}),(0,Kn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((e,t)=>{const s=e.icon;return(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{className:"flex-1",children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e.title}),(0,Kn.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.value})]}),(0,Kn.jsx)("div",{className:`icon-wrapper bg-gradient-to-r ${e.color}`,children:(0,Kn.jsx)(s,{className:"h-6 w-6 text-white"})})]}),(0,Kn.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Kn.jsx)(Ca,{className:"h-4 w-4 text-emerald-500"}),(0,Kn.jsx)("span",{className:"text-sm text-emerald-600 font-medium",children:e.change})]}),(0,Kn.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"from last month"})]})]})},t)})}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsxs)("div",{className:"card-header",children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Quick Actions"}),(0,Kn.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Get started with common tasks"})]}),(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.map((e,t)=>{const s=e.icon;return(0,Kn.jsx)(Pe,{to:e.link,className:"group p-4 rounded-xl border border-gray-100 hover:border-gray-200 transition-all duration-200 hover:shadow-md",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("div",{className:`p-2 rounded-lg bg-gradient-to-r ${e.color}`,children:(0,Kn.jsx)(s,{className:"h-5 w-5 text-white"})}),(0,Kn.jsxs)("div",{className:"flex-1",children:[(0,Kn.jsx)("h4",{className:"font-medium text-gray-900 group-hover:text-gray-700",children:e.title}),(0,Kn.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]}),(0,Kn.jsx)(Ea,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-600 transition-colors"})]})},t)})})})]}),(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsxs)("div",{className:"card-header",children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"System Status"}),(0,Kn.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"All services running smoothly"})]}),(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsx)("div",{className:"space-y-4",children:[{name:"Email Service",status:"online",color:"emerald"},{name:"AI Service (Groq)",status:"online",color:"emerald"},{name:"Database",status:"connected",color:"emerald"},{name:"Analytics",status:"active",color:"emerald"}].map((e,t)=>(0,Kn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("div",{className:`w-3 h-3 bg-${e.color}-500 rounded-full`}),(0,Kn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name})]}),(0,Kn.jsx)("span",{className:"badge badge-success",children:e.status})]},t))})})]})]}),(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsxs)("div",{className:"card-header",children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Activity"}),(0,Kn.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Latest updates across your campaigns"})]}),(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsx)("div",{className:"space-y-4",children:[{icon:ma,title:"Sample Campaign Ready",description:"Your first campaign is ready to launch",time:"2 hours ago",color:"from-blue-500 to-purple-600"},{icon:pa,title:"Sample Prospects Added",description:"5 sample prospects have been added to your database",time:"5 hours ago",color:"from-green-500 to-emerald-600"},{icon:xa,title:"Email Templates Created",description:"3 sample templates are now available",time:"1 day ago",color:"from-orange-500 to-red-600"},{icon:Na,title:"AI Intents Configured",description:"Intent detection system is ready for use",time:"1 day ago",color:"from-pink-500 to-purple-600"}].map((e,t)=>{const s=e.icon;return(0,Kn.jsxs)("div",{className:"flex items-center space-x-4 p-3 rounded-xl hover:bg-gray-50 transition-colors",children:[(0,Kn.jsx)("div",{className:`p-2 rounded-lg bg-gradient-to-r ${e.color}`,children:(0,Kn.jsx)(s,{className:"h-5 w-5 text-white"})}),(0,Kn.jsxs)("div",{className:"flex-1",children:[(0,Kn.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,Kn.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,Kn.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]},t)})})})]})]})},Fa=ea("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Oa=ea("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ma=ea("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Da=ea("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),za=ea("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Ia=ea("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),$a=()=>{var e,t,s,n;const[a,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(null),[p,h]=(0,r.useState)("Connecting..."),[x,f]=(0,r.useState)(null),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>((async()=>{try{await N()}catch(e){console.log("WebSocket failed, falling back to polling"),y(!0),await w()}})(),()=>{u&&u.close()}),[]),(0,r.useEffect)(()=>{if(g){const e=setInterval(async()=>{await j()},5e3);return()=>clearInterval(e)}},[g]);const j=async()=>{try{const e=await Aa.get("/api/real-time/dashboard-metrics");o(e.data.metrics),f(new Date),l(!0),h("Connected (Polling)")}catch(e){console.error("Error fetching metrics:",e),l(!1),h("Disconnected")}},N=async()=>new Promise((e,t)=>{const s="https://d90eaae8-ec2e-41a4-a8e7-e61f976a5052.preview.emergentagent.com";let n;n=s.startsWith("https://")?s.replace("https://","wss://"):s.startsWith("http://")?s.replace("http://","ws://"):`ws://${s}`;const a=`dashboard-${Date.now()}`;try{const s=new WebSocket(`${n}/api/ws/${a}`);s.onopen=()=>{console.log("WebSocket Connected"),l(!0),h("Connected (WebSocket)"),m(s),y(!1),s.send(JSON.stringify({type:"subscribe",event_types:["dashboard_metrics","notifications","campaign_progress","provider_status"]})),s.send(JSON.stringify({type:"get_current_metrics"})),e(s)},s.onmessage=e=>{try{const t=JSON.parse(e.data);k(t)}catch(t){console.error("Error parsing WebSocket message:",t)}},s.onclose=()=>{console.log("WebSocket Disconnected"),l(!1),h("Disconnected"),m(null),y(!0)},s.onerror=e=>{console.error("WebSocket Error:",e),h("Error"),t(e)}}catch(r){console.error("Failed to create WebSocket:",r),h("Failed to connect"),t(r)}}),w=async()=>{h("Connecting (Polling)..."),await j()},k=(0,r.useCallback)(e=>{switch(e.type){case"metrics_update":case"current_metrics":o(e.data),f(new Date(e.timestamp));break;case"notifications":d(t=>[...t,...e.data]);break;case"notification":d(t=>[...t,e.data]);break;case"campaign_progress":console.log("Campaign progress:",e);break;case"provider_status":console.log("Provider status:",e);break;default:console.log("Unknown message type:",e.type)}},[]),S=e=>{switch(e){case"active":return(0,Kn.jsx)(ja,{className:"w-4 h-4 text-green-500"});case"failed":return(0,Kn.jsx)(Fa,{className:"w-4 h-4 text-red-500"});default:return(0,Kn.jsx)(Oa,{className:"w-4 h-4 text-yellow-500"})}},_=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString();return(0,Kn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Real-Time Dashboard"}),(0,Kn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Kn.jsxs)("button",{onClick:async()=>{b(!0);try{g?await j():await N(),Pt.success("Dashboard refreshed successfully")}catch(e){Pt.error("Failed to refresh dashboard")}finally{b(!1)}},disabled:v,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,Kn.jsx)(Ma,{className:"w-4 h-4 "+(v?"animate-spin":"")}),"Refresh"]}),(0,Kn.jsxs)("div",{className:"flex items-center gap-2",children:[a?(0,Kn.jsx)(Da,{className:"w-5 h-5 text-green-500"}):(0,Kn.jsx)(za,{className:"w-5 h-5 text-red-500"}),(0,Kn.jsx)("span",{className:"text-sm font-medium "+(a?"text-green-600":"text-red-600"),children:p})]})]})]}),c.length>0&&(0,Kn.jsx)("div",{className:"space-y-2",children:c.slice(-5).map((e,t)=>(0,Kn.jsx)("div",{className:"p-3 rounded-lg border-l-4 "+("error"===e.type?"border-red-500 bg-red-50":"warning"===e.type?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"),children:(0,Kn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,Kn.jsx)("p",{className:"text-sm text-gray-600",children:e.message}),(0,Kn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,Kn.jsx)("button",{onClick:()=>(e=>{d(t=>t.filter((t,s)=>s!==e))})(t),className:"text-gray-400 hover:text-gray-600",children:(0,Kn.jsx)(Fa,{className:"w-4 h-4"})})]})},t))}),i&&(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Kn.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Prospects"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:_((null===(e=i.overview)||void 0===e?void 0:e.total_prospects)||0)})]}),(0,Kn.jsx)(pa,{className:"w-8 h-8 text-blue-500"})]})}),(0,Kn.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Campaigns"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:_((null===(t=i.overview)||void 0===t?void 0:t.active_campaigns)||0)})]}),(0,Kn.jsx)(Ia,{className:"w-8 h-8 text-green-500"})]})}),(0,Kn.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Emails Today"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:_((null===(s=i.overview)||void 0===s?void 0:s.emails_today)||0)})]}),(0,Kn.jsx)(ta,{className:"w-8 h-8 text-purple-500"})]})}),(0,Kn.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Emails"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:_((null===(n=i.overview)||void 0===n?void 0:n.total_emails_sent)||0)})]}),(0,Kn.jsx)(ua,{className:"w-8 h-8 text-indigo-500"})]})})]}),i&&i.provider_stats&&Object.keys(i.provider_stats).length>0&&(0,Kn.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Kn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Provider Status"}),(0,Kn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(i.provider_stats).map(e=>{let[t,s]=e;return(0,Kn.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Kn.jsx)("h4",{className:"font-medium text-gray-900",children:t}),S(s.status)]}),(0,Kn.jsxs)("p",{className:"text-sm text-gray-600",children:["Type: ",s.type]}),(0,Kn.jsxs)("p",{className:"text-sm text-gray-600",children:["Usage: ",s.emails_sent_today||0," / ",s.daily_limit||"Unlimited"]}),s.daily_limit&&(0,Kn.jsx)("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:(0,Kn.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(100,s.emails_sent_today/s.daily_limit*100)}%`}})})]},t)})})]}),i&&i.recent_activity&&(0,Kn.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Kn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),(0,Kn.jsx)("div",{className:"space-y-3",children:i.recent_activity.map((e,t)=>(0,Kn.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[(0,Kn.jsxs)("div",{className:"flex-1",children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.subject}),(0,Kn.jsxs)("p",{className:"text-xs text-gray-500",children:["To: ",e.recipient]})]}),(0,Kn.jsxs)("div",{className:"flex items-center gap-2",children:[S(e.status),(0,Kn.jsx)("span",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleTimeString():"Unknown"})]})]},t))})]}),x&&(0,Kn.jsx)("div",{className:"text-center",children:(0,Kn.jsxs)("p",{className:"text-sm text-gray-500",children:["Last updated: ",x.toLocaleTimeString()]})}),!i&&(0,Kn.jsxs)("div",{className:"text-center py-12",children:[(0,Kn.jsx)(ua,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Kn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Dashboard"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"Connecting to real-time data..."})]})]})},Ua=ea("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ba=ea("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),qa=ea("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Wa=ea("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ha=e=>{let{campaign:t,onSend:s,onView:n}=e;console.log("\ud83d\udd0d Campaign card rendered:",t),console.log("\ud83d\udd0d Campaign status:",t.status),console.log("\ud83d\udd0d Is draft?","draft"===t.status);const a=e=>"draft"===e;return(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:t.name}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"active":return(0,Kn.jsx)(Ba,{className:"h-4 w-4"});case"draft":return(0,Kn.jsx)(qa,{className:"h-4 w-4"});case"completed":case"sent":return(0,Kn.jsx)(ja,{className:"h-4 w-4"});case"failed":return(0,Kn.jsx)(Fa,{className:"h-4 w-4"});default:return(0,Kn.jsx)(Oa,{className:"h-4 w-4"})}})(t.status),(0,Kn.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${(e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-orange-100 text-orange-800";case"completed":case"sent":return"bg-purple-100 text-purple-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(t.status)}`,children:t.status})]})]}),(0,Kn.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center text-sm text-secondary-600",children:[(0,Kn.jsx)(pa,{className:"h-4 w-4 mr-2"}),(0,Kn.jsxs)("span",{children:[t.prospect_count||0," prospects"]})]}),(0,Kn.jsxs)("div",{className:"flex items-center text-sm text-secondary-600",children:[(0,Kn.jsx)(ma,{className:"h-4 w-4 mr-2"}),(0,Kn.jsxs)("span",{children:["Max ",t.max_emails," emails"]})]}),t.schedule&&(0,Kn.jsxs)("div",{className:"flex items-center text-sm text-secondary-600",children:[(0,Kn.jsx)(Wa,{className:"h-4 w-4 mr-2"}),(0,Kn.jsx)("span",{children:new Date(t.schedule).toLocaleDateString()})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{className:"text-xs text-secondary-400",children:["Created ",new Date(t.created_at).toLocaleDateString()]}),(0,Kn.jsxs)("div",{className:"flex space-x-2",children:[(0,Kn.jsx)("button",{onClick:()=>n(t.id),className:"p-1 text-secondary-400 hover:text-primary-600 transition-colors",title:"View Campaign Details",children:(0,Kn.jsx)(ra,{className:"h-4 w-4"})}),a(t.status)&&(0,Kn.jsx)("button",{onClick:()=>s(t.id),className:"p-2 bg-green-100 text-green-600 hover:bg-green-200 hover:text-green-700 rounded-md transition-colors",title:"Send Campaign",children:(0,Kn.jsx)(Ba,{className:"h-4 w-4"})}),!a(t.status)&&"draft"!==t.status&&(0,Kn.jsx)("button",{disabled:!0,className:"p-2 bg-gray-100 text-gray-400 rounded-md cursor-not-allowed",title:`Campaign ${t.status} - Cannot send again`,children:(0,Kn.jsx)(Ba,{className:"h-4 w-4"})})]})]})]})})},Va=e=>{let{templates:t,onClose:s,onSave:n}=e;const[a,l]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)({name:"",template_id:"",list_ids:[],email_provider_id:"",max_emails:1e3,schedule_type:"immediate",start_time:"",follow_up_enabled:!0,follow_up_intervals:[3,7,14],follow_up_templates:[]});(0,r.useEffect)(()=>{p()},[]);const p=async()=>{try{const[e,t]=await Promise.all([Aa.getLists(),Aa.getEmailProviders()]);l(e.data),o(t.data)}catch(e){Pt.error("Failed to load campaign data")}finally{d(!1)}},h=e=>{const{name:t,value:s,type:n,checked:a}=e.target;m({...u,[t]:"checkbox"===n?a:s})},x=t.filter(e=>"initial"===e.type),f=t.filter(e=>"follow_up"===e.type);return c?(0,Kn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),(0,Kn.jsx)("div",{className:"relative bg-white rounded-lg max-w-2xl w-full p-6",children:(0,Kn.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Kn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})})]})}):(0,Kn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),(0,Kn.jsxs)("div",{className:"relative bg-white rounded-lg max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 mb-4",children:"Create New Campaign"}),(0,Kn.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),0===u.list_ids.length)return void Pt.error("Please select at least one prospect list");if(!u.email_provider_id)return void Pt.error("Please select an email provider");const t={...u,start_time:u.start_time?new Date(u.start_time).toISOString():null,follow_up_intervals:u.follow_up_intervals.filter(e=>e>0)};n(t)},className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Kn.jsx)("h4",{className:"font-medium text-secondary-900 mb-3",children:"Basic Information"}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Campaign Name *"}),(0,Kn.jsx)("input",{type:"text",name:"name",value:u.name,onChange:h,className:"input",required:!0,placeholder:"Enter campaign name"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Max Emails"}),(0,Kn.jsx)("input",{type:"number",name:"max_emails",value:u.max_emails,onChange:h,className:"input",min:"1",max:"10000"})]})]})]}),(0,Kn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Kn.jsx)("h4",{className:"font-medium text-secondary-900 mb-3",children:"Email Provider *"}),(0,Kn.jsxs)("select",{name:"email_provider_id",value:u.email_provider_id,onChange:h,className:"input w-full",required:!0,children:[(0,Kn.jsx)("option",{value:"",children:"Select email provider"}),i.map(e=>(0,Kn.jsxs)("option",{value:e.id,children:[e.name," (",e.email_address,")"]},e.id))]}),0===i.length&&(0,Kn.jsx)("p",{className:"text-sm text-orange-600 mt-2",children:"No email providers configured. Please add an email provider first."})]}),(0,Kn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Kn.jsx)("h4",{className:"font-medium text-secondary-900 mb-3",children:"Initial Template *"}),(0,Kn.jsxs)("select",{name:"template_id",value:u.template_id,onChange:h,className:"input w-full",required:!0,children:[(0,Kn.jsx)("option",{value:"",children:"Select initial template"}),x.map(e=>(0,Kn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Kn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Kn.jsx)("h4",{className:"font-medium text-secondary-900 mb-3",children:"Target Prospect Lists *"}),(0,Kn.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-2",children:a.map(e=>(0,Kn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Kn.jsx)("input",{type:"checkbox",checked:u.list_ids.includes(e.id),onChange:()=>{return t=e.id,void m(e=>({...e,list_ids:e.list_ids.includes(t)?e.list_ids.filter(e=>e!==t):[...e.list_ids,t]}));var t},className:"h-4 w-4 text-primary-600 rounded"}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,Kn.jsxs)("span",{className:"text-sm text-secondary-700",children:[e.name," (",e.prospect_count," prospects)"]})]})]},e.id))}),0===a.length&&(0,Kn.jsx)("p",{className:"text-sm text-orange-600",children:"No prospect lists available. Please create prospect lists first."}),u.list_ids.length>0&&(0,Kn.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:[u.list_ids.length," list(s) selected"]})]}),(0,Kn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Kn.jsx)("h4",{className:"font-medium text-secondary-900 mb-3",children:"Scheduling"}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Schedule Type"}),(0,Kn.jsxs)("select",{name:"schedule_type",value:u.schedule_type,onChange:h,className:"input",children:[(0,Kn.jsx)("option",{value:"immediate",children:"Send Immediately"}),(0,Kn.jsx)("option",{value:"scheduled",children:"Schedule for Later"})]})]}),"scheduled"===u.schedule_type&&(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Start Time *"}),(0,Kn.jsx)("input",{type:"datetime-local",name:"start_time",value:u.start_time,onChange:h,className:"input",required:"scheduled"===u.schedule_type})]})]})]}),(0,Kn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Kn.jsx)("h4",{className:"font-medium text-secondary-900 mb-3",children:"Follow-up Configuration"}),(0,Kn.jsxs)("div",{className:"space-y-4",children:[(0,Kn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("input",{type:"checkbox",name:"follow_up_enabled",checked:u.follow_up_enabled,onChange:h,className:"h-4 w-4 text-primary-600 rounded"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-700",children:"Enable Follow-up Emails"})]}),u.follow_up_enabled&&(0,Kn.jsxs)(Kn.Fragment,{children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Follow-up Intervals (days)"}),(0,Kn.jsx)("div",{className:"flex space-x-2",children:u.follow_up_intervals.map((e,t)=>(0,Kn.jsx)("input",{type:"number",value:e,onChange:e=>((e,t)=>{const s=[...u.follow_up_intervals];s[e]=parseInt(t)||0,m(e=>({...e,follow_up_intervals:s}))})(t,e.target.value),className:"input w-20",min:"1",max:"30",placeholder:`Day ${t+1}`},t))})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Follow-up Templates (Optional)"}),(0,Kn.jsx)("div",{className:"max-h-24 overflow-y-auto space-y-2",children:f.map(e=>(0,Kn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Kn.jsx)("input",{type:"checkbox",checked:u.follow_up_templates.includes(e.id),onChange:()=>{return t=e.id,void m(e=>({...e,follow_up_templates:e.follow_up_templates.includes(t)?e.follow_up_templates.filter(e=>e!==t):[...e.follow_up_templates,t]}));var t},className:"h-4 w-4 text-primary-600 rounded"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-700",children:e.name})]},e.id))}),0===f.length&&(0,Kn.jsx)("p",{className:"text-sm text-gray-500",children:"No follow-up templates available"})]})]})]})]}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Kn.jsx)("button",{type:"button",onClick:s,className:"btn btn-secondary",children:"Cancel"}),(0,Kn.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create Campaign"})]})]})]})]})})},Qa=e=>{var t,s,n,a,r,l;let{campaign:i,onClose:o}=e;return(0,Kn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),(0,Kn.jsxs)("div",{className:"relative bg-white rounded-lg max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Kn.jsx)("h3",{className:"text-2xl font-bold text-secondary-900",children:"Campaign Details"}),(0,Kn.jsx)("button",{onClick:o,className:"text-secondary-400 hover:text-secondary-600 transition-colors",children:(0,Kn.jsx)(Fa,{className:"h-6 w-6"})})]}),(0,Kn.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 mb-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Kn.jsx)("h4",{className:"text-xl font-semibold text-secondary-900",children:i.name}),(0,Kn.jsxs)("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-full border ${(e=>{switch(e){case"active":return"bg-green-100 text-green-800 border-green-200";case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"paused":return"bg-orange-100 text-orange-800 border-orange-200";case"completed":case"sent":return"bg-purple-100 text-purple-800 border-purple-200";case"failed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(i.status)}`,children:[(e=>{switch(e){case"active":return(0,Kn.jsx)(Ba,{className:"h-5 w-5"});case"draft":return(0,Kn.jsx)(qa,{className:"h-5 w-5"});case"completed":case"sent":return(0,Kn.jsx)(ja,{className:"h-5 w-5"});case"failed":return(0,Kn.jsx)(Fa,{className:"h-5 w-5"});default:return(0,Kn.jsx)(Oa,{className:"h-5 w-5"})}})(i.status),(0,Kn.jsx)("span",{className:"font-medium capitalize",children:i.status})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Kn.jsxs)("div",{className:"text-center",children:[(0,Kn.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i.prospect_count||0}),(0,Kn.jsx)("div",{className:"text-sm text-secondary-600",children:"Prospects"})]}),(0,Kn.jsxs)("div",{className:"text-center",children:[(0,Kn.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===(t=i.analytics)||void 0===t?void 0:t.total_sent)||0}),(0,Kn.jsx)("div",{className:"text-sm text-secondary-600",children:"Emails Sent"})]}),(0,Kn.jsxs)("div",{className:"text-center",children:[(0,Kn.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[(null===(s=i.analytics)||void 0===s||null===(n=s.success_rate)||void 0===n?void 0:n.toFixed(1))||0,"%"]}),(0,Kn.jsx)("div",{className:"text-sm text-secondary-600",children:"Success Rate"})]})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Kn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Kn.jsx)("h5",{className:"font-semibold text-secondary-900 mb-3",children:"Campaign Information"}),(0,Kn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"Created:"}),(0,Kn.jsx)("span",{className:"text-secondary-900",children:new Date(i.created_at).toLocaleDateString()})]}),(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"Max Emails:"}),(0,Kn.jsx)("span",{className:"text-secondary-900",children:i.max_emails})]}),i.schedule&&(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"Scheduled:"}),(0,Kn.jsx)("span",{className:"text-secondary-900",children:new Date(i.schedule).toLocaleDateString()})]})]})]}),(0,Kn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Kn.jsx)("h5",{className:"font-semibold text-secondary-900 mb-3",children:"Email Analytics"}),(0,Kn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"Total Emails:"}),(0,Kn.jsx)("span",{className:"text-secondary-900",children:(null===(a=i.analytics)||void 0===a?void 0:a.total_emails)||0})]}),(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{className:"text-green-600",children:"Sent:"}),(0,Kn.jsx)("span",{className:"text-green-700 font-medium",children:(null===(r=i.analytics)||void 0===r?void 0:r.total_sent)||0})]}),(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{className:"text-red-600",children:"Failed:"}),(0,Kn.jsx)("span",{className:"text-red-700 font-medium",children:(null===(l=i.analytics)||void 0===l?void 0:l.total_failed)||0})]})]})]})]}),i.template&&(0,Kn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,Kn.jsx)("h5",{className:"font-semibold text-secondary-900 mb-3",children:"Template"}),(0,Kn.jsxs)("div",{className:"space-y-2",children:[(0,Kn.jsxs)("div",{className:"text-sm text-secondary-600",children:[(0,Kn.jsx)("strong",{children:"Name:"})," ",i.template.name]}),(0,Kn.jsxs)("div",{className:"text-sm text-secondary-600",children:[(0,Kn.jsx)("strong",{children:"Subject:"})," ",i.template.subject]}),(0,Kn.jsxs)("div",{className:"text-sm text-secondary-600",children:[(0,Kn.jsx)("strong",{children:"Type:"})," ",i.template.type]})]})]}),i.lists&&i.lists.length>0&&(0,Kn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,Kn.jsx)("h5",{className:"font-semibold text-secondary-900 mb-3",children:"Target Lists"}),(0,Kn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.lists.map(e=>(0,Kn.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-white rounded border",children:[(0,Kn.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,Kn.jsxs)("div",{className:"flex-1",children:[(0,Kn.jsx)("div",{className:"text-sm font-medium text-secondary-900",children:e.name}),(0,Kn.jsxs)("div",{className:"text-xs text-secondary-600",children:[e.prospect_count," prospects"]})]})]},e.id))})]}),i.email_records&&i.email_records.length>0&&(0,Kn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,Kn.jsxs)("h5",{className:"font-semibold text-secondary-900 mb-3",children:["Email Records (",i.email_records.length,")"]}),(0,Kn.jsx)("div",{className:"max-h-64 overflow-y-auto",children:(0,Kn.jsxs)("div",{className:"space-y-2",children:[i.email_records.slice(0,10).map((e,t)=>(0,Kn.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white rounded border text-sm",children:[(0,Kn.jsxs)("div",{className:"flex-1",children:[(0,Kn.jsx)("div",{className:"font-medium text-secondary-900",children:e.recipient_email}),(0,Kn.jsx)("div",{className:"text-xs text-secondary-600",children:e.subject})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+("sent"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status}),e.sent_at&&(0,Kn.jsx)("span",{className:"text-xs text-secondary-400",children:new Date(e.sent_at).toLocaleDateString()})]})]},e.id||t)),i.email_records.length>10&&(0,Kn.jsxs)("div",{className:"text-center text-sm text-secondary-600 p-2",children:["... and ",i.email_records.length-10," more records"]})]})})]}),(0,Kn.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,Kn.jsx)("button",{onClick:o,className:"btn btn-secondary",children:"Close"})})]})]})})},Ja=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{p()},[]);const p=async()=>{console.log("\ud83d\udd04 Starting loadData..."),await new Promise(e=>setTimeout(e,100));try{console.log("\ud83d\udd04 Loading campaigns and templates...");const e=await Aa.getCampaigns();console.log("\ud83d\udcca Campaigns response:",e.data);const s=await Aa.getTemplates();console.log("\ud83d\udcdd Templates response:",s.data),console.log("\ud83d\udd04 Setting state..."),e.data&&Array.isArray(e.data)?(t(e.data),console.log("\u2705 Campaigns state set successfully")):(console.warn("\u26a0\ufe0f Invalid campaigns data:",e.data),t([])),s.data&&Array.isArray(s.data)?(n(s.data),console.log("\u2705 Templates state set successfully")):(console.warn("\u26a0\ufe0f Invalid templates data:",s.data),n([])),console.log("\u2705 Data loaded successfully"),console.log("\ud83d\udd04 Setting loading to false...")}catch(r){var e,s,a;console.error("\u274c Error loading data:",r),console.error("Error details:",(null===(e=r.response)||void 0===e?void 0:e.data)||r.message),t([]),n([]),Pt.error("Failed to load data: "+((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.detail)||r.message))}finally{console.log("\ud83d\udd04 Finally block: setting loading to false"),l(!1)}},h=async e=>{console.log("\ud83d\udc41\ufe0f handleViewCampaign called with campaignId:",e);try{console.log("\ud83d\udce1 Fetching campaign details via API...");const t=await Aa.getCampaign(e);console.log("\u2705 Campaign details fetched successfully:",t.data),m(t.data),d(!0)}catch(a){var t,s,n;console.error("\u274c Failed to fetch campaign details:",a),console.error("Error details:",(null===(t=a.response)||void 0===t?void 0:t.data)||a.message);const e=(null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.detail)||"Failed to fetch campaign details";Pt.error(e,{duration:5e3,position:"top-right"})}},x=async e=>{console.log("\ud83d\ude80 handleSendCampaign called with campaignId:",e);try{console.log("\ud83d\udce1 Sending campaign via API...");const t=await Aa.sendCampaign(e);console.log("\u2705 Campaign sent successfully:",t.data);const s=t.data,n=`Campaign sent successfully! ${s.total_sent} emails sent, ${s.total_failed} failed.`;Pt.success(n,{duration:6e3,position:"top-right"}),p()}catch(a){var t,s,n;console.error("\u274c Campaign sending failed:",a),console.error("Error details:",(null===(t=a.response)||void 0===t?void 0:t.data)||a.message);const e=(null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.detail)||"Failed to send campaign";Pt.error(e,{duration:8e3,position:"top-right"})}};return a?(0,Kn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Kn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("h1",{className:"text-3xl font-bold text-secondary-900",children:"Campaigns"}),(0,Kn.jsxs)("button",{onClick:()=>o(!0),className:"btn btn-primary",children:[(0,Kn.jsx)(Ua,{className:"h-4 w-4 mr-2"}),"New Campaign"]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Total Campaigns"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:e.length})]}),(0,Kn.jsx)(ma,{className:"h-8 w-8 text-blue-600"})]})})}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Active"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>"active"===e.status).length})]}),(0,Kn.jsx)(Ba,{className:"h-8 w-8 text-green-600"})]})})}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Draft"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:e.filter(e=>"draft"===e.status).length})]}),(0,Kn.jsx)(qa,{className:"h-8 w-8 text-yellow-600"})]})})}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Completed"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:e.filter(e=>"completed"===e.status||"sent"===e.status).length})]}),(0,Kn.jsx)(pa,{className:"h-8 w-8 text-purple-600"})]})})})]}),(0,Kn.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(e=>(0,Kn.jsx)(Ha,{campaign:e,onSend:x,onView:h},e.id))}),i&&(0,Kn.jsx)(Va,{templates:s,onClose:()=>o(!1),onSave:async e=>{try{await Aa.createCampaign(e),Pt.success("Campaign created successfully"),o(!1),p()}catch(t){Pt.error("Failed to create campaign")}}}),c&&u&&(0,Kn.jsx)(Qa,{campaign:u,onClose:()=>{d(!1),m(null)}})]})},Ka=ea("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ya=ea("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ga=ea("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Xa=ea("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Za=ea("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),er=ea("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),tr=ea("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),sr=ea("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),nr=ea("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ar=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[s,n]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),c=(0,r.useRef)(null),d=(0,r.useRef)(null),u=(0,r.useRef)(0),m=["hello joy","hello, joy","helo joy","helo, joy","hey joy","hey, joy"],p=(0,r.useCallback)(()=>"webkitSpeechRecognition"in window||"SpeechRecognition"in window||(o("Voice recognition not supported in this browser"),!1),[]),h=(0,r.useCallback)(e=>{const t=e.toLowerCase().trim();return m.some(e=>t.includes(e))},[]),x=(0,r.useCallback)(()=>{d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{a&&(l(!1),f(),st('Joy is now sleeping. Say "Hello Joy" to wake up.',{icon:"\ud83d\ude34",duration:2e3}))},3e4)},[a]),f=(0,r.useCallback)(()=>{if(!p()||!t)return;c.current&&c.current.stop();const s=window.SpeechRecognition||window.webkitSpeechRecognition;c.current=new s,c.current.lang="en-US",c.current.continuous=!0,c.current.interimResults=!0,c.current.maxAlternatives=1,c.current.onstart=()=>{n(!0),o(null),u.current=0,console.log("Wake word detection started")},c.current.onresult=t=>{for(let s=t.resultIndex;s<t.results.length;s++){const a=t.results[s][0].transcript;if(h(a)){if(console.log("Wake word detected:",a),l(!0),n(!1),c.current.stop(),st("Hello! How can I help you?",{icon:"\ud83c\udf99\ufe0f",duration:3e3}),"speechSynthesis"in window){const e=new SpeechSynthesisUtterance("Hello! I'm listening.");e.rate=1.1,e.pitch=1.2,e.volume=.8,speechSynthesis.speak(e)}x(),e&&setTimeout(()=>e(),1e3);break}}},c.current.onerror=e=>{console.error("Wake word recognition error:",e.error),o(e.error),"no-speech"===e.error&&u.current<3?(u.current++,setTimeout(()=>{!a&&t&&f()},1e3)):"not-allowed"===e.error&&(o("Microphone permission denied. Please allow microphone access."),st.error("Microphone permission required for wake word detection"))},c.current.onend=()=>{n(!1),!a&&t&&setTimeout(()=>{f()},500)};try{c.current.start()}catch(i){console.error("Failed to start wake word recognition:",i),o("Failed to start voice recognition")}},[t,a,h,p,e,x]),g=(0,r.useCallback)(()=>{c.current&&c.current.stop(),d.current&&clearTimeout(d.current),n(!1),l(!1)},[]),y=(0,r.useCallback)(()=>{l(!1),d.current&&clearTimeout(d.current),f(),st('Going back to sleep. Say "Hello Joy" to wake up.',{icon:"\ud83d\ude34",duration:2e3})},[f]),v=(0,r.useCallback)(()=>{a&&x()},[a,x]);return(0,r.useEffect)(()=>{var e;t&&p()&&(null===(e=navigator.mediaDevices)||void 0===e||e.getUserMedia({audio:!0}).then(()=>{console.log("Microphone permission granted"),f()}).catch(e=>{console.error("Microphone permission denied:",e),o("Microphone permission required"),st.error("Please allow microphone access for wake word detection")}));return()=>{g()}},[t,f,g,p]),(0,r.useEffect)(()=>()=>{c.current&&c.current.stop(),d.current&&clearTimeout(d.current)},[]),{isListeningForWakeWord:s,isAwake:a,error:i,goToSleep:y,resetActivity:v,startWakeWordListening:f,stopWakeWordListening:g}},rr=ea("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),lr=ea("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),ir=ea("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),or=ea("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),cr=ea("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]),dr=e=>{let{isListeningForWakeWord:t,isAwake:s,isListening:n,isSpeaking:a,error:r,voiceEnabled:l,onToggleVoice:i,onGoToSleep:o}=e;return(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsxs)("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-full border ${r?"bg-red-100 text-red-700 border-red-200":a?"bg-purple-100 text-purple-700 border-purple-200":n?"bg-green-100 text-green-700 border-green-200":s?"bg-yellow-100 text-yellow-700 border-yellow-200":t?"bg-blue-100 text-blue-700 border-blue-200":"bg-gray-100 text-gray-700 border-gray-200"} transition-all duration-300`,children:[(0,Kn.jsxs)("div",{className:"relative "+(n?"animate-pulse":t?"animate-ping":""),children:[r?(0,Kn.jsx)(tr,{className:"h-5 w-5 text-red-500"}):a?(0,Kn.jsx)(rr,{className:"h-5 w-5 text-purple-500"}):n?(0,Kn.jsx)(sr,{className:"h-5 w-5 text-green-500"}):s?(0,Kn.jsx)(lr,{className:"h-5 w-5 text-yellow-500"}):t?(0,Kn.jsx)(ir,{className:"h-5 w-5 text-blue-500"}):(0,Kn.jsx)(tr,{className:"h-5 w-5 text-gray-400"}),(n||a)&&(0,Kn.jsxs)("div",{className:"absolute -right-1 -top-1 flex space-x-0.5",children:[(0,Kn.jsx)("div",{className:"w-1 h-1 bg-current rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,Kn.jsx)("div",{className:"w-1 h-1 bg-current rounded-full animate-bounce",style:{animationDelay:"100ms"}}),(0,Kn.jsx)("div",{className:"w-1 h-1 bg-current rounded-full animate-bounce",style:{animationDelay:"200ms"}})]})]}),(0,Kn.jsx)("span",{className:"text-sm font-medium",children:r||(a?"Speaking":n?"Listening":s?'Awake - Say something or "sleep"':t?'Sleeping - Say "Hello Joy" to wake':"Voice disabled")})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Kn.jsx)("button",{onClick:i,className:"p-2 rounded-lg transition-colors "+(l?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"),title:l?"Disable voice":"Enable voice",children:l?(0,Kn.jsx)(rr,{className:"h-4 w-4"}):(0,Kn.jsx)(or,{className:"h-4 w-4"})}),s&&o&&(0,Kn.jsx)("button",{onClick:o,className:"p-2 rounded-lg bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors",title:"Put Joy to sleep",children:(0,Kn.jsx)(ir,{className:"h-4 w-4"})})]}),t&&(0,Kn.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-blue-600",children:[(0,Kn.jsx)(cr,{className:"h-3 w-3 animate-pulse"}),(0,Kn.jsx)("span",{children:'Wake: "Hello Joy"'})]})]})},ur=e=>{let{isOpen:t,onClose:s,onProspectsAdded:n}=e;const[a,l]=(0,r.useState)("query"),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)([]),[p,h]=(0,r.useState)(!1),[x,f]=(0,r.useState)(null),[g,y]=(0,r.useState)([]),[v,b]=(0,r.useState)({}),[j,N]=(0,r.useState)(null),[w,k]=(0,r.useState)(!0),[S,_]=(0,r.useState)(!1),[C,E]=(0,r.useState)(!1),{isListeningForWakeWord:P,isAwake:T,error:A,goToSleep:R,resetActivity:L,startWakeWordListening:F,stopWakeWordListening:O}=ar(()=>{setTimeout(()=>z(!0),1e3)},w&&t);(0,r.useEffect)(()=>{t&&(D(),M())},[t]);const M=()=>{l("query"),o(""),d(""),f(null),y([]),b({}),N(null)},D=async()=>{try{const e=await Aa.getLists();m(e.data||[])}catch(e){console.error("Failed to load lists:",e)}},z=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void Pt.error("Voice recognition not supported in this browser");L();const t=new(window.SpeechRecognition||window.webkitSpeechRecognition);t.lang="en-US",t.interimResults=!1,t.maxAlternatives=1,t.onstart=()=>{_(!0),Pt("\ud83c\udfa4 Listening for your prospect search...",{icon:"\ud83c\udfa4",duration:1e3})},t.onresult=t=>{const s=t.results[0][0].transcript;if(s.toLowerCase().includes("sleep")||s.toLowerCase().includes("go to sleep"))return Pt('Going to sleep. Say "Hello Joy" to wake me up.',{icon:"\ud83d\ude34"}),void R();o(s),Pt.success(`Heard: "${s}"`),I(`I heard: ${s}. Let me search for those prospects.`),e&&setTimeout(()=>$(),1e3)},t.onerror=e=>{_(!1),"aborted"!==e.error&&Pt.error(`Voice recognition error: ${e.error}`)},t.onend=()=>{_(!1)};try{t.start()}catch(s){Pt.error("Failed to start voice recognition"),_(!1)}},I=e=>{if(!w||!("speechSynthesis"in window)||!T)return;E(!0);const t=e.substring(0,200),s=new SpeechSynthesisUtterance(t);s.rate=.95,s.pitch=1.1,s.volume=.9,s.onstart=()=>{L()},s.onend=()=>{E(!1),L()},s.onerror=()=>{E(!1)},speechSynthesis.speak(s)},$=async()=>{if(i.trim()){L(),h(!0),l("searching");try{const t=await fetch("https://d90eaae8-ec2e-41a4-a8e7-e61f976a5052.preview.emergentagent.com/api/ai-prospecting/search",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({query:i,target_list:c||null,max_results:25})}),s=await t.json();if(s.success)if(s.needs_clarification){if(y(s.questions||[]),N(s.extracted_parameters),l("clarification"),w&&T){var e;const t=`I need more information. ${(null===(e=s.questions)||void 0===e?void 0:e[0])||"Please provide additional details."}`;setTimeout(()=>I(t),500)}}else if(f(s),l("results"),s.prospects_count>0){const e=`Found ${s.prospects_count} prospects!`;Pt.success(e),w&&T&&setTimeout(()=>I(e),500),n&&n(s.prospects_count)}else{const e="No prospects found matching your criteria";Pt.info(e),w&&T&&setTimeout(()=>I(e),500)}else{const e=s.error||"Search failed";Pt.error(e),w&&T&&setTimeout(()=>I(`Search failed: ${e}`),500),l("query")}}catch(t){const e="Search failed. Please try again.";Pt.error(e),w&&T&&setTimeout(()=>I(e),500),l("query")}finally{h(!1)}}else Pt.error("Please enter a search query")},U=async()=>{if(g.some(e=>!v[e]))Pt.error("Please answer all questions");else{h(!0),l("searching");try{const e=await fetch("https://d90eaae8-ec2e-41a4-a8e7-e61f976a5052.preview.emergentagent.com/api/ai-prospecting/clarify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({query:i,target_list:c||null,clarifications:v})}),t=await e.json();t.success?(f(t),l("results"),t.prospects_count>0?(Pt.success(`Found ${t.prospects_count} prospects!`),n&&n(t.prospects_count)):Pt.info("No prospects found matching your criteria")):(Pt.error(t.error||"Search failed"),l("query"))}catch(e){Pt.error("Search failed. Please try again."),l("query")}finally{h(!1)}}};return t?(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Kn.jsx)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,Kn.jsxs)("div",{className:"p-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center",children:(0,Kn.jsx)(Na,{className:"h-4 w-4 text-white"})}),(0,Kn.jsx)("h2",{className:"text-2xl font-bold gradient-text",children:"AI Prospector"})]}),(0,Kn.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,Kn.jsx)(ka,{className:"h-5 w-5 text-gray-500"})})]}),"query"===a&&(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Kn.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center",children:(0,Kn.jsx)(fa,{className:"h-5 w-5 text-white"})}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Joy - AI Prospector"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:T?"\ud83c\udf99\ufe0f I'm listening! Describe the prospects you're looking for":"Say 'Hello Joy' for voice mode, or describe prospects you're looking for"})]})]}),(0,Kn.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,Kn.jsx)(dr,{isListeningForWakeWord:P,isAwake:T,isListening:S,isSpeaking:C,error:A,voiceEnabled:w,onToggleVoice:()=>k(!w),onGoToSleep:R})}),(0,Kn.jsxs)("div",{className:"space-y-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Search Query *"}),(0,Kn.jsxs)("button",{type:"button",onClick:()=>z(!1),disabled:S||p||!T,className:"flex items-center space-x-1 px-2 py-1 rounded text-xs transition-colors "+(S?"bg-red-100 text-red-600":T?"bg-blue-100 text-blue-600 hover:bg-blue-200":"bg-gray-100 text-gray-500"),title:T?"Voice input":"Say 'Hello Joy' to wake up for voice input",children:[S?(0,Kn.jsx)(tr,{className:"h-3 w-3"}):(0,Kn.jsx)(sr,{className:"h-3 w-3"}),(0,Kn.jsx)("span",{children:S?"Stop":"Voice"})]})]}),(0,Kn.jsx)("textarea",{value:i,onChange:e=>o(e.target.value),placeholder:"e.g., Find me CEOs and founders at technology companies in California with 10-500 employees",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:4}),(0,Kn.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,Kn.jsx)("p",{className:"font-medium mb-1",children:"Example queries:"}),(0,Kn.jsxs)("ul",{className:"space-y-1 pl-4",children:[(0,Kn.jsx)("li",{children:'\u2022 "CTOs and VP Engineering at software companies in San Francisco"'}),(0,Kn.jsx)("li",{children:'\u2022 "Marketing directors at healthcare startups with 50-200 employees"'}),(0,Kn.jsx)("li",{children:'\u2022 "Founders of fintech companies in New York, not including managers"'})]})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target List (Optional)"}),(0,Kn.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Kn.jsx)("option",{value:"",children:"Create new list or add to existing prospects"}),u.map(e=>(0,Kn.jsx)("option",{value:e.name,children:e.name},e.id))]}),(0,Kn.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"If no list is selected, prospects will be added to your main prospects database"})]})]}),(0,Kn.jsx)("div",{className:"bg-blue-50 rounded-lg p-4",children:(0,Kn.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Kn.jsx)(Na,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"How it works"}),(0,Kn.jsxs)("p",{className:"text-sm text-blue-800 mt-1",children:["Joy will analyze your query and search Apollo.io's database for matching prospects. You can specify job titles, industries, company sizes, and locations in natural language.",w&&" Use voice commands by saying 'Hello Joy' to activate voice mode."]})]})]})}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Kn.jsx)("button",{onClick:s,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Kn.jsxs)("button",{onClick:$,disabled:!i.trim()||p,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[(0,Kn.jsx)(Za,{className:"h-4 w-4"}),(0,Kn.jsx)("span",{children:"Find Prospects"})]})]})]}),"clarification"===a&&(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Kn.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-full flex items-center justify-center",children:(0,Kn.jsx)(Oa,{className:"h-5 w-5 text-white"})}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Need More Details"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"Please provide additional information to improve your search"})]})]}),(0,Kn.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4 mb-6",children:[(0,Kn.jsx)("h4",{className:"text-sm font-medium text-yellow-900 mb-2",children:"Your Query:"}),(0,Kn.jsx)("p",{className:"text-sm text-yellow-800",children:i})]}),(0,Kn.jsx)("div",{className:"space-y-4",children:g.map((e,t)=>(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e}),(0,Kn.jsx)("input",{type:"text",value:v[e]||"",onChange:t=>b(s=>({...s,[e]:t.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Please provide details..."})]},t))}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Kn.jsx)("button",{onClick:()=>l("query"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"}),(0,Kn.jsxs)("button",{onClick:U,disabled:p,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[(0,Kn.jsx)(Za,{className:"h-4 w-4"}),(0,Kn.jsx)("span",{children:"Search with Details"})]})]})]}),"searching"===a&&(0,Kn.jsxs)("div",{className:"text-center py-12",children:[(0,Kn.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,Kn.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center animate-pulse",children:(0,Kn.jsx)(fa,{className:"h-8 w-8 text-white"})})}),(0,Kn.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"AI is searching for prospects..."}),(0,Kn.jsx)("p",{className:"text-gray-600 mb-6",children:"This may take a few moments while we analyze your query and search our database"}),(0,Kn.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[(0,Kn.jsx)(nr,{className:"h-4 w-4 animate-spin"}),(0,Kn.jsx)("span",{children:"Processing your request"})]})]}),"results"===a&&(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Kn.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:(0,Kn.jsx)(ja,{className:"h-5 w-5 text-white"})}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Search Results"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"Your AI prospecting search is complete"})]})]}),x&&(0,Kn.jsxs)("div",{className:"space-y-4",children:[(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(pa,{className:"h-5 w-5 text-green-600"}),(0,Kn.jsx)("span",{className:"text-sm font-medium text-green-900",children:"Prospects Found"})]}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-green-900 mt-1",children:x.prospects_count||0})]}),(0,Kn.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(Xa,{className:"h-5 w-5 text-blue-600"}),(0,Kn.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"Target List"})]}),(0,Kn.jsx)("p",{className:"text-sm font-bold text-blue-900 mt-1",children:x.target_list||"General Prospects"})]})]}),(0,Kn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Kn.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Search Summary"}),(0,Kn.jsx)("p",{className:"text-sm text-gray-700",children:x.message}),x.failed_count>0&&(0,Kn.jsxs)("p",{className:"text-sm text-yellow-700 mt-1",children:["Note: ",x.failed_count," prospects could not be saved due to validation errors."]})]}),x.prospects&&x.prospects.length>0&&(0,Kn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[(0,Kn.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,Kn.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Sample Prospects"}),(0,Kn.jsxs)("p",{className:"text-xs text-gray-500",children:["Showing first ",Math.min(5,x.prospects.length)," prospects"]})]}),(0,Kn.jsx)("div",{className:"divide-y divide-gray-200",children:x.prospects.slice(0,5).map((e,t)=>(0,Kn.jsx)("div",{className:"px-4 py-3",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,Kn.jsx)("p",{className:"text-xs text-gray-500",children:e.title}),(0,Kn.jsx)("p",{className:"text-xs text-gray-500",children:e.company})]}),(0,Kn.jsxs)("div",{className:"text-right",children:[(0,Kn.jsxs)("p",{className:"text-xs text-gray-500",children:[e.city,", ",e.country]}),(0,Kn.jsx)("p",{className:"text-xs text-green-600",children:e.email_status})]})]})},t))})]})]}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Kn.jsx)("button",{onClick:()=>{M(),l("query")},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"New Search"}),(0,Kn.jsxs)("button",{onClick:s,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-colors flex items-center space-x-2",children:[(0,Kn.jsx)(ja,{className:"h-4 w-4"}),(0,Kn.jsx)("span",{children:"Done"})]})]})]})]})})}):null},mr=e=>{let{onClose:t,onSubmit:s}=e;const[n,a]=(0,r.useState)({email:"",first_name:"",last_name:"",company:"",phone:"",linkedin_url:"",company_domain:"",industry:"",company_linkedin_url:"",job_title:"",location:"",company_size:"",annual_revenue:"",lead_source:""}),[l,i]=(0,r.useState)([]),o=e=>{a({...n,[e.target.name]:e.target.value})},c=(e,t,s)=>{const n=[...l];n[e][t]=s,i(n)};return(0,Kn.jsx)("div",{className:"modal-overlay",children:(0,Kn.jsxs)("div",{className:"modal-content max-w-4xl",children:[(0,Kn.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Prospect"}),(0,Kn.jsx)("p",{className:"text-gray-600 mt-1",children:"Add a new prospect to your database"})]}),(0,Kn.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t={};l.forEach(e=>{e.key&&e.value&&(t[e.key]=e.value)});const a={...n,additional_fields:t};s(a)},className:"p-6 space-y-6",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,Kn.jsx)("input",{type:"email",name:"email",value:n.email,onChange:o,className:"input",required:!0,placeholder:"john.doe@example.com"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,Kn.jsx)("input",{type:"tel",name:"phone",value:n.phone,onChange:o,className:"input",placeholder:"+1-555-0123"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),(0,Kn.jsx)("input",{type:"text",name:"first_name",value:n.first_name,onChange:o,className:"input",required:!0,placeholder:"John"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),(0,Kn.jsx)("input",{type:"text",name:"last_name",value:n.last_name,onChange:o,className:"input",required:!0,placeholder:"Doe"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),(0,Kn.jsx)("input",{type:"text",name:"job_title",value:n.job_title,onChange:o,className:"input",placeholder:"CEO"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,Kn.jsx)("input",{type:"text",name:"location",value:n.location,onChange:o,className:"input",placeholder:"San Francisco, CA"})]})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Company Information"}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),(0,Kn.jsx)("input",{type:"text",name:"company",value:n.company,onChange:o,className:"input",placeholder:"Example Corp"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Domain"}),(0,Kn.jsx)("input",{type:"text",name:"company_domain",value:n.company_domain,onChange:o,className:"input",placeholder:"example.com"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),(0,Kn.jsx)("input",{type:"text",name:"industry",value:n.industry,onChange:o,className:"input",placeholder:"Technology"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Size"}),(0,Kn.jsxs)("select",{name:"company_size",value:n.company_size,onChange:o,className:"input",children:[(0,Kn.jsx)("option",{value:"",children:"Select size..."}),(0,Kn.jsx)("option",{value:"1-10",children:"1-10 employees"}),(0,Kn.jsx)("option",{value:"11-50",children:"11-50 employees"}),(0,Kn.jsx)("option",{value:"51-100",children:"51-100 employees"}),(0,Kn.jsx)("option",{value:"101-500",children:"101-500 employees"}),(0,Kn.jsx)("option",{value:"501-1000",children:"501-1000 employees"}),(0,Kn.jsx)("option",{value:"1000+",children:"1000+ employees"})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Revenue"}),(0,Kn.jsxs)("select",{name:"annual_revenue",value:n.annual_revenue,onChange:o,className:"input",children:[(0,Kn.jsx)("option",{value:"",children:"Select range..."}),(0,Kn.jsx)("option",{value:"$0-$1M",children:"$0-$1M"}),(0,Kn.jsx)("option",{value:"$1M-$5M",children:"$1M-$5M"}),(0,Kn.jsx)("option",{value:"$5M-$10M",children:"$5M-$10M"}),(0,Kn.jsx)("option",{value:"$10M-$50M",children:"$10M-$50M"}),(0,Kn.jsx)("option",{value:"$50M-$100M",children:"$50M-$100M"}),(0,Kn.jsx)("option",{value:"$100M+",children:"$100M+"})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Source"}),(0,Kn.jsxs)("select",{name:"lead_source",value:n.lead_source,onChange:o,className:"input",children:[(0,Kn.jsx)("option",{value:"",children:"Select source..."}),(0,Kn.jsx)("option",{value:"Website",children:"Website"}),(0,Kn.jsx)("option",{value:"LinkedIn",children:"LinkedIn"}),(0,Kn.jsx)("option",{value:"Referral",children:"Referral"}),(0,Kn.jsx)("option",{value:"Conference",children:"Conference"}),(0,Kn.jsx)("option",{value:"Social Media",children:"Social Media"}),(0,Kn.jsx)("option",{value:"Cold Email",children:"Cold Email"}),(0,Kn.jsx)("option",{value:"Partnership",children:"Partnership"}),(0,Kn.jsx)("option",{value:"Other",children:"Other"})]})]})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"LinkedIn Information"}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn URL"}),(0,Kn.jsx)("input",{type:"url",name:"linkedin_url",value:n.linkedin_url,onChange:o,className:"input",placeholder:"https://linkedin.com/in/john-doe"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company LinkedIn URL"}),(0,Kn.jsx)("input",{type:"url",name:"company_linkedin_url",value:n.company_linkedin_url,onChange:o,className:"input",placeholder:"https://linkedin.com/company/example-corp"})]})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Kn.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Additional Fields"}),(0,Kn.jsxs)("button",{type:"button",onClick:()=>{i([...l,{key:"",value:""}])},className:"btn btn-secondary text-sm",children:[(0,Kn.jsx)(Ua,{className:"h-4 w-4 mr-1"}),"Add Field"]})]}),l.map((e,t)=>(0,Kn.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Kn.jsx)("input",{type:"text",placeholder:"Field name",value:e.key,onChange:e=>c(t,"key",e.target.value),className:"input flex-1"}),(0,Kn.jsx)("input",{type:"text",placeholder:"Field value",value:e.value,onChange:e=>c(t,"value",e.target.value),className:"input flex-1"}),(0,Kn.jsx)("button",{type:"button",onClick:()=>(e=>{i(l.filter((t,s)=>s!==e))})(t),className:"p-2 text-red-500 hover:text-red-700",children:(0,Kn.jsx)(ka,{className:"h-4 w-4"})})]},t))]}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,Kn.jsx)("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancel"}),(0,Kn.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Prospect"})]})]})]})})},pr=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[a,l]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{p()},[]);const p=async()=>{try{const e=await Aa.getProspects();t(e.data)}catch(e){Pt.error("Failed to load prospects")}finally{n(!1)}},h=async()=>{try{const e=await Aa.api.get("/api/sample-csv"),t=e.data.content,s=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(s),a=document.createElement("a");a.href=n,a.download=e.data.filename,a.click(),window.URL.revokeObjectURL(n)}catch(e){const t=new Blob(["email,first_name,last_name,company,phone,linkedin_url,company_domain,industry,company_linkedin_url,job_title,location,company_size,annual_revenue,lead_source\njohn.doe@example.com,John,Doe,Example Corp,+1-555-0123,https://linkedin.com/in/john-doe,example.com,Technology,https://linkedin.com/company/example-corp,CEO,San Francisco CA,100-500,$10M-$50M,Website\njane.smith@test.com,Jane,Smith,Test Inc,+1-555-0456,https://linkedin.com/in/jane-smith,test.com,Software,https://linkedin.com/company/test-inc,CTO,New York NY,50-100,$5M-$10M,LinkedIn\nmark.wilson@demo.org,Mark,Wilson,Demo Solutions,+1-555-0789,https://linkedin.com/in/mark-wilson,demo.org,Consulting,https://linkedin.com/company/demo-solutions,VP Sales,Austin TX,200-500,$25M-$50M,Referral"],{type:"text/csv"}),s=window.URL.createObjectURL(t),n=document.createElement("a");n.href=s,n.download="prospects_sample.csv",n.click(),window.URL.revokeObjectURL(s)}},x=e.filter(e=>e.first_name.toLowerCase().includes(a.toLowerCase())||e.last_name.toLowerCase().includes(a.toLowerCase())||e.email.toLowerCase().includes(a.toLowerCase())||e.company.toLowerCase().includes(a.toLowerCase()));return s?(0,Kn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Kn.jsxs)("div",{className:"text-center",children:[(0,Kn.jsx)("div",{className:"loading-spinner mx-auto mb-4"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"Loading prospects..."})]})}):(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h1",{className:"text-4xl font-bold gradient-text",children:"Prospects"}),(0,Kn.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your email prospects and leads"})]}),(0,Kn.jsxs)("div",{className:"flex space-x-3",children:[(0,Kn.jsxs)("button",{onClick:()=>d(!0),className:"btn btn-gradient flex items-center space-x-2",children:[(0,Kn.jsx)(Na,{className:"h-4 w-4"}),(0,Kn.jsx)("span",{children:"AI Prospector"})]}),(0,Kn.jsxs)("button",{onClick:h,className:"btn btn-secondary flex items-center space-x-2",children:[(0,Kn.jsx)(Ka,{className:"h-4 w-4"}),(0,Kn.jsx)("span",{children:"Sample CSV"})]}),(0,Kn.jsxs)("label",{className:"btn btn-secondary cursor-pointer flex items-center space-x-2",children:[u?(0,Kn.jsxs)(Kn.Fragment,{children:[(0,Kn.jsx)(Ma,{className:"h-4 w-4 animate-spin"}),(0,Kn.jsx)("span",{children:"Uploading..."})]}):(0,Kn.jsxs)(Kn.Fragment,{children:[(0,Kn.jsx)(Ya,{className:"h-4 w-4"}),(0,Kn.jsx)("span",{children:"Upload CSV"})]}),(0,Kn.jsx)("input",{type:"file",accept:".csv",onChange:async e=>{const t=e.target.files[0];if(t){m(!0);try{const e=await Aa.uploadProspects(t);Pt.success(e.data.message),p()}catch(a){var s,n;Pt.error((null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.detail)||"Failed to upload prospects")}finally{m(!1)}}},className:"hidden",disabled:u})]}),(0,Kn.jsxs)("button",{onClick:()=>o(!0),className:"btn btn-primary flex items-center space-x-2",children:[(0,Kn.jsx)(Ua,{className:"h-4 w-4"}),(0,Kn.jsx)("span",{children:"Add Prospect"})]})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Prospects"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),(0,Kn.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-blue-500 to-blue-600",children:(0,Kn.jsx)(pa,{className:"h-5 w-5 text-white"})})]})})}),(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-emerald-600",children:e.filter(e=>"active"===e.status).length})]}),(0,Kn.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-emerald-500 to-emerald-600",children:(0,Kn.jsx)(Ga,{className:"h-5 w-5 text-white"})})]})})}),(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"With Companies"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:e.filter(e=>e.company&&e.company.length>0).length})]}),(0,Kn.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-purple-500 to-purple-600",children:(0,Kn.jsx)(Xa,{className:"h-5 w-5 text-white"})})]})})}),(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Recently Added"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:e.filter(e=>{const t=new Date(e.created_at),s=new Date,n=Math.abs(s-t);return Math.ceil(n/864e5)<=7}).length})]}),(0,Kn.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-orange-500 to-orange-600",children:(0,Kn.jsx)(Oa,{className:"h-5 w-5 text-white"})})]})})})]}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"relative",children:[(0,Kn.jsx)(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,Kn.jsx)("input",{type:"text",placeholder:"Search prospects by name, email, or company...",value:a,onChange:e=>l(e.target.value),className:"input pl-10"})]})})}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Kn.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Kn.jsx)(Ya,{className:"h-5 w-5 text-blue-600"})}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"CSV Upload Instructions"}),(0,Kn.jsxs)("p",{className:"text-gray-600 mb-3",children:["Upload a CSV file with the following required columns: ",(0,Kn.jsx)("strong",{children:"email"}),", ",(0,Kn.jsx)("strong",{children:"first_name"}),", ",(0,Kn.jsx)("strong",{children:"last_name"})]}),(0,Kn.jsxs)("div",{className:"mb-4",children:[(0,Kn.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Optional columns:"}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 text-sm text-gray-600",children:[(0,Kn.jsx)("span",{children:"\u2022 company"}),(0,Kn.jsx)("span",{children:"\u2022 phone"}),(0,Kn.jsx)("span",{children:"\u2022 linkedin_url"}),(0,Kn.jsx)("span",{children:"\u2022 company_domain"}),(0,Kn.jsx)("span",{children:"\u2022 industry"}),(0,Kn.jsx)("span",{children:"\u2022 company_linkedin_url"}),(0,Kn.jsx)("span",{children:"\u2022 job_title"}),(0,Kn.jsx)("span",{children:"\u2022 location"}),(0,Kn.jsx)("span",{children:"\u2022 company_size"}),(0,Kn.jsx)("span",{children:"\u2022 annual_revenue"}),(0,Kn.jsx)("span",{children:"\u2022 lead_source"}),(0,Kn.jsx)("span",{children:"\u2022 + custom fields"})]})]}),(0,Kn.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:[(0,Kn.jsx)("strong",{children:"Note:"})," You can include any additional custom fields in your CSV - they will be stored as additional fields for each prospect."]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Kn.jsx)("button",{onClick:h,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Download Sample CSV"}),(0,Kn.jsx)("span",{className:"text-gray-300",children:"|"}),(0,Kn.jsx)("a",{href:"/sample_prospects.csv",download:!0,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Download Pre-filled Sample"})]})]})]})})}),(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsx)("div",{className:"card-header",children:(0,Kn.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:["All Prospects (",x.length,")"]})}),(0,Kn.jsx)("div",{className:"card-body p-0",children:(0,Kn.jsx)("div",{className:"overflow-x-auto",children:(0,Kn.jsxs)("table",{className:"w-full",children:[(0,Kn.jsx)("thead",{children:(0,Kn.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,Kn.jsx)("th",{className:"table-header",children:"Name"}),(0,Kn.jsx)("th",{className:"table-header",children:"Email"}),(0,Kn.jsx)("th",{className:"table-header",children:"Company"}),(0,Kn.jsx)("th",{className:"table-header",children:"Phone"}),(0,Kn.jsx)("th",{className:"table-header",children:"Status"}),(0,Kn.jsx)("th",{className:"table-header",children:"Added"})]})}),(0,Kn.jsx)("tbody",{className:"divide-y divide-gray-100",children:x.map(e=>(0,Kn.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,Kn.jsx)("td",{className:"table-cell",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg",children:(0,Kn.jsx)(pa,{className:"h-4 w-4 text-blue-600"})}),(0,Kn.jsx)("div",{children:(0,Kn.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]})})]})}),(0,Kn.jsx)("td",{className:"table-cell",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(ta,{className:"h-4 w-4 text-gray-400"}),(0,Kn.jsx)("span",{className:"text-gray-900",children:e.email})]})}),(0,Kn.jsx)("td",{className:"table-cell",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(Xa,{className:"h-4 w-4 text-gray-400"}),(0,Kn.jsx)("span",{className:"text-gray-900",children:e.company||"N/A"})]})}),(0,Kn.jsx)("td",{className:"table-cell",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(er,{className:"h-4 w-4 text-gray-400"}),(0,Kn.jsx)("span",{className:"text-gray-900",children:e.phone||"N/A"})]})}),(0,Kn.jsx)("td",{className:"table-cell",children:(0,Kn.jsx)("span",{className:"badge "+("active"===e.status?"badge-success":"badge-danger"),children:e.status})}),(0,Kn.jsx)("td",{className:"table-cell text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})})]}),i&&(0,Kn.jsx)(mr,{onClose:()=>o(!1),onSubmit:async e=>{try{await Aa.createProspect(e),Pt.success("Prospect added successfully"),o(!1),p()}catch(t){Pt.error("Failed to add prospect")}}}),(0,Kn.jsx)(ur,{isOpen:c,onClose:()=>d(!1),onProspectsAdded:e=>{p(),Pt.success(`${e} prospects added via AI prospecting!`)}})]})},hr=ea("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),xr=ea("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),fr=ea("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),gr=ea("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),yr=e=>{let{onClose:t,onSubmit:s}=e;const[n,a]=(0,r.useState)({name:"",description:"",color:"#3B82F6",tags:[]}),[l,i]=(0,r.useState)(""),o=()=>{l.trim()&&!n.tags.includes(l.trim())&&(a({...n,tags:[...n.tags,l.trim()]}),i(""))};return(0,Kn.jsx)("div",{className:"modal-overlay",children:(0,Kn.jsxs)("div",{className:"modal-content",children:[(0,Kn.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Create New List"}),(0,Kn.jsx)("p",{className:"text-gray-600 mt-1",children:"Create a new prospect list"})]}),(0,Kn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(n)},className:"p-6 space-y-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"List Name *"}),(0,Kn.jsx)("input",{type:"text",value:n.name,onChange:e=>a({...n,name:e.target.value}),className:"input",required:!0,placeholder:"Technology Companies"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Kn.jsx)("textarea",{value:n.description,onChange:e=>a({...n,description:e.target.value}),className:"input h-20 resize-none",placeholder:"Description of this prospect list..."})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,Kn.jsx)("div",{className:"flex space-x-2",children:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6B7280"].map(e=>(0,Kn.jsx)("button",{type:"button",onClick:()=>a({...n,color:e}),className:"w-8 h-8 rounded-full border-2 "+(n.color===e?"border-gray-400":"border-gray-200"),style:{backgroundColor:e}},e))})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Kn.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),o()),className:"input flex-1",placeholder:"Add a tag..."}),(0,Kn.jsx)("button",{type:"button",onClick:o,className:"btn btn-secondary",children:"Add"})]}),n.tags.length>0&&(0,Kn.jsx)("div",{className:"flex flex-wrap gap-2",children:n.tags.map((e,t)=>(0,Kn.jsxs)("span",{className:"badge badge-info flex items-center space-x-1",children:[(0,Kn.jsx)("span",{children:e}),(0,Kn.jsx)("button",{type:"button",onClick:()=>{return t=e,void a({...n,tags:n.tags.filter(e=>e!==t)});var t},className:"text-blue-600 hover:text-blue-800",children:(0,Kn.jsx)(ka,{className:"h-3 w-3"})})]},t))})]}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,Kn.jsx)("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancel"}),(0,Kn.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create List"})]})]})]})})},vr=e=>{let{list:t,onClose:s,onSubmit:n}=e;const[a,l]=(0,r.useState)({name:t.name,description:t.description||"",color:t.color,tags:t.tags||[]}),[i,o]=(0,r.useState)(""),c=()=>{i.trim()&&!a.tags.includes(i.trim())&&(l({...a,tags:[...a.tags,i.trim()]}),o(""))};return(0,Kn.jsx)("div",{className:"modal-overlay",children:(0,Kn.jsxs)("div",{className:"modal-content",children:[(0,Kn.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Edit List"}),(0,Kn.jsx)("p",{className:"text-gray-600 mt-1",children:"Update list information"})]}),(0,Kn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(a)},className:"p-6 space-y-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"List Name *"}),(0,Kn.jsx)("input",{type:"text",value:a.name,onChange:e=>l({...a,name:e.target.value}),className:"input",required:!0})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Kn.jsx)("textarea",{value:a.description,onChange:e=>l({...a,description:e.target.value}),className:"input h-20 resize-none"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,Kn.jsx)("div",{className:"flex space-x-2",children:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6B7280"].map(e=>(0,Kn.jsx)("button",{type:"button",onClick:()=>l({...a,color:e}),className:"w-8 h-8 rounded-full border-2 "+(a.color===e?"border-gray-400":"border-gray-200"),style:{backgroundColor:e}},e))})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Kn.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),c()),className:"input flex-1",placeholder:"Add a tag..."}),(0,Kn.jsx)("button",{type:"button",onClick:c,className:"btn btn-secondary",children:"Add"})]}),a.tags.length>0&&(0,Kn.jsx)("div",{className:"flex flex-wrap gap-2",children:a.tags.map((e,t)=>(0,Kn.jsxs)("span",{className:"badge badge-info flex items-center space-x-1",children:[(0,Kn.jsx)("span",{children:e}),(0,Kn.jsx)("button",{type:"button",onClick:()=>{return t=e,void l({...a,tags:a.tags.filter(e=>e!==t)});var t},className:"text-blue-600 hover:text-blue-800",children:(0,Kn.jsx)(ka,{className:"h-3 w-3"})})]},t))})]}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,Kn.jsx)("button",{type:"button",onClick:s,className:"btn btn-secondary",children:"Cancel"}),(0,Kn.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update List"})]})]})]})})},br=e=>{let{list:t,prospects:s,onClose:n,onSubmit:a}=e;const[l,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(""),d=s.filter(e=>{var s;return!(null!==(s=e.list_ids)&&void 0!==s&&s.includes(t.id))&&(e.first_name.toLowerCase().includes(o.toLowerCase())||e.last_name.toLowerCase().includes(o.toLowerCase())||e.email.toLowerCase().includes(o.toLowerCase())||e.company.toLowerCase().includes(o.toLowerCase()))});return(0,Kn.jsx)("div",{className:"modal-overlay",children:(0,Kn.jsxs)("div",{className:"modal-content max-w-4xl",children:[(0,Kn.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Kn.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:["Add Prospects to ",t.name]}),(0,Kn.jsx)("p",{className:"text-gray-600 mt-1",children:"Select prospects to add to this list"})]}),(0,Kn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),0!==l.length?a(l):Pt.error("Please select at least one prospect")},className:"p-6",children:[(0,Kn.jsx)("div",{className:"mb-6",children:(0,Kn.jsxs)("div",{className:"relative",children:[(0,Kn.jsx)(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,Kn.jsx)("input",{type:"text",placeholder:"Search prospects...",value:o,onChange:e=>c(e.target.value),className:"input pl-10"})]})}),(0,Kn.jsx)("div",{className:"max-h-96 overflow-y-auto mb-6",children:0===d.length?(0,Kn.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No prospects available to add to this list"}):(0,Kn.jsx)("div",{className:"space-y-2",children:d.map(e=>(0,Kn.jsx)("div",{className:"p-4 border rounded-lg transition-colors "+(l.includes(e.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,Kn.jsx)("div",{className:"flex items-center justify-between",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("input",{type:"checkbox",checked:l.includes(e.id),onChange:t=>{var s;t.stopPropagation(),s=e.id,i(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s])},className:"h-4 w-4 text-blue-600 rounded"}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,Kn.jsxs)("div",{className:"text-sm text-gray-500",children:[e.email," \u2022 ",e.company||"No company"]})]})]})})},e.id))})}),(0,Kn.jsx)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:(0,Kn.jsxs)("div",{className:"text-sm text-blue-800",children:[l.length," prospect(s) selected"]})}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Kn.jsx)("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),(0,Kn.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:0===l.length,children:["Add ",l.length," Prospect(s)"]})]})]})]})})},jr=()=>{const e=te(),[t,s]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[l,i]=(0,r.useState)(!0),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),[m,p]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f()},[]);const f=async()=>{try{const[e,t]=await Promise.all([Aa.getLists(),Aa.getProspects()]);s(e.data),a(t.data)}catch(e){Pt.error("Failed to load data")}finally{i(!1)}};return l?(0,Kn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Kn.jsxs)("div",{className:"text-center",children:[(0,Kn.jsx)("div",{className:"loading-spinner mx-auto mb-4"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"Loading lists..."})]})}):(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h1",{className:"text-4xl font-bold gradient-text",children:"Prospect Lists"}),(0,Kn.jsx)("p",{className:"text-gray-600 mt-2",children:"Organize prospects into targeted lists"})]}),(0,Kn.jsxs)("button",{onClick:()=>c(!0),className:"btn btn-primary flex items-center space-x-2",children:[(0,Kn.jsx)(Ua,{className:"h-4 w-4"}),(0,Kn.jsx)("span",{children:"Create List"})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Lists"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),(0,Kn.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-blue-500 to-blue-600",children:(0,Kn.jsx)(hr,{className:"h-5 w-5 text-white"})})]})})}),(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Prospects"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-emerald-600",children:n.length})]}),(0,Kn.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-emerald-500 to-emerald-600",children:(0,Kn.jsx)(pa,{className:"h-5 w-5 text-white"})})]})})}),(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Avg. List Size"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:t.length>0?Math.round(t.reduce((e,t)=>e+t.prospect_count,0)/t.length):0})]}),(0,Kn.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-purple-500 to-purple-600",children:(0,Kn.jsx)(ia,{className:"h-5 w-5 text-white"})})]})})}),(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Tags"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:new Set(t.flatMap(e=>e.tags||[])).size})]}),(0,Kn.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-orange-500 to-orange-600",children:(0,Kn.jsx)(xr,{className:"h-5 w-5 text-white"})})]})})})]}),(0,Kn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(t=>(0,Kn.jsx)("div",{className:"card card-hover",children:(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:t.color}}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900",children:t.name}),(0,Kn.jsx)("p",{className:"text-sm text-gray-600",children:t.description})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("button",{onClick:()=>e(`/lists/${t.id}`),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"View List Details",children:(0,Kn.jsx)(ra,{className:"h-4 w-4"})}),(0,Kn.jsx)("button",{onClick:()=>(e=>{u(e),x(!0)})(t),className:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Add Prospects",children:(0,Kn.jsx)(ia,{className:"h-4 w-4"})}),(0,Kn.jsx)("button",{onClick:()=>{u(t),p(!0)},className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:(0,Kn.jsx)(fr,{className:"h-4 w-4"})}),(0,Kn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this list?"))try{await Aa.deleteList(e),Pt.success("List deleted successfully"),f()}catch(t){Pt.error("Failed to delete list")}})(t.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:(0,Kn.jsx)(gr,{className:"h-4 w-4"})})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(pa,{className:"h-4 w-4 text-gray-500"}),(0,Kn.jsxs)("span",{className:"text-sm text-gray-600",children:[t.prospect_count," prospects"]})]}),(0,Kn.jsx)("div",{className:"text-xs text-gray-500",children:new Date(t.created_at).toLocaleDateString()})]}),t.tags&&t.tags.length>0&&(0,Kn.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.tags.slice(0,3).map((e,t)=>(0,Kn.jsx)("span",{className:"badge badge-info text-xs",children:e},t)),t.tags.length>3&&(0,Kn.jsxs)("span",{className:"text-xs text-gray-500",children:["+",t.tags.length-3]})]})]})},t.id))}),o&&(0,Kn.jsx)(yr,{onClose:()=>c(!1),onSubmit:async e=>{try{await Aa.createList(e),Pt.success("List created successfully"),c(!1),f()}catch(t){Pt.error("Failed to create list")}}}),m&&d&&(0,Kn.jsx)(vr,{list:d,onClose:()=>{p(!1),u(null)},onSubmit:async e=>{try{await Aa.updateList(d.id,e),Pt.success("List updated successfully"),p(!1),u(null),f()}catch(t){Pt.error("Failed to update list")}}}),h&&d&&(0,Kn.jsx)(br,{list:d,prospects:n,onClose:()=>{x(!1),u(null)},onSubmit:e=>(async(e,t)=>{try{console.log("\ud83c\udfaf Adding prospects to list:",e,t);const s=await Aa.addProspectsToList(e,t);console.log("\u2705 Add prospects result:",s),Pt.success(`Successfully added ${t.length} prospect(s) to list!`,{duration:4e3,position:"top-right"}),await f(),x(!1),u(null),console.log("\u2705 Modal closed and data reloaded")}catch(s){console.error("\u274c Error adding prospects:",s),Pt.error(`Failed to add prospects to list: ${s.message||s}`,{duration:4e3,position:"top-right"})}})(d.id,e)})]})},Nr=ea("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),wr=ea("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),kr=ea("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Sr=e=>{let{list:t,prospects:s,onClose:n,onSubmit:a}=e;const[l,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(""),d=e=>{i(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},u=s.filter(e=>{var s,n,a,r,l;return!(null!==(s=e.list_ids)&&void 0!==s&&s.includes(t.id))&&((null===(n=e.first_name)||void 0===n?void 0:n.toLowerCase().includes(o.toLowerCase()))||(null===(a=e.last_name)||void 0===a?void 0:a.toLowerCase().includes(o.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(o.toLowerCase()))||(null===(l=e.company)||void 0===l?void 0:l.toLowerCase().includes(o.toLowerCase())))});return(0,Kn.jsx)("div",{className:"modal-overlay",children:(0,Kn.jsxs)("div",{className:"modal-content max-w-4xl",children:[(0,Kn.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Kn.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:["Add Prospects to ",t.name]}),(0,Kn.jsx)("p",{className:"text-gray-600 mt-1",children:"Select prospects to add to this list"})]}),(0,Kn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),0!==l.length?a(l):Pt.error("Please select at least one prospect")},className:"p-6",children:[(0,Kn.jsx)("div",{className:"mb-6",children:(0,Kn.jsxs)("div",{className:"relative",children:[(0,Kn.jsx)(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,Kn.jsx)("input",{type:"text",placeholder:"Search prospects...",value:o,onChange:e=>c(e.target.value),className:"input pl-10"})]})}),(0,Kn.jsx)("div",{className:"max-h-96 overflow-y-auto mb-6",children:0===u.length?(0,Kn.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No prospects available to add to this list"}):(0,Kn.jsx)("div",{className:"space-y-2",children:u.map(e=>(0,Kn.jsx)("div",{className:"p-4 border rounded-lg transition-colors cursor-pointer "+(l.includes(e.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>d(e.id),children:(0,Kn.jsx)("div",{className:"flex items-center justify-between",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("input",{type:"checkbox",checked:l.includes(e.id),onChange:t=>{t.stopPropagation(),d(e.id)},className:"h-4 w-4 text-blue-600 rounded"}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,Kn.jsxs)("div",{className:"text-sm text-gray-500",children:[e.email," \u2022 ",e.company||"No company"]})]})]})})},e.id))})}),(0,Kn.jsx)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:(0,Kn.jsxs)("div",{className:"text-sm text-blue-800",children:[l.length," prospect(s) selected"]})}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Kn.jsx)("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),(0,Kn.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:0===l.length,children:["Add ",l.length," Prospect(s)"]})]})]})]})})},_r=e=>{let{list:t,onClose:s,onSubmit:n}=e;const[a,l]=(0,r.useState)({name:t.name,description:t.description||"",color:t.color,tags:t.tags||[]}),[i,o]=(0,r.useState)(""),c=()=>{i.trim()&&!a.tags.includes(i.trim())&&(l({...a,tags:[...a.tags,i.trim()]}),o(""))};return(0,Kn.jsx)("div",{className:"modal-overlay",children:(0,Kn.jsxs)("div",{className:"modal-content",children:[(0,Kn.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Edit List"}),(0,Kn.jsx)("p",{className:"text-gray-600 mt-1",children:"Update list information"})]}),(0,Kn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(a)},className:"p-6 space-y-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"List Name *"}),(0,Kn.jsx)("input",{type:"text",value:a.name,onChange:e=>l({...a,name:e.target.value}),className:"input",required:!0})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Kn.jsx)("textarea",{value:a.description,onChange:e=>l({...a,description:e.target.value}),className:"input h-20 resize-none"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,Kn.jsx)("div",{className:"flex space-x-2",children:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6B7280"].map(e=>(0,Kn.jsx)("button",{type:"button",onClick:()=>l({...a,color:e}),className:"w-8 h-8 rounded-full border-2 "+(a.color===e?"border-gray-400":"border-gray-200"),style:{backgroundColor:e}},e))})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Kn.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),c()),className:"input flex-1",placeholder:"Add a tag..."}),(0,Kn.jsx)("button",{type:"button",onClick:c,className:"btn btn-secondary",children:"Add"})]}),a.tags.length>0&&(0,Kn.jsx)("div",{className:"flex flex-wrap gap-2",children:a.tags.map((e,t)=>(0,Kn.jsxs)("span",{className:"badge badge-info flex items-center space-x-1",children:[(0,Kn.jsx)("span",{children:e}),(0,Kn.jsx)("button",{type:"button",onClick:()=>{return t=e,void l({...a,tags:a.tags.filter(e=>e!==t)});var t},className:"text-blue-600 hover:text-blue-800",children:(0,Kn.jsx)(Fa,{className:"h-3 w-3"})})]},t))})]}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,Kn.jsx)("button",{type:"button",onClick:s,className:"btn btn-secondary",children:"Cancel"}),(0,Kn.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update List"})]})]})]})})},Cr=()=>{const{listId:e}=function(){let{matches:e}=r.useContext(Y),t=e[e.length-1];return t?t.params:{}}(),t=te(),[s,n]=(0,r.useState)(null),[a,l]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(""),[p,h]=(0,r.useState)(!1),[x,f]=(0,r.useState)(!1),[g,y]=(0,r.useState)([]),[v,b]=(0,r.useState)("all");(0,r.useEffect)(()=>{j(),N()},[e]);const j=async()=>{try{const t=await Aa.getList(e);n(t.data),l(t.data.prospects||[])}catch(s){Pt.error("Failed to load list details"),t("/lists")}finally{d(!1)}},N=async()=>{try{const e=await Aa.getProspects();o(e.data)}catch(e){console.error("Failed to load prospects:",e)}},w=async t=>{if(window.confirm(`Remove ${t.length} prospect(s) from this list?`))try{await Aa.removeProspectsFromList(e,t),Pt.success(`Removed ${t.length} prospects from list`),y([]),j()}catch(s){Pt.error("Failed to remove prospects from list")}},k=()=>{g.length===S.length?y([]):y(S.map(e=>e.id))},S=a.filter(e=>{var t,s,n,a;const r=(null===(t=e.first_name)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null===(s=e.last_name)||void 0===s?void 0:s.toLowerCase().includes(u.toLowerCase()))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(u.toLowerCase()))||(null===(a=e.company)||void 0===a?void 0:a.toLowerCase().includes(u.toLowerCase())),l="all"===v||e.status===v;return r&&l});return c?(0,Kn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Kn.jsxs)("div",{className:"text-center",children:[(0,Kn.jsx)("div",{className:"loading-spinner mx-auto mb-4"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"Loading list details..."})]})}):s?(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Kn.jsx)("button",{onClick:()=>t("/lists"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,Kn.jsx)(Nr,{className:"h-5 w-5 text-gray-600"})}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:s.color}}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h1",{className:"text-4xl font-bold gradient-text",children:s.name}),(0,Kn.jsx)("p",{className:"text-gray-600 mt-1",children:s.description})]})]})]}),(0,Kn.jsxs)("div",{className:"flex space-x-3",children:[(0,Kn.jsxs)("button",{onClick:()=>h(!0),className:"btn btn-secondary flex items-center space-x-2",children:[(0,Kn.jsx)(ia,{className:"h-4 w-4"}),(0,Kn.jsx)("span",{children:"Add Prospects"})]}),(0,Kn.jsxs)("button",{onClick:()=>f(!0),className:"btn btn-secondary flex items-center space-x-2",children:[(0,Kn.jsx)(fr,{className:"h-4 w-4"}),(0,Kn.jsx)("span",{children:"Edit List"})]}),(0,Kn.jsxs)("button",{onClick:async()=>{if(window.confirm(`Are you sure you want to delete "${s.name}"?`))try{await Aa.deleteList(e),Pt.success("List deleted successfully"),t("/lists")}catch(n){Pt.error("Failed to delete list")}},className:"btn btn-danger flex items-center space-x-2",children:[(0,Kn.jsx)(gr,{className:"h-4 w-4"}),(0,Kn.jsx)("span",{children:"Delete List"})]})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Prospects"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]}),(0,Kn.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-blue-500 to-blue-600",children:(0,Kn.jsx)(pa,{className:"h-5 w-5 text-white"})})]})})}),(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-emerald-600",children:a.filter(e=>"active"===e.status).length})]}),(0,Kn.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-emerald-500 to-emerald-600",children:(0,Kn.jsx)(ja,{className:"h-5 w-5 text-white"})})]})})}),(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"With Companies"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:a.filter(e=>e.company&&e.company.length>0).length})]}),(0,Kn.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-purple-500 to-purple-600",children:(0,Kn.jsx)(Xa,{className:"h-5 w-5 text-white"})})]})})}),(0,Kn.jsx)("div",{className:"stat-card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Created"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:new Date(s.created_at).toLocaleDateString()})]}),(0,Kn.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-orange-500 to-orange-600",children:(0,Kn.jsx)(Wa,{className:"h-5 w-5 text-white"})})]})})})]}),(0,Kn.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Kn.jsxs)("div",{className:"relative",children:[(0,Kn.jsx)(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,Kn.jsx)("input",{type:"text",placeholder:"Search prospects...",value:u,onChange:e=>m(e.target.value),className:"input pl-10 w-64"})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(wr,{className:"h-4 w-4 text-gray-500"}),(0,Kn.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"input w-32",children:[(0,Kn.jsx)("option",{value:"all",children:"All Status"}),(0,Kn.jsx)("option",{value:"active",children:"Active"}),(0,Kn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Kn.jsx)("option",{value:"bounced",children:"Bounced"})]})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[g.length>0&&(0,Kn.jsxs)("button",{onClick:()=>w(g),className:"btn btn-danger flex items-center space-x-2",children:[(0,Kn.jsx)(kr,{className:"h-4 w-4"}),(0,Kn.jsxs)("span",{children:["Remove Selected (",g.length,")"]})]}),(0,Kn.jsxs)("button",{onClick:()=>{const e=[["first_name","last_name","email","company","phone","job_title","status","created_at"].join(","),...S.map(e=>[e.first_name||"",e.last_name||"",e.email||"",e.company||"",e.phone||"",e.job_title||"",e.status||"",new Date(e.created_at).toLocaleDateString()].join(","))].join("\n"),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download=`${(null===s||void 0===s?void 0:s.name)||"prospects"}_export.csv`,a.click(),window.URL.revokeObjectURL(n)},className:"btn btn-secondary flex items-center space-x-2",children:[(0,Kn.jsx)(Ka,{className:"h-4 w-4"}),(0,Kn.jsx)("span",{children:"Export CSV"})]})]})]}),s.tags&&s.tags.length>0&&(0,Kn.jsx)("div",{className:"flex flex-wrap gap-2",children:s.tags.map((e,t)=>(0,Kn.jsx)("span",{className:"badge badge-info",children:e},t))}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Kn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Prospects in ",s.name," (",S.length,")"]}),(0,Kn.jsx)("button",{onClick:k,className:"btn btn-secondary btn-sm",children:g.length===S.length?"Deselect All":"Select All"})]}),0===S.length?(0,Kn.jsxs)("div",{className:"text-center py-12",children:[(0,Kn.jsx)(pa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Kn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No prospects found"}),(0,Kn.jsx)("p",{className:"text-gray-600 mb-4",children:u||"all"!==v?"Try adjusting your search or filter criteria":"Start by adding some prospects to this list"}),!u&&"all"===v&&(0,Kn.jsx)("button",{onClick:()=>h(!0),className:"btn btn-primary",children:"Add Prospects"})]}):(0,Kn.jsx)("div",{className:"overflow-x-auto",children:(0,Kn.jsxs)("table",{className:"table",children:[(0,Kn.jsx)("thead",{children:(0,Kn.jsxs)("tr",{children:[(0,Kn.jsx)("th",{className:"table-header",children:(0,Kn.jsx)("input",{type:"checkbox",checked:g.length===S.length,onChange:k,className:"h-4 w-4 text-blue-600 rounded"})}),(0,Kn.jsx)("th",{className:"table-header",children:"Name"}),(0,Kn.jsx)("th",{className:"table-header",children:"Email"}),(0,Kn.jsx)("th",{className:"table-header",children:"Company"}),(0,Kn.jsx)("th",{className:"table-header",children:"Phone"}),(0,Kn.jsx)("th",{className:"table-header",children:"Status"}),(0,Kn.jsx)("th",{className:"table-header",children:"Added"}),(0,Kn.jsx)("th",{className:"table-header",children:"Actions"})]})}),(0,Kn.jsx)("tbody",{children:S.map(e=>{var t,s;return(0,Kn.jsxs)("tr",{className:"table-row",children:[(0,Kn.jsx)("td",{className:"table-cell",children:(0,Kn.jsx)("input",{type:"checkbox",checked:g.includes(e.id),onChange:()=>{return t=e.id,void y(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"h-4 w-4 text-blue-600 rounded"})}),(0,Kn.jsx)("td",{className:"table-cell",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:(null===(t=e.first_name)||void 0===t?void 0:t[0])||(null===(s=e.email)||void 0===s?void 0:s[0])||"?"}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,Kn.jsx)("div",{className:"text-sm text-gray-500",children:e.job_title})]})]})}),(0,Kn.jsx)("td",{className:"table-cell",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(ta,{className:"h-4 w-4 text-gray-400"}),(0,Kn.jsx)("span",{className:"text-gray-900",children:e.email})]})}),(0,Kn.jsx)("td",{className:"table-cell",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(Xa,{className:"h-4 w-4 text-gray-400"}),(0,Kn.jsx)("span",{className:"text-gray-900",children:e.company||"N/A"})]})}),(0,Kn.jsx)("td",{className:"table-cell",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(er,{className:"h-4 w-4 text-gray-400"}),(0,Kn.jsx)("span",{className:"text-gray-900",children:e.phone||"N/A"})]})}),(0,Kn.jsx)("td",{className:"table-cell",children:(0,Kn.jsx)("span",{className:"badge "+("active"===e.status?"badge-success":"bounced"===e.status?"badge-danger":"badge-secondary"),children:e.status||"active"})}),(0,Kn.jsx)("td",{className:"table-cell text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,Kn.jsx)("td",{className:"table-cell",children:(0,Kn.jsx)("div",{className:"flex items-center space-x-2",children:(0,Kn.jsx)("button",{onClick:()=>w([e.id]),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Remove from list",children:(0,Kn.jsx)(kr,{className:"h-4 w-4"})})})})]},e.id)})})]})})]})}),p&&(0,Kn.jsx)(Sr,{list:s,prospects:i,onClose:()=>h(!1),onSubmit:async t=>{try{await Aa.addProspectsToList(e,t),Pt.success(`Added ${t.length} prospects to list`),h(!1),j()}catch(s){Pt.error("Failed to add prospects to list")}}}),x&&(0,Kn.jsx)(_r,{list:s,onClose:()=>f(!1),onSubmit:async t=>{try{await Aa.updateList(e,t),Pt.success("List updated successfully"),f(!1),j()}catch(s){Pt.error("Failed to update list")}}})]}):(0,Kn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Kn.jsxs)("div",{className:"text-center",children:[(0,Kn.jsx)(Oa,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,Kn.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"List Not Found"}),(0,Kn.jsx)("p",{className:"text-gray-600 mb-4",children:"The list you're looking for doesn't exist."}),(0,Kn.jsx)("button",{onClick:()=>t("/lists"),className:"btn btn-primary",children:"Back to Lists"})]})})},Er=e=>{let{template:t,onEdit:s}=e;return(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:t.name}),(0,Kn.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${(e=>{switch(e){case"initial":return"bg-blue-100 text-blue-800";case"follow_up":return"bg-green-100 text-green-800";case"auto_response":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}})(t.type)}`,children:t.type.replace("_"," ")})]}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600 mb-3",children:t.subject}),(0,Kn.jsx)("div",{className:"text-sm text-secondary-500 mb-4",children:(0,Kn.jsxs)("div",{className:"max-h-20 overflow-hidden",children:[t.content.substring(0,100),"..."]})}),(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("div",{className:"text-xs text-secondary-400",children:new Date(t.created_at).toLocaleDateString()}),(0,Kn.jsxs)("div",{className:"flex space-x-2",children:[(0,Kn.jsx)("button",{onClick:()=>s(t),className:"p-1 text-secondary-400 hover:text-primary-600",children:(0,Kn.jsx)(fr,{className:"h-4 w-4"})}),(0,Kn.jsx)("button",{className:"p-1 text-secondary-400 hover:text-primary-600",children:(0,Kn.jsx)(ra,{className:"h-4 w-4"})})]})]})]})})},Pr=e=>{let{template:t,onClose:s,onSave:n}=e;const[a,l]=(0,r.useState)({name:(null===t||void 0===t?void 0:t.name)||"",subject:(null===t||void 0===t?void 0:t.subject)||"",content:(null===t||void 0===t?void 0:t.content)||"",type:(null===t||void 0===t?void 0:t.type)||"initial",placeholders:(null===t||void 0===t?void 0:t.placeholders)||[]}),i=e=>{l({...a,[e.target.name]:e.target.value})};return(0,Kn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),(0,Kn.jsxs)("div",{className:"relative bg-white rounded-lg max-w-2xl w-full p-6",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 mb-4",children:t?"Edit Template":"Create New Template"}),(0,Kn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(a)},className:"space-y-4",children:[(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Template Name *"}),(0,Kn.jsx)("input",{type:"text",name:"name",value:a.name,onChange:i,className:"input",required:!0})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Type *"}),(0,Kn.jsxs)("select",{name:"type",value:a.type,onChange:i,className:"input",required:!0,children:[(0,Kn.jsx)("option",{value:"initial",children:"Initial"}),(0,Kn.jsx)("option",{value:"follow_up",children:"Follow-up"}),(0,Kn.jsx)("option",{value:"auto_response",children:"Auto-response"})]})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Subject Line *"}),(0,Kn.jsx)("input",{type:"text",name:"subject",value:a.subject,onChange:i,className:"input",required:!0})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email Content *"}),(0,Kn.jsx)("textarea",{name:"content",value:a.content,onChange:i,rows:"8",className:"input",required:!0})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Available Placeholders"}),(0,Kn.jsx)("div",{className:"flex flex-wrap gap-2",children:["{{first_name}}","{{last_name}}","{{company}}","{{email}}"].map((e,t)=>(0,Kn.jsx)("span",{className:"px-2 py-1 bg-secondary-100 text-secondary-700 text-sm rounded",children:e},t))})]}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Kn.jsx)("button",{type:"button",onClick:s,className:"btn btn-secondary",children:"Cancel"}),(0,Kn.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[t?"Update":"Create"," Template"]})]})]})]})]})})},Tr=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[a,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await Aa.getTemplates();t(e.data)}catch(e){Pt.error("Failed to load templates")}finally{n(!1)}},d=e=>{o(e),l(!0)};return s?(0,Kn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Kn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("h1",{className:"text-3xl font-bold text-secondary-900",children:"Email Templates"}),(0,Kn.jsxs)("button",{onClick:()=>{o(null),l(!0)},className:"btn btn-primary",children:[(0,Kn.jsx)(Ua,{className:"h-4 w-4 mr-2"}),"New Template"]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"Initial"}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"First contact templates"})]}),(0,Kn.jsx)("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Kn.jsx)(xa,{className:"h-4 w-4 text-blue-600"})})]})})}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"Follow-up"}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Sequence templates"})]}),(0,Kn.jsx)("div",{className:"h-8 w-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,Kn.jsx)(xa,{className:"h-4 w-4 text-green-600"})})]})})}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"Auto-response"}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"AI-generated replies"})]}),(0,Kn.jsx)("div",{className:"h-8 w-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,Kn.jsx)(xa,{className:"h-4 w-4 text-purple-600"})})]})})})]}),(0,Kn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,Kn.jsx)(Er,{template:e,onEdit:d},e.id))}),a&&(0,Kn.jsx)(Pr,{template:i,onClose:()=>{l(!1),o(null)},onSave:async e=>{try{i?(await Aa.updateTemplate(i.id,e),Pt.success("Template updated successfully")):(await Aa.createTemplate(e),Pt.success("Template created successfully")),l(!1),o(null),c()}catch(t){Pt.error("Failed to save template")}}})]})},Ar=e=>{let{intent:t,onEdit:s,onDelete:n}=e;return(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:t.name}),(0,Kn.jsxs)("div",{className:"flex space-x-1",children:[(0,Kn.jsx)("button",{onClick:()=>s(t),className:"p-1 text-secondary-400 hover:text-primary-600",children:(0,Kn.jsx)(fr,{className:"h-4 w-4"})}),(0,Kn.jsx)("button",{onClick:()=>n(t.id),className:"p-1 text-secondary-400 hover:text-red-600",children:(0,Kn.jsx)(gr,{className:"h-4 w-4"})})]})]}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600 mb-4",children:t.description}),t.keywords&&t.keywords.length>0&&(0,Kn.jsxs)("div",{className:"mb-4",children:[(0,Kn.jsx)("p",{className:"text-xs text-secondary-500 mb-2",children:"Keywords:"}),(0,Kn.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.keywords.slice(0,3).map((e,t)=>(0,Kn.jsx)("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs rounded",children:e},t)),t.keywords.length>3&&(0,Kn.jsxs)("span",{className:"px-2 py-1 bg-secondary-100 text-secondary-600 text-xs rounded",children:["+",t.keywords.length-3," more"]})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{className:"text-xs text-secondary-400",children:["Created ",new Date(t.created_at).toLocaleDateString()]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Kn.jsx)(ba,{className:"h-4 w-4 text-secondary-400"}),(0,Kn.jsx)("span",{className:"text-xs text-secondary-400",children:"AI Ready"})]})]})]})})},Rr=e=>{var t;let{intent:s,onClose:n,onSave:a}=e;const[l,i]=(0,r.useState)({name:(null===s||void 0===s?void 0:s.name)||"",description:(null===s||void 0===s?void 0:s.description)||"",keywords:(null===s||void 0===s||null===(t=s.keywords)||void 0===t?void 0:t.join(", "))||"",primary_template_id:(null===s||void 0===s?void 0:s.primary_template_id)||"",fallback_template_id:(null===s||void 0===s?void 0:s.fallback_template_id)||"",auto_respond:(null===s||void 0===s?void 0:s.auto_respond)||!0,response_delay_min:(null===s||void 0===s?void 0:s.response_delay_min)||5,response_delay_max:(null===s||void 0===s?void 0:s.response_delay_max)||60,confidence_threshold:(null===s||void 0===s?void 0:s.confidence_threshold)||.7,escalate_to_human:(null===s||void 0===s?void 0:s.escalate_to_human)||!1}),[o,c]=(0,r.useState)([]);(0,r.useEffect)(()=>{d()},[]);const d=async()=>{try{const e=await Aa.getTemplates();c(e.data)}catch(e){console.error("Failed to load templates:",e)}},u=e=>{const{name:t,value:s,type:n,checked:a}=e.target;i({...l,[t]:"checkbox"===n?a:s})},m=o.filter(e=>"auto_response"===e.type);return(0,Kn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),(0,Kn.jsxs)("div",{className:"relative bg-white rounded-lg max-w-3xl w-full p-6",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 mb-4",children:s?"Edit Intent":"Create New Intent"}),(0,Kn.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t={...l,keywords:l.keywords.split(",").map(e=>e.trim()).filter(e=>e)};a(t)},className:"space-y-4",children:[(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Intent Name *"}),(0,Kn.jsx)("input",{type:"text",name:"name",value:l.name,onChange:u,placeholder:"e.g., Positive Response, Not Interested, Request Info",className:"input",required:!0})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Confidence Threshold"}),(0,Kn.jsxs)("select",{name:"confidence_threshold",value:l.confidence_threshold,onChange:u,className:"input",children:[(0,Kn.jsx)("option",{value:.5,children:"50% (Low)"}),(0,Kn.jsx)("option",{value:.6,children:"60% (Medium-Low)"}),(0,Kn.jsx)("option",{value:.7,children:"70% (Medium)"}),(0,Kn.jsx)("option",{value:.8,children:"80% (High)"}),(0,Kn.jsx)("option",{value:.9,children:"90% (Very High)"})]})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Description *"}),(0,Kn.jsx)("textarea",{name:"description",value:l.description,onChange:u,placeholder:"Describe what kind of emails should trigger this intent...",rows:"3",className:"input",required:!0})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Keywords (Optional)"}),(0,Kn.jsx)("input",{type:"text",name:"keywords",value:l.keywords,onChange:u,placeholder:"interested, yes, tell me more, not interested, no thanks",className:"input"}),(0,Kn.jsx)("p",{className:"text-xs text-secondary-500 mt-1",children:"Separate keywords with commas. These help the AI identify this intent."})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Primary Template"}),(0,Kn.jsxs)("select",{name:"primary_template_id",value:l.primary_template_id,onChange:u,className:"input",children:[(0,Kn.jsx)("option",{value:"",children:"Select primary template"}),m.map(e=>(0,Kn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Fallback Template"}),(0,Kn.jsxs)("select",{name:"fallback_template_id",value:l.fallback_template_id,onChange:u,className:"input",children:[(0,Kn.jsx)("option",{value:"",children:"Select fallback template"}),m.map(e=>(0,Kn.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Response Delay (Min)"}),(0,Kn.jsx)("input",{type:"number",name:"response_delay_min",value:l.response_delay_min,onChange:u,min:"1",max:"60",className:"input"}),(0,Kn.jsx)("p",{className:"text-xs text-secondary-500 mt-1",children:"Minutes"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Response Delay (Max)"}),(0,Kn.jsx)("input",{type:"number",name:"response_delay_max",value:l.response_delay_max,onChange:u,min:"1",max:"120",className:"input"}),(0,Kn.jsx)("p",{className:"text-xs text-secondary-500 mt-1",children:"Minutes"})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Kn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("input",{type:"checkbox",name:"auto_respond",checked:l.auto_respond,onChange:u,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-700",children:"Auto-respond to this intent"})]}),(0,Kn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("input",{type:"checkbox",name:"escalate_to_human",checked:l.escalate_to_human,onChange:u,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-700",children:"Escalate to human"})]})]}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Kn.jsx)("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),(0,Kn.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[s?"Update":"Create"," Intent"]})]})]})]})]})})},Lr=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[a,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await Aa.getIntents();t(e.data)}catch(e){Pt.error("Failed to load intents")}finally{n(!1)}},d=async e=>{if(window.confirm("Are you sure you want to delete this intent?"))try{await Aa.deleteIntent(e),Pt.success("Intent deleted successfully"),c()}catch(t){Pt.error("Failed to delete intent")}},u=e=>{o(e),l(!0)},m=()=>{o(null),l(!0)};return s?(0,Kn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Kn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h1",{className:"text-3xl font-bold text-secondary-900",children:"Intent Management"}),(0,Kn.jsx)("p",{className:"text-secondary-600 mt-1",children:"Configure AI intent classification for automatic responses"})]}),(0,Kn.jsxs)("button",{onClick:m,className:"btn btn-primary",children:[(0,Kn.jsx)(Ua,{className:"h-4 w-4 mr-2"}),"New Intent"]})]}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Kn.jsx)(fa,{className:"h-5 w-5 text-primary-600 mr-2"}),(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"How Intent Classification Works"})]}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600 mb-4",children:"When an email is received, the AI analyzes the content and classifies it based on the intents you've configured. Each intent should have a clear name and detailed description to help the AI understand when to trigger it."}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Positive Response"})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"h-2 w-2 bg-red-500 rounded-full"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Negative Response"})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"h-2 w-2 bg-yellow-500 rounded-full"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Question/Inquiry"})]})]})]})}),(0,Kn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,Kn.jsx)(Ar,{intent:e,onEdit:u,onDelete:d},e.id))}),0===e.length&&(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsxs)("div",{className:"card-body text-center py-12",children:[(0,Kn.jsx)(fa,{className:"h-12 w-12 text-secondary-400 mx-auto mb-4"}),(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 mb-2",children:"No Intents Configured"}),(0,Kn.jsx)("p",{className:"text-secondary-600 mb-4",children:"Create your first intent to enable AI-powered automatic responses"}),(0,Kn.jsxs)("button",{onClick:m,className:"btn btn-primary",children:[(0,Kn.jsx)(Ua,{className:"h-4 w-4 mr-2"}),"Create Intent"]})]})}),a&&(0,Kn.jsx)(Rr,{intent:i,onClose:()=>{l(!1),o(null)},onSave:async e=>{try{i?(await Aa.updateIntent(i.id,e),Pt.success("Intent updated successfully")):(await Aa.createIntent(e),Pt.success("Intent created successfully")),l(!1),o(null),c()}catch(t){Pt.error("Failed to save intent")}}})]})},Fr=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[a,l]=(0,r.useState)(""),[i,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{c()},[]),(0,r.useEffect)(()=>{a&&d(a)},[a]);const c=async()=>{try{const e=await Aa.getCampaigns();t(e.data),e.data.length>0&&l(e.data[0].id)}catch(e){Pt.error("Failed to load campaigns")}finally{n(!1)}},d=async e=>{try{const t=await Aa.getCampaignAnalytics(e);o(t.data)}catch(t){Pt.error("Failed to load analytics")}},u=(e,t)=>0===t?0:(e/t*100).toFixed(1);return s?(0,Kn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Kn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("h1",{className:"text-3xl font-bold text-secondary-900",children:"Analytics"}),(0,Kn.jsx)("div",{className:"flex items-center space-x-4",children:(0,Kn.jsxs)("select",{value:a,onChange:e=>l(e.target.value),className:"input w-64",children:[(0,Kn.jsx)("option",{value:"",children:"Select Campaign"}),e.map(e=>(0,Kn.jsx)("option",{value:e.id,children:e.name},e.id))]})})]}),i?(0,Kn.jsxs)(Kn.Fragment,{children:[(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Emails Sent"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:i.total_sent})]}),(0,Kn.jsx)("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Kn.jsx)(ta,{className:"h-5 w-5 text-blue-600"})})]}),(0,Kn.jsx)("div",{className:"mt-2",children:(0,Kn.jsxs)("span",{className:"text-sm text-secondary-500",children:[i.total_failed," failed"]})})]})}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Open Rate"}),(0,Kn.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[u(i.total_opened,i.total_sent),"%"]})]}),(0,Kn.jsx)("div",{className:"h-10 w-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,Kn.jsx)(ra,{className:"h-5 w-5 text-green-600"})})]}),(0,Kn.jsx)("div",{className:"mt-2",children:(0,Kn.jsxs)("span",{className:"text-sm text-secondary-500",children:[i.total_opened," opened"]})})]})}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Reply Rate"}),(0,Kn.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[u(i.total_replied,i.total_sent),"%"]})]}),(0,Kn.jsx)("div",{className:"h-10 w-10 bg-purple-100 rounded-full flex items-center justify-center",children:(0,Kn.jsx)(ba,{className:"h-5 w-5 text-purple-600"})})]}),(0,Kn.jsx)("div",{className:"mt-2",children:(0,Kn.jsxs)("span",{className:"text-sm text-secondary-500",children:[i.total_replied," replied"]})})]})}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Delivery Rate"}),(0,Kn.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:[u(i.total_sent,i.total_sent+i.total_failed),"%"]})]}),(0,Kn.jsx)("div",{className:"h-10 w-10 bg-orange-100 rounded-full flex items-center justify-center",children:(0,Kn.jsx)(Ca,{className:"h-5 w-5 text-orange-600"})})]}),(0,Kn.jsx)("div",{className:"mt-2",children:(0,Kn.jsxs)("span",{className:"text-sm text-secondary-500",children:[i.total_sent+i.total_failed," attempted"]})})]})})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsx)("div",{className:"card-header",children:(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"Email Performance"})}),(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"space-y-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Sent"}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"w-32 bg-secondary-200 rounded-full h-2",children:(0,Kn.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"100%"}})}),(0,Kn.jsx)("span",{className:"text-sm font-medium",children:i.total_sent})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Opened"}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"w-32 bg-secondary-200 rounded-full h-2",children:(0,Kn.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${u(i.total_opened,i.total_sent)}%`}})}),(0,Kn.jsx)("span",{className:"text-sm font-medium",children:i.total_opened})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Replied"}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"w-32 bg-secondary-200 rounded-full h-2",children:(0,Kn.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${u(i.total_replied,i.total_sent)}%`}})}),(0,Kn.jsx)("span",{className:"text-sm font-medium",children:i.total_replied})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Failed"}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"w-32 bg-secondary-200 rounded-full h-2",children:(0,Kn.jsx)("div",{className:"bg-red-600 h-2 rounded-full",style:{width:`${u(i.total_failed,i.total_sent+i.total_failed)}%`}})}),(0,Kn.jsx)("span",{className:"text-sm font-medium",children:i.total_failed})]})]})]})})]}),(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsx)("div",{className:"card-header",children:(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"Campaign Summary"})}),(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"space-y-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Total Emails"}),(0,Kn.jsx)("span",{className:"text-sm font-medium",children:i.total_sent+i.total_failed})]}),(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Success Rate"}),(0,Kn.jsxs)("span",{className:"text-sm font-medium text-green-600",children:[u(i.total_sent,i.total_sent+i.total_failed),"%"]})]}),(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Engagement Rate"}),(0,Kn.jsxs)("span",{className:"text-sm font-medium text-purple-600",children:[u(i.total_opened+i.total_replied,i.total_sent),"%"]})]}),(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Conversion Rate"}),(0,Kn.jsxs)("span",{className:"text-sm font-medium text-orange-600",children:[u(i.total_replied,i.total_sent),"%"]})]})]})})]})]}),(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsx)("div",{className:"card-header",children:(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"Insights & Recommendations"})}),(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Kn.jsxs)("div",{className:"space-y-3",children:[(0,Kn.jsx)("h4",{className:"font-medium text-secondary-900",children:"Performance Insights"}),i.total_opened>0&&(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Good open rate indicates effective subject lines"})]}),i.total_replied>0&&(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"h-2 w-2 bg-purple-500 rounded-full"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Replies indicate strong content relevance"})]}),i.total_failed>0&&(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"h-2 w-2 bg-red-500 rounded-full"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Check email addresses and SMTP settings"})]})]}),(0,Kn.jsxs)("div",{className:"space-y-3",children:[(0,Kn.jsx)("h4",{className:"font-medium text-secondary-900",children:"Optimization Tips"}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(nr,{className:"h-4 w-4 text-secondary-400"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Send times affect open rates"})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(ga,{className:"h-4 w-4 text-secondary-400"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"A/B test different subject lines"})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)(Ca,{className:"h-4 w-4 text-secondary-400"}),(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Personalization improves engagement"})]})]})]})})]})]}):(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsxs)("div",{className:"card-body text-center py-12",children:[(0,Kn.jsx)(ga,{className:"h-12 w-12 text-secondary-400 mx-auto mb-4"}),(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 mb-2",children:"No Data Available"}),(0,Kn.jsx)("p",{className:"text-secondary-600",children:0===e.length?"Create a campaign to view analytics":"Select a campaign to view its analytics"})]})})]})},Or=ea("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]),Mr=ea("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Dr=e=>{var t,s,n,a,r,l;let{thread:i,onViewThread:o,onForceStopFollowUp:c,onRestartFollowUp:d}=e;const u=(null===(t=i.messages)||void 0===t?void 0:t.length)||0,m=null===(s=i.messages)||void 0===s?void 0:s[u-1],p=(null===(n=i.messages)||void 0===n||null===(a=n.filter(e=>e.ai_generated))||void 0===a?void 0:a.length)||0,h=(null===(r=i.messages)||void 0===r||null===(l=r.filter(e=>e.sent_by_us))||void 0===l?void 0:l.length)||0;return(0,Kn.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Kn.jsx)("div",{className:"p-2 bg-blue-100 rounded-full",children:(0,Kn.jsx)(ba,{className:"h-4 w-4 text-blue-600"})}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsxs)("h4",{className:"font-medium text-secondary-900",children:["Thread ",i.id.substring(0,8),"..."]}),(0,Kn.jsxs)("p",{className:"text-sm text-secondary-600",children:[u," messages \u2022 ",p," AI responses \u2022 ",h," sent by us"]}),m&&(0,Kn.jsxs)("p",{className:"text-xs text-secondary-500 mt-1",children:["Last activity: ",new Date(m.timestamp).toLocaleString()]})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("button",{onClick:()=>c(i.prospect_id),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Force stop follow-ups",children:(0,Kn.jsx)(Or,{className:"h-4 w-4"})}),(0,Kn.jsx)("button",{onClick:()=>d(i.prospect_id),className:"p-2 text-green-400 hover:text-green-600 hover:bg-green-50 rounded",title:"Restart follow-ups",children:(0,Kn.jsx)(Mr,{className:"h-4 w-4"})}),(0,Kn.jsx)("button",{onClick:()=>o(i),className:"p-2 text-secondary-400 hover:text-primary-600",children:(0,Kn.jsx)(ra,{className:"h-4 w-4"})})]})]})},zr=e=>{let{logs:t,onClose:s}=e;return(0,Kn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),(0,Kn.jsxs)("div",{className:"relative bg-white rounded-lg max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"IMAP Scan Logs (Last 24 Hours)"}),(0,Kn.jsx)("button",{onClick:s,className:"text-secondary-400 hover:text-secondary-600",children:"\xd7"})]}),(0,Kn.jsx)("div",{className:"space-y-4",children:0===t.length?(0,Kn.jsx)("p",{className:"text-center text-secondary-500 py-8",children:"No IMAP logs found"}):t.map((e,t)=>{var s;return(0,Kn.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Kn.jsx)("span",{className:"text-sm font-medium text-secondary-900",children:new Date(e.timestamp).toLocaleString()}),(0,Kn.jsxs)("span",{className:"text-xs text-secondary-500",children:[e.scan_duration_seconds,"s"]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"New Emails:"}),(0,Kn.jsx)("span",{className:"font-medium ml-2",children:e.new_emails_found})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"Processed:"}),(0,Kn.jsx)("span",{className:"font-medium ml-2",children:e.emails_processed})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"Errors:"}),(0,Kn.jsx)("span",{className:"font-medium ml-2",children:(null===(s=e.errors)||void 0===s?void 0:s.length)||0})]})]}),e.errors&&e.errors.length>0&&(0,Kn.jsx)("div",{className:"mt-2 p-2 bg-red-50 rounded text-sm text-red-700",children:e.errors.map((e,t)=>(0,Kn.jsx)("div",{children:e},t))})]},t)})})]})]})})},Ir=e=>{let{responses:t,onClose:s}=e;return(0,Kn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),(0,Kn.jsxs)("div",{className:"relative bg-white rounded-lg max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"Recent Prospect Responses (Last 7 Days)"}),(0,Kn.jsx)("button",{onClick:s,className:"text-secondary-400 hover:text-secondary-600",children:"\xd7"})]}),(0,Kn.jsx)("div",{className:"space-y-4",children:0===t.length?(0,Kn.jsx)("p",{className:"text-center text-secondary-500 py-8",children:"No recent responses found"}):t.map((e,t)=>(0,Kn.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h4",{className:"font-medium text-secondary-900",children:e.prospect.email}),(0,Kn.jsxs)("p",{className:"text-sm text-secondary-600",children:[e.prospect.first_name," ",e.prospect.last_name]})]}),(0,Kn.jsx)("span",{className:"px-2 py-1 text-xs rounded "+("manual"===e.response_type?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.response_type})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"Follow-ups sent:"}),(0,Kn.jsx)("span",{className:"font-medium ml-2",children:e.follow_up_history.length})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"Responded:"}),(0,Kn.jsx)("span",{className:"font-medium ml-2",children:new Date(e.prospect.responded_at).toLocaleString()})]})]})]},t))})]})]})})},$r=e=>{let{analysis:t,onClose:s,onForceStopFollowUp:n,onRestartFollowUp:a}=e;const{prospect:r,analysis:l,messages:i,follow_up_history:o}=t;return(0,Kn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),(0,Kn.jsxs)("div",{className:"relative bg-white rounded-lg max-w-5xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Kn.jsxs)("h3",{className:"text-lg font-semibold text-secondary-900",children:["Thread Analysis - ",r.email]}),(0,Kn.jsx)("button",{onClick:s,className:"text-secondary-400 hover:text-secondary-600",children:"\xd7"})]}),(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Kn.jsx)("h4",{className:"font-semibold text-secondary-900 mb-2",children:"Prospect Details"}),(0,Kn.jsxs)("p",{className:"text-sm text-secondary-600",children:[(0,Kn.jsx)("span",{className:"font-medium",children:"Name:"})," ",r.first_name," ",r.last_name]}),(0,Kn.jsxs)("p",{className:"text-sm text-secondary-600",children:[(0,Kn.jsx)("span",{className:"font-medium",children:"Company:"})," ",r.company]}),(0,Kn.jsxs)("p",{className:"text-sm text-secondary-600",children:[(0,Kn.jsx)("span",{className:"font-medium",children:"Status:"})," ",r.follow_up_status]})]}),(0,Kn.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Kn.jsx)("h4",{className:"font-semibold text-secondary-900 mb-2",children:"Thread Analytics"}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"Total Messages:"}),(0,Kn.jsx)("span",{className:"font-medium ml-2",children:l.total_messages})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"Sent by Us:"}),(0,Kn.jsx)("span",{className:"font-medium ml-2",children:l.sent_by_us})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"Received:"}),(0,Kn.jsx)("span",{className:"font-medium ml-2",children:l.received_from_prospect})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("span",{className:"text-secondary-600",children:"Follow-ups:"}),(0,Kn.jsx)("span",{className:"font-medium ml-2",children:l.follow_up_count})]})]}),l.response_time_seconds&&(0,Kn.jsxs)("p",{className:"text-sm text-secondary-600 mt-2",children:[(0,Kn.jsx)("span",{className:"font-medium",children:"Response Time:"})," ",Math.round(l.response_time_seconds/3600),"h"]})]})]}),(0,Kn.jsxs)("div",{className:"flex space-x-4",children:[(0,Kn.jsxs)("button",{onClick:()=>n(r.id),className:"btn btn-secondary",children:[(0,Kn.jsx)(Or,{className:"h-4 w-4 mr-2"}),"Force Stop Follow-ups"]}),(0,Kn.jsxs)("button",{onClick:()=>a(r.id),className:"btn btn-primary",children:[(0,Kn.jsx)(Mr,{className:"h-4 w-4 mr-2"}),"Restart Follow-ups"]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h4",{className:"font-semibold text-secondary-900 mb-4",children:"Thread Messages"}),(0,Kn.jsx)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:i.map((e,t)=>(0,Kn.jsxs)("div",{className:"p-3 rounded-lg "+(e.sent_by_us?"bg-blue-50 border border-blue-200":"bg-gray-50 border border-gray-200"),children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("span",{className:"px-2 py-1 text-xs rounded "+(e.sent_by_us?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.sent_by_us?"Sent by Us":"Received"}),e.is_follow_up&&(0,Kn.jsxs)("span",{className:"px-2 py-1 text-xs rounded bg-purple-100 text-purple-800",children:["Follow-up #",e.follow_up_sequence]})]}),(0,Kn.jsx)("span",{className:"text-xs text-secondary-500",children:new Date(e.timestamp).toLocaleString()})]}),(0,Kn.jsx)("p",{className:"text-sm font-medium text-secondary-900",children:e.subject}),(0,Kn.jsxs)("p",{className:"text-xs text-secondary-600 mt-1",children:[e.content.substring(0,100),"..."]})]},t))})]})]})]})]})})},Ur=e=>{var t;let{onClose:s}=e;const[n,a]=(0,r.useState)({subject:"",content:"",prospect_id:""}),[l,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1);return(0,Kn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),(0,Kn.jsxs)("div",{className:"relative bg-white rounded-lg max-w-3xl w-full p-6",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 mb-4",children:"Test AI Classification"}),(0,Kn.jsxs)("div",{className:"space-y-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email Subject"}),(0,Kn.jsx)("input",{type:"text",value:n.subject,onChange:e=>a({...n,subject:e.target.value}),className:"input",placeholder:"Enter email subject..."})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email Content *"}),(0,Kn.jsx)("textarea",{value:n.content,onChange:e=>a({...n,content:e.target.value}),className:"input",rows:"6",placeholder:"Enter email content to test..."})]}),(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("button",{onClick:async()=>{if(n.content){c(!0);try{const e=await Aa.testIntentClassification(n);i(e.data),Pt.success("AI classification completed")}catch(e){Pt.error("Failed to test classification")}finally{c(!1)}}else Pt.error("Email content is required")},disabled:o,className:"btn btn-primary",children:o?"Testing...":"Test Classification"}),(0,Kn.jsx)("button",{onClick:s,className:"btn btn-secondary",children:"Close"})]})]}),l&&(0,Kn.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,Kn.jsx)("h4",{className:"font-semibold text-secondary-900 mb-3",children:"Test Results"}),(0,Kn.jsxs)("div",{className:"space-y-3",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h5",{className:"font-medium text-secondary-700",children:"Classified Intents:"}),null===(t=l.classified_intents)||void 0===t?void 0:t.map((e,t)=>(0,Kn.jsxs)("div",{className:"ml-4 p-2 bg-white rounded border",children:[(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{className:"font-medium",children:e.intent_name}),(0,Kn.jsxs)("span",{className:"text-sm text-green-600",children:[(100*e.confidence).toFixed(1),"%"]})]}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:e.reasoning})]},t))]}),l.sentiment_analysis&&(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h5",{className:"font-medium text-secondary-700",children:"Sentiment Analysis:"}),(0,Kn.jsx)("div",{className:"ml-4 p-2 bg-white rounded border",children:(0,Kn.jsxs)("div",{className:"flex space-x-4",children:[(0,Kn.jsxs)("span",{children:["Sentiment: ",(0,Kn.jsx)("strong",{children:l.sentiment_analysis.sentiment})]}),(0,Kn.jsxs)("span",{children:["Urgency: ",(0,Kn.jsx)("strong",{children:l.sentiment_analysis.urgency})]}),(0,Kn.jsxs)("span",{children:["Emotion: ",(0,Kn.jsx)("strong",{children:l.sentiment_analysis.emotion_detected})]})]})})]})]})]})]})]})})},Br=e=>{let{thread:t,onClose:s}=e;const n=t.messages||[];return(0,Kn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),(0,Kn.jsxs)("div",{className:"relative bg-white rounded-lg max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Kn.jsxs)("h3",{className:"text-lg font-semibold text-secondary-900",children:["Thread Details - ",t.id.substring(0,8),"..."]}),(0,Kn.jsx)("button",{onClick:s,className:"text-secondary-400 hover:text-secondary-600",children:"\xd7"})]}),(0,Kn.jsxs)("div",{className:"space-y-4",children:[n.map((e,t)=>(0,Kn.jsxs)("div",{className:"p-4 rounded-lg "+("sent"===e.type?"bg-blue-50 border border-blue-200":"bg-gray-50 border border-gray-200"),children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("span",{className:"px-2 py-1 text-xs rounded "+("sent"===e.type?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"sent"===e.type?"Sent":"Received"}),e.ai_generated&&(0,Kn.jsx)("span",{className:"px-2 py-1 text-xs rounded bg-purple-100 text-purple-800",children:"AI Generated"})]}),(0,Kn.jsx)("span",{className:"text-xs text-secondary-500",children:new Date(e.timestamp).toLocaleString()})]}),(0,Kn.jsx)("div",{className:"mb-2",children:(0,Kn.jsx)("p",{className:"font-medium text-secondary-900",children:e.subject})}),(0,Kn.jsx)("div",{className:"text-sm text-secondary-600",children:(0,Kn.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}})})]},t)),0===n.length&&(0,Kn.jsx)("p",{className:"text-center text-secondary-500 py-8",children:"No messages in this thread yet"})]})]})]})})},qr=()=>{var e,t,s,n,a,l,i,o,c,d,u,m,p,h,x,f,g,y,v,b,j,N,w,k;const[S,_]=(0,r.useState)("stopped"),[C,E]=(0,r.useState)("stopped"),[P,T]=(0,r.useState)({total_threads:0,processed_emails:0,auto_responses_sent:0,processing_status:"stopped"}),[A,R]=(0,r.useState)({imap_monitoring:{},follow_up_stats:{},system_status:{}}),[L,F]=(0,r.useState)({last_scan:null,statistics_24h:{},processor_status:{}}),[O,M]=(0,r.useState)([]),[D,z]=(0,r.useState)([]),[I,$]=(0,r.useState)([]),[U,B]=(0,r.useState)({}),[q,W]=(0,r.useState)(!0),[H,V]=(0,r.useState)(!1),[Q,J]=(0,r.useState)(!1),[K,Y]=(0,r.useState)(!1),[G,X]=(0,r.useState)(!1),[Z,ee]=(0,r.useState)(null),[te,se]=(0,r.useState)(null),[ne,ae]=(0,r.useState)("");(0,r.useEffect)(()=>{re();const e=setInterval(re,3e4);return()=>clearInterval(e)},[]);const re=async()=>{try{const[e,t,s,n,a,r,l]=await Promise.all([Aa.getProcessingStatus(),Aa.getProcessingAnalytics(),Aa.getThreads(),Aa.getFollowUpDashboard(),Aa.getFollowUpEngineStatus(),Aa.getFollowUpHealthCheck(),Aa.getImapScanStatus()]);_(e.data.status),T(t.data),M(s.data),R(n.data),E(a.data.status),B(r.data),F(l.data)}catch(e){console.error("Failed to load data:",e),Pt.error("Failed to load monitoring data")}finally{W(!1)}},le=e=>{ee(e)},ie=async()=>{try{const e=await Aa.getImapLogs(24);z(e.data.logs),J(!0)}catch(e){Pt.error("Failed to load IMAP logs")}},oe=async e=>{try{await Aa.forceStopFollowUp(e),Pt.success("Follow-ups stopped for prospect"),re()}catch(t){Pt.error("Failed to stop follow-ups")}},ce=async e=>{try{await Aa.restartFollowUp(e),Pt.success("Follow-ups restarted for prospect"),re()}catch(t){Pt.error("Failed to restart follow-ups")}};return q?(0,Kn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Kn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h1",{className:"text-3xl font-bold text-secondary-900",children:"AI Email Processing & Follow-Up Monitoring"}),(0,Kn.jsx)("p",{className:"text-secondary-600 mt-1",children:"Comprehensive monitoring of email processing and intelligent follow-up systems"})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsxs)("button",{onClick:()=>V(!0),className:"btn btn-secondary",children:[(0,Kn.jsx)(fa,{className:"h-4 w-4 mr-2"}),"Test AI"]}),(0,Kn.jsxs)("button",{onClick:ie,className:"btn btn-secondary",children:[(0,Kn.jsx)(ua,{className:"h-4 w-4 mr-2"}),"IMAP Logs"]}),(0,Kn.jsxs)("button",{onClick:async()=>{try{const e=await Aa.getProspectResponses(7);$(e.data.responses),Y(!0)}catch(e){Pt.error("Failed to load prospect responses")}},className:"btn btn-secondary",children:[(0,Kn.jsx)(pa,{className:"h-4 w-4 mr-2"}),"Responses"]})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Kn.jsxs)("div",{className:"col-span-2 card",children:[(0,Kn.jsxs)("div",{className:"card-header",children:[(0,Kn.jsxs)("h3",{className:"text-xl font-bold text-secondary-900 flex items-center",children:[(0,Kn.jsx)(fa,{className:"h-6 w-6 mr-2 text-blue-600"}),"Auto Responder Status"]}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600 mt-1",children:"Real-time monitoring of automatic email response system"})]}),(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("div",{className:"p-3 rounded-full "+("running"===S?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:"running"===S?(0,Kn.jsx)(ja,{className:"h-6 w-6"}):(0,Kn.jsx)(Oa,{className:"h-6 w-6"})}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h4",{className:"text-lg font-semibold text-secondary-900",children:"Email Processing Engine"}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"running"===S?"Monitoring IMAP and generating automatic responses":"Auto responder is currently stopped"})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"px-4 py-2 rounded-full text-sm font-medium "+("running"===S?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"running"===S?"ACTIVE":"STOPPED"}),"running"===S?(0,Kn.jsx)("button",{onClick:async()=>{try{await Aa.stopEmailProcessing(),Pt.success("Email processing stopped"),_("stopped"),re()}catch(e){Pt.error("Failed to stop email processing")}},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg border",title:"Stop Auto Responder",children:(0,Kn.jsx)(qa,{className:"h-5 w-5"})}):(0,Kn.jsx)("button",{onClick:async()=>{try{await Aa.startEmailProcessing(),Pt.success("Email processing started successfully"),_("running"),re()}catch(e){Pt.error("Failed to start email processing")}},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg border",title:"Start Auto Responder",children:(0,Kn.jsx)(Ba,{className:"h-5 w-5"})})]})]}),(0,Kn.jsxs)("div",{className:"border-t pt-4",children:[(0,Kn.jsx)("h5",{className:"text-sm font-semibold text-secondary-700 mb-3",children:"Last IMAP Scan Activity"}),(0,Kn.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,Kn.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,Kn.jsx)("div",{className:"text-lg font-bold text-secondary-900",children:(null===(e=A.imap_monitoring)||void 0===e?void 0:e.emails_processed_24h)||0}),(0,Kn.jsx)("div",{className:"text-secondary-600",children:"Emails Scanned (24h)"})]}),(0,Kn.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,Kn.jsx)("div",{className:"text-lg font-bold text-secondary-900",children:(null===(t=A.imap_monitoring)||void 0===t?void 0:t.threads_active_24h)||0}),(0,Kn.jsx)("div",{className:"text-secondary-600",children:"Active Threads (24h)"})]}),(0,Kn.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,Kn.jsx)("div",{className:"text-lg font-bold text-secondary-900",children:P.auto_responses_sent||0}),(0,Kn.jsx)("div",{className:"text-secondary-600",children:"Auto Responses Sent"})]})]})]})]})]}),(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsx)("div",{className:"card-header",children:(0,Kn.jsxs)("h3",{className:"text-lg font-bold text-secondary-900 flex items-center",children:[(0,Kn.jsx)(ta,{className:"h-5 w-5 mr-2 text-purple-600"}),"IMAP Monitor"]})}),(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"space-y-3",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Connection Status"}),(0,Kn.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium "+(null!==(s=L.processor_status)&&void 0!==s&&s.running?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:null!==(n=L.processor_status)&&void 0!==n&&n.running?"Connected":"Disconnected"})]}),(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Last Scan"}),(0,Kn.jsx)("span",{className:"text-sm font-medium text-secondary-900",children:null!==(a=L.last_scan)&&void 0!==a&&a.timestamp?new Date(L.last_scan.timestamp).toLocaleTimeString():"Never"})]}),(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"New Emails Found"}),(0,Kn.jsx)("span",{className:"text-sm font-medium text-secondary-900",children:(null===(l=L.last_scan)||void 0===l?void 0:l.new_emails_found)||0})]}),(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Scan Duration"}),(0,Kn.jsx)("span",{className:"text-sm font-medium text-secondary-900",children:null!==(i=L.last_scan)&&void 0!==i&&i.scan_duration_seconds?`${L.last_scan.scan_duration_seconds.toFixed(2)}s`:"N/A"})]}),(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Next Scan"}),(0,Kn.jsx)("span",{className:"text-sm font-medium text-secondary-900",children:null!==(o=L.processor_status)&&void 0!==o&&o.next_scan_in_seconds?`In ${L.processor_status.next_scan_in_seconds}s`:"Stopped"})]})]}),L.last_scan&&(0,Kn.jsxs)("div",{className:"mt-4 p-3 rounded-lg border",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("span",{className:"text-sm font-medium text-secondary-700",children:"Last Scan Result"}),(0,Kn.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium "+(L.last_scan.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:L.last_scan.success?"Success":"Errors"})]}),L.last_scan.errors&&L.last_scan.errors.length>0&&(0,Kn.jsx)("div",{className:"mt-2 text-xs text-red-600",children:L.last_scan.errors.slice(0,2).map((e,t)=>(0,Kn.jsxs)("div",{children:["\u2022 ",e]},t))})]}),(0,Kn.jsx)("div",{className:"mt-4",children:(0,Kn.jsxs)("button",{onClick:ie,className:"w-full btn btn-secondary text-sm",children:[(0,Kn.jsx)(ua,{className:"h-4 w-4 mr-2"}),"View Detailed Logs"]})})]})]})]}),(0,Kn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("div",{className:"p-2 rounded-full "+("running"===C?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"),children:"running"===C?(0,Kn.jsx)(nr,{className:"h-5 w-5"}):(0,Kn.jsx)(Or,{className:"h-5 w-5"})}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"Follow-up Engine"}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"running"===C?"Sending scheduled follow-ups":"Follow-up engine is stopped"})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium "+("running"===C?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:C.toUpperCase()}),"running"===C?(0,Kn.jsx)("button",{onClick:async()=>{try{await Aa.stopFollowUpEngine(),Pt.success("Follow-up engine stopped"),E("stopped"),re()}catch(e){Pt.error("Failed to stop follow-up engine")}},className:"p-2 text-red-600 hover:bg-red-50 rounded",children:(0,Kn.jsx)(qa,{className:"h-4 w-4"})}):(0,Kn.jsx)("button",{onClick:async()=>{try{await Aa.startFollowUpEngine(),Pt.success("Follow-up engine started successfully"),E("running"),re()}catch(e){Pt.error("Failed to start follow-up engine")}},className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:(0,Kn.jsx)(Ba,{className:"h-4 w-4"})})]})]})})})}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Total Threads"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:P.total_threads})]}),(0,Kn.jsx)(ba,{className:"h-8 w-8 text-blue-600"})]})})}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Processed Emails"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:P.processed_emails})]}),(0,Kn.jsx)(ta,{className:"h-8 w-8 text-green-600"})]})})}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Auto Responses"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:P.auto_responses_sent})]}),(0,Kn.jsx)(ma,{className:"h-8 w-8 text-purple-600"})]})})}),(0,Kn.jsx)("div",{className:"card",children:(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-secondary-600",children:"Follow-up Rate"}),(0,Kn.jsxs)("p",{className:"text-2xl font-bold text-secondary-900",children:[(null===(c=A.follow_up_stats)||void 0===c?void 0:c.response_rate)||0,"%"]})]}),(0,Kn.jsx)(Ca,{className:"h-8 w-8 text-emerald-600"})]})})})]}),(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsxs)("div",{className:"card-header",children:[(0,Kn.jsxs)("h3",{className:"text-xl font-bold text-secondary-900 flex items-center",children:[(0,Kn.jsx)(ua,{className:"h-6 w-6 mr-2 text-indigo-600"}),"IMAP Scan Statistics (Last 24 Hours)"]}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600 mt-1",children:"Detailed breakdown of email scanning and processing activity"})]}),(0,Kn.jsxs)("div",{className:"card-body",children:[(0,Kn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[(0,Kn.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg border",children:[(0,Kn.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(d=L.statistics_24h)||void 0===d?void 0:d.total_scans)||0}),(0,Kn.jsx)("div",{className:"text-sm text-secondary-600 mt-1",children:"Total Scans"})]}),(0,Kn.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg border",children:[(0,Kn.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===(u=L.statistics_24h)||void 0===u?void 0:u.total_emails_found)||0}),(0,Kn.jsx)("div",{className:"text-sm text-secondary-600 mt-1",children:"Emails Found"})]}),(0,Kn.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg border",children:[(0,Kn.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===(m=L.statistics_24h)||void 0===m?void 0:m.total_emails_processed)||0}),(0,Kn.jsx)("div",{className:"text-sm text-secondary-600 mt-1",children:"Processed"})]}),(0,Kn.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg border",children:[(0,Kn.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:(null===(p=L.statistics_24h)||void 0===p?void 0:p.avg_emails_per_scan)||0}),(0,Kn.jsx)("div",{className:"text-sm text-secondary-600 mt-1",children:"Avg/Scan"})]}),(0,Kn.jsxs)("div",{className:"text-center p-4 bg-emerald-50 rounded-lg border",children:[(0,Kn.jsxs)("div",{className:"text-2xl font-bold text-emerald-600",children:[(null===(h=L.statistics_24h)||void 0===h?void 0:h.success_rate)||100,"%"]}),(0,Kn.jsx)("div",{className:"text-sm text-secondary-600 mt-1",children:"Success Rate"})]}),(0,Kn.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg border",children:[(0,Kn.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(null===(x=L.statistics_24h)||void 0===x?void 0:x.total_errors)||0}),(0,Kn.jsx)("div",{className:"text-sm text-secondary-600 mt-1",children:"Errors"})]})]}),(0,Kn.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,Kn.jsx)("h4",{className:"text-lg font-semibold text-secondary-900 mb-3",children:"Quick Status Summary"}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("span",{className:"font-medium text-secondary-700",children:"Auto Responder:"}),(0,Kn.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs font-medium "+("running"===S?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"running"===S?"RUNNING":"STOPPED"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("span",{className:"font-medium text-secondary-700",children:"Last Activity:"}),(0,Kn.jsx)("span",{className:"ml-2 text-secondary-900",children:null!==(f=L.last_scan)&&void 0!==f&&f.timestamp?new Date(L.last_scan.timestamp).toLocaleString():"No recent activity"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("span",{className:"font-medium text-secondary-700",children:"System Health:"}),(0,Kn.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs font-medium "+(((null===(g=L.statistics_24h)||void 0===g?void 0:g.success_rate)||100)>=90?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:((null===(y=L.statistics_24h)||void 0===y?void 0:y.success_rate)||100)>=90?"HEALTHY":"DEGRADED"})]})]})]})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsxs)("div",{className:"card-header",children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-secondary-900",children:"IMAP Monitoring"}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600 mt-1",children:"Real-time email scanning statistics"})]}),(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"space-y-3",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Emails Processed (24h)"}),(0,Kn.jsx)("span",{className:"font-semibold text-secondary-900",children:(null===(v=A.imap_monitoring)||void 0===v?void 0:v.emails_processed_24h)||0})]}),(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Active Threads (24h)"}),(0,Kn.jsx)("span",{className:"font-semibold text-secondary-900",children:(null===(b=A.imap_monitoring)||void 0===b?void 0:b.threads_active_24h)||0})]}),(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Responses (24h)"}),(0,Kn.jsx)("span",{className:"font-semibold text-secondary-900",children:(null===(j=A.imap_monitoring)||void 0===j?void 0:j.prospects_responded_24h)||0})]})]})})]}),(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsxs)("div",{className:"card-header",children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-secondary-900",children:"Follow-up Statistics"}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600 mt-1",children:"Follow-up performance metrics"})]}),(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"space-y-3",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Active Follow-ups"}),(0,Kn.jsx)("span",{className:"font-semibold text-secondary-900",children:(null===(N=A.follow_up_stats)||void 0===N?void 0:N.active_follow_ups)||0})]}),(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Stopped Follow-ups"}),(0,Kn.jsx)("span",{className:"font-semibold text-secondary-900",children:(null===(w=A.follow_up_stats)||void 0===w?void 0:w.stopped_follow_ups)||0})]}),(0,Kn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kn.jsx)("span",{className:"text-sm text-secondary-600",children:"Response Rate"}),(0,Kn.jsxs)("span",{className:"font-semibold text-secondary-900",children:[(null===(k=A.follow_up_stats)||void 0===k?void 0:k.response_rate)||0,"%"]})]})]})})]})]}),(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsxs)("div",{className:"card-header",children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-secondary-900",children:"Thread Analysis Tool"}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600 mt-1",children:"Analyze specific prospect threads for follow-up effectiveness"})]}),(0,Kn.jsx)("div",{className:"card-body",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Kn.jsx)("div",{className:"flex-1",children:(0,Kn.jsx)("input",{type:"text",value:ne,onChange:e=>ae(e.target.value),placeholder:"Enter prospect ID to analyze...",className:"input"})}),(0,Kn.jsxs)("button",{onClick:async()=>{if(ne)try{const e=await Aa.analyzeProspectThread(ne);se(e.data),X(!0)}catch(e){Pt.error("Failed to analyze thread")}else Pt.error("Please enter a prospect ID")},className:"btn btn-primary",children:[(0,Kn.jsx)(ra,{className:"h-4 w-4 mr-2"}),"Analyze Thread"]})]})})]}),(0,Kn.jsxs)("div",{className:"card",children:[(0,Kn.jsxs)("div",{className:"card-header",children:[(0,Kn.jsx)("h3",{className:"text-xl font-bold text-secondary-900",children:"Recent Conversation Threads"}),(0,Kn.jsx)("p",{className:"text-sm text-secondary-600 mt-1",children:"Active email conversations with AI responses"})]}),(0,Kn.jsx)("div",{className:"card-body",children:0===O.length?(0,Kn.jsxs)("div",{className:"text-center py-8",children:[(0,Kn.jsx)(ba,{className:"h-12 w-12 text-secondary-400 mx-auto mb-4"}),(0,Kn.jsx)("h4",{className:"text-lg font-semibold text-secondary-900 mb-2",children:"No Threads Yet"}),(0,Kn.jsx)("p",{className:"text-secondary-600",children:"Start email processing to see conversation threads appear here"})]}):(0,Kn.jsx)("div",{className:"space-y-4",children:O.slice(0,5).map(e=>(0,Kn.jsx)(Dr,{thread:e,onViewThread:le,onForceStopFollowUp:oe,onRestartFollowUp:ce},e.id))})})]}),H&&(0,Kn.jsx)(Ur,{onClose:()=>V(!1)}),Q&&(0,Kn.jsx)(zr,{logs:D,onClose:()=>J(!1)}),K&&(0,Kn.jsx)(Ir,{responses:I,onClose:()=>Y(!1)}),G&&te&&(0,Kn.jsx)($r,{analysis:te,onClose:()=>X(!1),onForceStopFollowUp:oe,onRestartFollowUp:ce}),Z&&(0,Kn.jsx)(Br,{thread:Z,onClose:()=>ee(null)})]})},Wr=ea("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Hr=ea("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Vr="https://d90eaae8-ec2e-41a4-a8e7-e61f976a5052.preview.emergentagent.com",Qr=r.memo(e=>{let{show:t,onClose:s,onSubmit:n,title:a,provider:l=null,formData:i,handleInputChange:o}=e;const c=(0,r.useCallback)(e=>{e.target===e.currentTarget&&s()},[s]),d=(0,r.useCallback)(e=>{e.stopPropagation()},[]),u=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),n(e)},[n]);return t?(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:c,children:(0,Kn.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:d,children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Kn.jsx)("h2",{className:"text-xl font-bold",children:a}),(0,Kn.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",type:"button",children:(0,Kn.jsx)(Fa,{className:"w-6 h-6"})})]}),(0,Kn.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Provider Name"}),(0,Kn.jsx)("input",{type:"text",value:i.name,onChange:o("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Enter provider name"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Provider Type"}),(0,Kn.jsxs)("select",{value:i.provider_type,onChange:o("provider_type"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Kn.jsx)("option",{value:"gmail",children:"Gmail"}),(0,Kn.jsx)("option",{value:"outlook",children:"Outlook"}),(0,Kn.jsx)("option",{value:"yahoo",children:"Yahoo"}),(0,Kn.jsx)("option",{value:"custom_smtp",children:"Custom SMTP"})]})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),(0,Kn.jsx)("input",{type:"email",value:i.email_address,onChange:o("email_address"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Display Name"}),(0,Kn.jsx)("input",{type:"text",value:i.display_name,onChange:o("display_name"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Kn.jsxs)("div",{className:"border-t pt-4",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"SMTP Settings"}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"SMTP Host"}),(0,Kn.jsx)("input",{type:"text",value:i.smtp_host,onChange:o("smtp_host"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"SMTP Port"}),(0,Kn.jsx)("input",{type:"number",value:i.smtp_port,onChange:o("smtp_port"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"SMTP Username"}),(0,Kn.jsx)("input",{type:"text",value:i.smtp_username,onChange:o("smtp_username"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"SMTP Password"}),(0,Kn.jsx)("input",{type:"password",value:i.smtp_password,onChange:o("smtp_password"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,Kn.jsx)("div",{className:"mt-4",children:(0,Kn.jsxs)("label",{className:"flex items-center",children:[(0,Kn.jsx)("input",{type:"checkbox",checked:i.smtp_use_tls,onChange:o("smtp_use_tls"),className:"mr-2"}),"Use TLS"]})})]}),(0,Kn.jsxs)("div",{className:"border-t pt-4",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"IMAP Settings (Optional)"}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"IMAP Host"}),(0,Kn.jsx)("input",{type:"text",value:i.imap_host,onChange:o("imap_host"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., imap.gmail.com"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"IMAP Port"}),(0,Kn.jsx)("input",{type:"number",value:i.imap_port,onChange:o("imap_port"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"993"})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"IMAP Username"}),(0,Kn.jsx)("input",{type:"text",value:i.imap_username,onChange:o("imap_username"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Usually same as email"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"IMAP Password"}),(0,Kn.jsx)("input",{type:"password",value:i.imap_password,onChange:o("imap_password"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Usually same as SMTP password"})]})]})]}),(0,Kn.jsxs)("div",{className:"border-t pt-4",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Rate Limits"}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Daily Send Limit"}),(0,Kn.jsx)("input",{type:"number",value:i.daily_send_limit,onChange:o("daily_send_limit"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"1",max:"2000"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Hourly Send Limit"}),(0,Kn.jsx)("input",{type:"number",value:i.hourly_send_limit,onChange:o("hourly_send_limit"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"1",max:"200"})]})]})]}),(0,Kn.jsxs)("div",{className:"border-t pt-4",children:[(0,Kn.jsxs)("label",{className:"flex items-center",children:[(0,Kn.jsx)("input",{type:"checkbox",checked:i.is_default,onChange:o("is_default"),className:"mr-2"}),"Set as default provider"]}),(0,Kn.jsxs)("label",{className:"flex items-center mt-3",children:[(0,Kn.jsx)("input",{type:"checkbox",checked:i.skip_connection_test,onChange:o("skip_connection_test"),className:"mr-2"}),"Skip connection test (for demo/test purposes)"]})]}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Kn.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Kn.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l?"Update":"Add"," Provider"]})]})]})]})}):null}),Jr=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[a,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[p,h]=(0,r.useState)({name:"",provider_type:"gmail",email_address:"",display_name:"",smtp_host:"",smtp_port:587,smtp_username:"",smtp_password:"",smtp_use_tls:!0,imap_host:"",imap_port:993,imap_username:"",imap_password:"",daily_send_limit:500,hourly_send_limit:50,is_default:!1,skip_connection_test:!1});(0,r.useEffect)(()=>{x()},[]);const x=async()=>{try{const e=await Jn.get(`${Vr}/api/email-providers`);t(e.data)}catch(e){console.error("Error fetching providers:",e),Pt.error("Failed to load email providers")}finally{n(!1)}},f=()=>{h({name:"",provider_type:"gmail",email_address:"",display_name:"",smtp_host:"",smtp_port:587,smtp_username:"",smtp_password:"",smtp_use_tls:!0,imap_host:"",imap_port:993,imap_username:"",imap_password:"",daily_send_limit:500,hourly_send_limit:50,is_default:!1,skip_connection_test:!1})},g=e=>{switch(e){case"gmail":return(0,Kn.jsx)(ta,{className:"w-5 h-5 text-red-500"});case"outlook":return(0,Kn.jsx)(ta,{className:"w-5 h-5 text-blue-500"});case"yahoo":return(0,Kn.jsx)(ta,{className:"w-5 h-5 text-purple-500"});default:return(0,Kn.jsx)(ya,{className:"w-5 h-5 text-gray-500"})}},y=(0,r.useCallback)(e=>t=>{t.preventDefault(),t.stopPropagation();const s="checkbox"===t.target.type?t.target.checked:"number"===t.target.type?parseInt(t.target.value)||0:t.target.value;h(t=>({...t,[e]:s}))},[]);return s?(0,Kn.jsx)("div",{className:"p-6",children:(0,Kn.jsxs)("div",{className:"animate-pulse",children:[(0,Kn.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,Kn.jsxs)("div",{className:"space-y-3",children:[(0,Kn.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,Kn.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,Kn.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):(0,Kn.jsxs)("div",{className:"p-6",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Providers"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"Manage your email sending and receiving providers"})]}),(0,Kn.jsxs)("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Kn.jsx)(Ua,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:"Add Provider"})]})]}),(0,Kn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{return(0,Kn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[g(e.provider_type),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,Kn.jsx)("p",{className:"text-sm text-gray-600",children:e.email_address})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[e.is_default&&(0,Kn.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Default"}),(t=e.is_active,t?(0,Kn.jsx)(ja,{className:"w-5 h-5 text-green-500"}):(0,Kn.jsx)(Fa,{className:"w-5 h-5 text-red-500"}))]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-gray-500",children:"Type"}),(0,Kn.jsx)("p",{className:"font-medium capitalize",children:e.provider_type.replace("_"," ")})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-gray-500",children:"Daily Limit"}),(0,Kn.jsxs)("p",{className:"font-medium",children:[e.current_daily_count,"/",e.daily_send_limit]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-gray-500",children:"Hourly Limit"}),(0,Kn.jsxs)("p",{className:"font-medium",children:[e.current_hourly_count,"/",e.hourly_send_limit]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-gray-500",children:"Last Sync"}),(0,Kn.jsx)("p",{className:"font-medium",children:e.last_sync?new Date(e.last_sync).toLocaleDateString():"Never"})]})]}),(0,Kn.jsxs)("div",{className:"flex space-x-2",children:[(0,Kn.jsxs)("button",{onClick:()=>(async e=>{m(e);try{await Jn.post(`${Vr}/api/email-providers/${e}/test`),Pt.success("Connection test successful")}catch(t){console.error("Error testing connection:",t),Pt.error("Connection test failed")}finally{m(null)}})(e.id),disabled:u===e.id,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-md hover:bg-green-700 disabled:opacity-50 flex items-center justify-center space-x-1",children:[(0,Kn.jsx)(Wr,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:u===e.id?"Testing...":"Test"})]}),(0,Kn.jsx)("button",{onClick:()=>(e=>{d(e),h({name:e.name||"",provider_type:e.provider_type||"gmail",email_address:e.email_address||"",display_name:e.display_name||"",smtp_host:e.smtp_host||"",smtp_port:e.smtp_port||587,smtp_username:e.smtp_username||"",smtp_password:e.smtp_password||"",smtp_use_tls:void 0===e.smtp_use_tls||e.smtp_use_tls,imap_host:e.imap_host||"",imap_port:e.imap_port||993,imap_username:e.imap_username||"",imap_password:e.imap_password||"",daily_send_limit:e.daily_send_limit||500,hourly_send_limit:e.hourly_send_limit||50,is_default:e.is_default||!1,skip_connection_test:e.skip_connection_test||!1}),o(!0)})(e),className:"bg-blue-600 text-white py-2 px-3 rounded-md hover:bg-blue-700 flex items-center justify-center",children:(0,Kn.jsx)(fr,{className:"w-4 h-4"})}),(0,Kn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this email provider?"))try{await Jn.delete(`${Vr}/api/email-providers/${e}`),Pt.success("Email provider deleted successfully"),x()}catch(t){console.error("Error deleting provider:",t),Pt.error("Failed to delete email provider")}})(e.id),className:"bg-red-600 text-white py-2 px-3 rounded-md hover:bg-red-700 flex items-center justify-center",children:(0,Kn.jsx)(gr,{className:"w-4 h-4"})}),!e.is_default&&(0,Kn.jsx)("button",{onClick:()=>(async e=>{try{await Jn.post(`${Vr}/api/email-providers/${e}/set-default`),Pt.success("Default provider updated"),x()}catch(t){console.error("Error setting default provider:",t),Pt.error("Failed to set default provider")}})(e.id),className:"bg-gray-600 text-white py-2 px-3 rounded-md hover:bg-gray-700 flex items-center justify-center",children:(0,Kn.jsx)(Hr,{className:"w-4 h-4"})})]})]},e.id);var t})}),0===e.length&&(0,Kn.jsxs)("div",{className:"text-center py-12",children:[(0,Kn.jsx)(ta,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Kn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No email providers configured"}),(0,Kn.jsx)("p",{className:"text-gray-600 mb-4",children:"Add your first email provider to start sending emails"}),(0,Kn.jsx)("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Add Your First Provider"})]}),(0,Kn.jsx)(Qr,{show:a,onClose:()=>l(!1),onSubmit:async e=>{e.preventDefault();try{await Jn.post(`${Vr}/api/email-providers`,p),Pt.success("Email provider added successfully"),l(!1),f(),x()}catch(t){console.error("Error adding provider:",t),Pt.error("Failed to add email provider")}},title:"Add Email Provider",formData:p,handleInputChange:y}),(0,Kn.jsx)(Qr,{show:i,onClose:()=>o(!1),onSubmit:async e=>{e.preventDefault();try{await Jn.put(`${Vr}/api/email-providers/${c.id}`,p),Pt.success("Email provider updated successfully"),o(!1),d(null),f(),x()}catch(t){console.error("Error updating provider:",t),Pt.error("Failed to update email provider")}},title:"Edit Email Provider",provider:c,formData:p,handleInputChange:y})]})},Kr="https://d90eaae8-ec2e-41a4-a8e7-e61f976a5052.preview.emergentagent.com",Yr=()=>{var e;const[t,s]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[l,i]=(0,r.useState)(!0),[o,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[m,p]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(null),[b,j]=(0,r.useState)({}),[N,w]=(0,r.useState)({title:"",content:"",category:"general",tags:[],keywords:[],is_active:!0});(0,r.useEffect)(()=>{k(),S()},[]);const k=async()=>{try{const e=await Jn.get(`${Kr}/api/knowledge-base`);s(e.data);const t=[...new Set(e.data.map(e=>e.category))];a(t)}catch(e){console.error("Error fetching articles:",e),Pt.error("Failed to load knowledge base articles")}finally{i(!1)}},S=async()=>{try{const e=await Jn.get(`${Kr}/api/knowledge-base/statistics/overview`);j(e.data)}catch(e){console.error("Error fetching statistics:",e)}},_=()=>{w({title:"",content:"",category:"general",tags:[],keywords:[],is_active:!0})},C=t.filter(e=>{const t=!o||e.title.toLowerCase().includes(o.toLowerCase())||e.content.toLowerCase().includes(o.toLowerCase()),s=!d||e.category===d;return t&&s}),E=e=>{let{show:t,onClose:s,onSubmit:n,title:a,isEdit:r=!1}=e;return t?(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Kn.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Kn.jsx)("h2",{className:"text-xl font-bold",children:a}),(0,Kn.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Kn.jsxs)("form",{onSubmit:n,className:"space-y-4",children:[(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Title"}),(0,Kn.jsx)("input",{type:"text",value:N.title,onChange:e=>w({...N,title:e.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Category"}),(0,Kn.jsxs)("select",{value:N.category,onChange:e=>w({...N,category:e.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[(0,Kn.jsx)("option",{value:"general",children:"General"}),(0,Kn.jsx)("option",{value:"product",children:"Product"}),(0,Kn.jsx)("option",{value:"pricing",children:"Pricing"}),(0,Kn.jsx)("option",{value:"support",children:"Support"}),(0,Kn.jsx)("option",{value:"sales",children:"Sales"}),(0,Kn.jsx)("option",{value:"technical",children:"Technical"}),(0,Kn.jsx)("option",{value:"industry",children:"Industry"})]})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Content"}),(0,Kn.jsx)("textarea",{value:N.content,onChange:e=>w({...N,content:e.target.value}),rows:10,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tags (comma-separated)"}),(0,Kn.jsx)("input",{type:"text",value:N.tags.join(", "),onChange:e=>(e=>{const t=e.split(",").map(e=>e.trim());w({...N,tags:t})})(e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"tag1, tag2, tag3"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Keywords (comma-separated)"}),(0,Kn.jsx)("input",{type:"text",value:N.keywords.join(", "),onChange:e=>(e=>{const t=e.split(",").map(e=>e.trim());w({...N,keywords:t})})(e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"keyword1, keyword2, keyword3"})]})]}),(0,Kn.jsx)("div",{children:(0,Kn.jsxs)("label",{className:"flex items-center",children:[(0,Kn.jsx)("input",{type:"checkbox",checked:N.is_active,onChange:e=>w({...N,is_active:e.target.checked}),className:"mr-2"}),"Active"]})}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Kn.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 border rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Kn.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[r?"Update":"Add"," Article"]})]})]})]})}):null},P=e=>{let{show:t,onClose:s,article:n}=e;return t&&n?(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Kn.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Kn.jsx)("h2",{className:"text-xl font-bold",children:n.title}),(0,Kn.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Kn.jsxs)("div",{className:"space-y-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,Kn.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:n.category}),(0,Kn.jsxs)("span",{children:["Used ",n.usage_count||0," times"]}),(0,Kn.jsxs)("span",{children:["Created ",new Date(n.created_at).toLocaleDateString()]})]}),(0,Kn.jsx)("div",{className:"prose max-w-none",children:(0,Kn.jsx)("div",{className:"whitespace-pre-wrap",children:n.content})}),n.tags&&n.tags.length>0&&(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold mb-2",children:"Tags:"}),(0,Kn.jsx)("div",{className:"flex flex-wrap gap-2",children:n.tags.map((e,t)=>(0,Kn.jsx)("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm",children:e},t))})]}),n.keywords&&n.keywords.length>0&&(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold mb-2",children:"Keywords:"}),(0,Kn.jsx)("div",{className:"flex flex-wrap gap-2",children:n.keywords.map((e,t)=>(0,Kn.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm",children:e},t))})]})]})]})}):null};return l?(0,Kn.jsx)("div",{className:"p-6",children:(0,Kn.jsxs)("div",{className:"animate-pulse",children:[(0,Kn.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,Kn.jsxs)("div",{className:"space-y-3",children:[(0,Kn.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,Kn.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,Kn.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):(0,Kn.jsxs)("div",{className:"p-6",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Knowledge Base"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"Manage your AI knowledge articles and documentation"})]}),(0,Kn.jsxs)("div",{className:"flex space-x-3",children:[(0,Kn.jsx)("input",{type:"file",accept:".json,.csv",onChange:async e=>{const t=e.target.files[0];if(!t)return;const s=new FormData;s.append("file",t);try{await Jn.post(`${Kr}/api/knowledge-base/bulk-import`,s,{headers:{"Content-Type":"multipart/form-data"}}),Pt.success("Articles imported successfully"),k(),S()}catch(n){console.error("Error importing articles:",n),Pt.error("Failed to import articles")}e.target.value=""},className:"hidden",id:"bulk-import"}),(0,Kn.jsxs)("button",{onClick:()=>document.getElementById("bulk-import").click(),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2",children:[(0,Kn.jsx)(Ya,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:"Import"})]}),(0,Kn.jsxs)("button",{onClick:async()=>{try{const e=await Jn.get(`${Kr}/api/knowledge-base/bulk-export`,{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=t,s.setAttribute("download","knowledge-base-export.json"),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(t),Pt.success("Articles exported successfully")}catch(e){console.error("Error exporting articles:",e),Pt.error("Failed to export articles")}},className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center space-x-2",children:[(0,Kn.jsx)(Ka,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:"Export"})]}),(0,Kn.jsxs)("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Kn.jsx)(Ua,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:"Add Article"})]})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,Kn.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-gray-600",children:"Total Articles"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b.total_articles||0})]}),(0,Kn.jsx)(va,{className:"w-8 h-8 text-blue-500"})]})}),(0,Kn.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-gray-600",children:"Active Articles"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b.active_articles||0})]}),(0,Kn.jsx)(ra,{className:"w-8 h-8 text-green-500"})]})}),(0,Kn.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-gray-600",children:"Categories"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(e=b.categories)||void 0===e?void 0:e.length)||0})]}),(0,Kn.jsx)(xr,{className:"w-8 h-8 text-purple-500"})]})})]}),(0,Kn.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:(0,Kn.jsxs)("div",{className:"flex space-x-4",children:[(0,Kn.jsx)("div",{className:"flex-1",children:(0,Kn.jsx)("input",{type:"text",placeholder:"Search articles...",value:o,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border rounded-lg"})}),(0,Kn.jsx)("div",{children:(0,Kn.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"px-4 py-2 border rounded-lg",children:[(0,Kn.jsx)("option",{value:"",children:"All Categories"}),n.map(e=>(0,Kn.jsx)("option",{value:e,children:e},e))]})}),(0,Kn.jsxs)("button",{onClick:async()=>{if(o.trim())try{const e=await Jn.get(`${Kr}/api/knowledge-base/search`,{params:{query:o,category:d||void 0}});s(e.data)}catch(e){console.error("Error searching articles:",e),Pt.error("Failed to search articles")}else k()},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Kn.jsx)(Za,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:"Search"})]})]})}),(0,Kn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(e=>(0,Kn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 line-clamp-2",children:e.title}),(0,Kn.jsx)("span",{className:"px-2 py-1 text-xs rounded "+(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"})]}),(0,Kn.jsxs)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:[e.content.substring(0,150),"..."]}),(0,Kn.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[(0,Kn.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:e.category}),(0,Kn.jsxs)("span",{children:["Used ",e.usage_count||0," times"]})]}),e.tags&&e.tags.length>0&&(0,Kn.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map((e,t)=>(0,Kn.jsx)("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:e},t)),e.tags.length>3&&(0,Kn.jsxs)("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:["+",e.tags.length-3," more"]})]}),(0,Kn.jsxs)("div",{className:"flex space-x-2",children:[(0,Kn.jsxs)("button",{onClick:()=>(e=>{v(e),g(!0)})(e),className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-md hover:bg-blue-700 flex items-center justify-center space-x-1",children:[(0,Kn.jsx)(ra,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:"View"})]}),(0,Kn.jsx)("button",{onClick:()=>(e=>{v(e),w({title:e.title,content:e.content,category:e.category,tags:e.tags||[],keywords:e.keywords||[],is_active:e.is_active}),x(!0)})(e),className:"bg-yellow-600 text-white py-2 px-3 rounded-md hover:bg-yellow-700 flex items-center justify-center",children:(0,Kn.jsx)(fr,{className:"w-4 h-4"})}),(0,Kn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this knowledge article?"))try{await Jn.delete(`${Kr}/api/knowledge-base/${e}`),Pt.success("Knowledge article deleted successfully"),k(),S()}catch(t){console.error("Error deleting article:",t),Pt.error("Failed to delete knowledge article")}})(e.id),className:"bg-red-600 text-white py-2 px-3 rounded-md hover:bg-red-700 flex items-center justify-center",children:(0,Kn.jsx)(gr,{className:"w-4 h-4"})})]})]},e.id))}),0===C.length&&(0,Kn.jsxs)("div",{className:"text-center py-12",children:[(0,Kn.jsx)(va,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Kn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No articles found"}),(0,Kn.jsx)("p",{className:"text-gray-600 mb-4",children:o||d?"Try adjusting your search or filter criteria":"Add your first knowledge article to get started"}),(0,Kn.jsx)("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Add Article"})]}),(0,Kn.jsx)(E,{show:m,onClose:()=>p(!1),onSubmit:async e=>{e.preventDefault();try{await Jn.post(`${Kr}/api/knowledge-base`,{...N,tags:N.tags.filter(e=>""!==e.trim()),keywords:N.keywords.filter(e=>""!==e.trim())}),Pt.success("Knowledge article added successfully"),p(!1),_(),k(),S()}catch(t){console.error("Error adding article:",t),Pt.error("Failed to add knowledge article")}},title:"Add Knowledge Article"}),(0,Kn.jsx)(E,{show:h,onClose:()=>x(!1),onSubmit:async e=>{e.preventDefault();try{await Jn.put(`${Kr}/api/knowledge-base/${y.id}`,{...N,tags:N.tags.filter(e=>""!==e.trim()),keywords:N.keywords.filter(e=>""!==e.trim())}),Pt.success("Knowledge article updated successfully"),x(!1),v(null),_(),k()}catch(t){console.error("Error updating article:",t),Pt.error("Failed to update knowledge article")}},title:"Edit Knowledge Article",isEdit:!0}),(0,Kn.jsx)(P,{show:f,onClose:()=>g(!1),article:y})]})},Gr=ea("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Xr=ea("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Zr="https://d90eaae8-ec2e-41a4-a8e7-e61f976a5052.preview.emergentagent.com",el=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[a,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[p,h]=(0,r.useState)(""),[x,f]=(0,r.useState)(""),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)({name:"",description:"",prompt_text:"",prompt_type:"general",temperature:.7,max_tokens:1e3,is_active:!0,is_default:!1}),j=[{value:"general",label:"General AI Behavior"},{value:"intent_classification",label:"Intent Classification"},{value:"response_generation",label:"Response Generation"},{value:"response_verification",label:"Response Verification"},{value:"personalization",label:"Personalization"}],N={general:"You are a professional AI assistant that helps with email communication. Always be:\n- Professional and courteous\n- Clear and concise\n- Helpful and informative\n- Respectful of the recipient's time",intent_classification:"You are an expert email intent classifier. Your job is to analyze incoming emails and classify them into specific intents.\n\nGuidelines:\n- Analyze the email content and subject line carefully\n- Look for multiple intents in a single email\n- Assign confidence scores based on clarity of intent\n- Consider context and tone\n- Return results in valid JSON format",response_generation:"You are an expert email response generator. Create professional, personalized responses that:\n- Address all points mentioned in the original email\n- Use appropriate tone and style\n- Include relevant personalization\n- Maintain conversation context\n- End with appropriate call-to-action",response_verification:"You are a quality assurance expert for email responses. Evaluate responses for:\n- Accuracy and relevance\n- Professional tone\n- Appropriate personalization\n- Context alignment\n- Overall quality and effectiveness",personalization:"You are a personalization expert. Enhance email content by:\n- Using prospect's name and company appropriately\n- Adding relevant industry insights\n- Incorporating job-title specific language\n- Including location-based references when relevant\n- Making content more compelling and targeted"};(0,r.useEffect)(()=>{w()},[]);const w=async()=>{try{const e=await Jn.get(`${Zr}/api/system-prompts`);t(e.data)}catch(e){console.error("Error fetching prompts:",e),Pt.error("Failed to load system prompts")}finally{n(!1)}},k=async()=>{if(p.trim()){y(!0);try{const e=await Jn.post(`${Zr}/api/system-prompts/${u.id}/test`,{input:p,temperature:u.temperature,max_tokens:u.max_tokens});f(e.data.result)}catch(s){var e,t;console.error("Error testing prompt:",s),Pt.error("Failed to test prompt"),f("Error: "+((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||s.message))}finally{y(!1)}}else Pt.error("Please enter test input")},S=async()=>{try{await Jn.post(`${Zr}/api/system-prompts/create-defaults`),Pt.success("Default prompts created successfully"),w()}catch(e){console.error("Error creating defaults:",e),Pt.error("Failed to create default prompts")}},_=()=>{b({name:"",description:"",prompt_text:"",prompt_type:"general",temperature:.7,max_tokens:1e3,is_active:!0,is_default:!1})},C=e=>{let{show:t,onClose:s,onSubmit:n,title:a,isEdit:r=!1}=e;return t?(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Kn.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Kn.jsx)("h2",{className:"text-xl font-bold",children:a}),(0,Kn.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Kn.jsxs)("form",{onSubmit:n,className:"space-y-4",children:[(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Name"}),(0,Kn.jsx)("input",{type:"text",value:v.name,onChange:e=>b({...v,name:e.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Prompt Type"}),(0,Kn.jsx)("select",{value:v.prompt_type,onChange:e=>{b({...v,prompt_type:e.target.value})},className:"w-full px-3 py-2 border rounded-md",children:j.map(e=>(0,Kn.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description"}),(0,Kn.jsx)("input",{type:"text",value:v.description,onChange:e=>b({...v,description:e.target.value}),className:"w-full px-3 py-2 border rounded-md"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium",children:"Prompt Text"}),(0,Kn.jsx)("button",{type:"button",onClick:()=>(e=>{var t;b({...v,prompt_text:N[e]||"",name:v.name||`Default ${null===(t=j.find(t=>t.value===e))||void 0===t?void 0:t.label}`,description:v.description||`Default system prompt for ${e}`})})(v.prompt_type),className:"text-sm text-blue-600 hover:text-blue-800",children:"Load Default Template"})]}),(0,Kn.jsx)("textarea",{value:v.prompt_text,onChange:e=>b({...v,prompt_text:e.target.value}),rows:12,className:"w-full px-3 py-2 border rounded-md font-mono text-sm",required:!0})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Temperature"}),(0,Kn.jsx)("input",{type:"number",step:"0.1",min:"0",max:"2",value:v.temperature,onChange:e=>b({...v,temperature:parseFloat(e.target.value)}),className:"w-full px-3 py-2 border rounded-md"}),(0,Kn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Higher values = more creative, lower = more deterministic"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Max Tokens"}),(0,Kn.jsx)("input",{type:"number",min:"50",max:"4000",value:v.max_tokens,onChange:e=>b({...v,max_tokens:parseInt(e.target.value)}),className:"w-full px-3 py-2 border rounded-md"}),(0,Kn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum response length"})]})]}),(0,Kn.jsxs)("div",{className:"flex space-x-4",children:[(0,Kn.jsxs)("label",{className:"flex items-center",children:[(0,Kn.jsx)("input",{type:"checkbox",checked:v.is_active,onChange:e=>b({...v,is_active:e.target.checked}),className:"mr-2"}),"Active"]}),(0,Kn.jsxs)("label",{className:"flex items-center",children:[(0,Kn.jsx)("input",{type:"checkbox",checked:v.is_default,onChange:e=>b({...v,is_default:e.target.checked}),className:"mr-2"}),"Set as default for this type"]})]}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Kn.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 border rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Kn.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[r?"Update":"Add"," Prompt"]})]})]})]})}):null},E=e=>{let{show:t,onClose:s,prompt:n}=e;return t&&n?(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Kn.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Kn.jsxs)("h2",{className:"text-xl font-bold",children:["Test Prompt: ",n.name]}),(0,Kn.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Kn.jsxs)("div",{className:"space-y-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Test Input"}),(0,Kn.jsx)("textarea",{value:p,onChange:e=>h(e.target.value),rows:4,className:"w-full px-3 py-2 border rounded-md",placeholder:"Enter your test input here..."})]}),(0,Kn.jsx)("div",{children:(0,Kn.jsxs)("button",{onClick:k,disabled:g,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[(0,Kn.jsx)(Ba,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:g?"Testing...":"Test Prompt"})]})}),x&&(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Result"}),(0,Kn.jsx)("div",{className:"bg-gray-100 p-4 rounded-md",children:(0,Kn.jsx)("pre",{className:"whitespace-pre-wrap text-sm",children:x})})]})]})]})}):null};return s?(0,Kn.jsx)("div",{className:"p-6",children:(0,Kn.jsxs)("div",{className:"animate-pulse",children:[(0,Kn.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,Kn.jsxs)("div",{className:"space-y-3",children:[(0,Kn.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,Kn.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,Kn.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):(0,Kn.jsxs)("div",{className:"p-6",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"System Prompts"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"Configure AI behavior and response patterns"})]}),(0,Kn.jsxs)("div",{className:"flex space-x-3",children:[(0,Kn.jsxs)("button",{onClick:S,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2",children:[(0,Kn.jsx)(Hr,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:"Create Defaults"})]}),(0,Kn.jsxs)("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Kn.jsx)(Ua,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:"Add Prompt"})]})]})]}),(0,Kn.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(e=>{var t;return(0,Kn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center space-x-2",children:[(0,Kn.jsx)("span",{children:e.name}),e.is_default&&(0,Kn.jsx)(Gr,{className:"w-4 h-4 text-yellow-500"})]}),(0,Kn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("span",{className:"px-2 py-1 text-xs rounded "+(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"}),(0,Kn.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:null===(t=j.find(t=>t.value===e.prompt_type))||void 0===t?void 0:t.label})]})]}),(0,Kn.jsx)("div",{className:"bg-gray-50 p-3 rounded-md mb-4",children:(0,Kn.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3 font-mono",children:e.prompt_text})}),(0,Kn.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600 mb-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"font-medium",children:"Temperature"}),(0,Kn.jsx)("p",{children:e.temperature})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"font-medium",children:"Max Tokens"}),(0,Kn.jsx)("p",{children:e.max_tokens})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"font-medium",children:"Used"}),(0,Kn.jsxs)("p",{children:[e.usage_count||0," times"]})]})]}),(0,Kn.jsxs)("div",{className:"flex space-x-2",children:[(0,Kn.jsxs)("button",{onClick:()=>(e=>{m(e),h(""),f(""),d(!0)})(e),className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-md hover:bg-green-700 flex items-center justify-center space-x-1",children:[(0,Kn.jsx)(Wr,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:"Test"})]}),(0,Kn.jsx)("button",{onClick:()=>(e=>{m(e),b({name:e.name,description:e.description,prompt_text:e.prompt_text,prompt_type:e.prompt_type,temperature:e.temperature,max_tokens:e.max_tokens,is_active:e.is_active,is_default:e.is_default}),o(!0)})(e),className:"bg-blue-600 text-white py-2 px-3 rounded-md hover:bg-blue-700 flex items-center justify-center",children:(0,Kn.jsx)(fr,{className:"w-4 h-4"})}),(0,Kn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this system prompt?"))try{await Jn.delete(`${Zr}/api/system-prompts/${e}`),Pt.success("System prompt deleted successfully"),w()}catch(t){console.error("Error deleting prompt:",t),Pt.error("Failed to delete system prompt")}})(e.id),className:"bg-red-600 text-white py-2 px-3 rounded-md hover:bg-red-700 flex items-center justify-center",children:(0,Kn.jsx)(gr,{className:"w-4 h-4"})}),!e.is_default&&(0,Kn.jsx)("button",{onClick:()=>(async(e,t)=>{try{await Jn.post(`${Zr}/api/system-prompts/${e}/set-default`),Pt.success(`Default ${t} prompt updated`),w()}catch(s){console.error("Error setting default prompt:",s),Pt.error("Failed to set default prompt")}})(e.id,e.prompt_type),className:"bg-yellow-600 text-white py-2 px-3 rounded-md hover:bg-yellow-700 flex items-center justify-center",children:(0,Kn.jsx)(Gr,{className:"w-4 h-4"})})]})]},e.id)})}),0===e.length&&(0,Kn.jsxs)("div",{className:"text-center py-12",children:[(0,Kn.jsx)(Xr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Kn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No system prompts configured"}),(0,Kn.jsx)("p",{className:"text-gray-600 mb-4",children:"Add your first system prompt to configure AI behavior"}),(0,Kn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Kn.jsx)("button",{onClick:S,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"Create Default Prompts"}),(0,Kn.jsx)("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Add Custom Prompt"})]})]}),(0,Kn.jsx)(C,{show:a,onClose:()=>l(!1),onSubmit:async e=>{e.preventDefault();try{await Jn.post(`${Zr}/api/system-prompts`,v),Pt.success("System prompt added successfully"),l(!1),_(),w()}catch(t){console.error("Error adding prompt:",t),Pt.error("Failed to add system prompt")}},title:"Add System Prompt"}),(0,Kn.jsx)(C,{show:i,onClose:()=>o(!1),onSubmit:async e=>{e.preventDefault();try{await Jn.put(`${Zr}/api/system-prompts/${u.id}`,v),Pt.success("System prompt updated successfully"),o(!1),m(null),_(),w()}catch(t){console.error("Error updating prompt:",t),Pt.error("Failed to update system prompt")}},title:"Edit System Prompt",isEdit:!0}),(0,Kn.jsx)(E,{show:c,onClose:()=>d(!1),prompt:u})]})},tl="https://d90eaae8-ec2e-41a4-a8e7-e61f976a5052.preview.emergentagent.com",sl=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)({}),[a,l]=(0,r.useState)(!0),[i,o]=(0,r.useState)("pending"),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)(null),[x,f]=(0,r.useState)(""),[g,y]=(0,r.useState)(""),[v,b]=(0,r.useState)("");(0,r.useEffect)(()=>{j(),N()},[i]);const j=async()=>{try{const e="pending"===i?`${tl}/api/response-verification/pending`:`${tl}/api/response-verification`,s=await Jn.get(e);t(s.data)}catch(e){console.error("Error fetching verifications:",e),Pt.error("Failed to load verifications")}finally{l(!1)}},N=async()=>{try{const e=await Jn.get(`${tl}/api/response-verification/statistics`);n(e.data)}catch(e){console.error("Error fetching statistics:",e)}},w=e=>{switch(e){case"approved":return(0,Kn.jsx)(ja,{className:"w-5 h-5 text-green-500"});case"rejected":return(0,Kn.jsx)(Fa,{className:"w-5 h-5 text-red-500"});case"needs_review":return(0,Kn.jsx)(Oa,{className:"w-5 h-5 text-yellow-500"});default:return(0,Kn.jsx)(nr,{className:"w-5 h-5 text-gray-500"})}},k=e=>{switch(e){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"needs_review":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},S=e=>e>=.8?"text-green-600":e>=.6?"text-yellow-600":"text-red-600",_=e=>{let{show:t,onClose:s,verification:n}=e;return t&&n?(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Kn.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Kn.jsx)("h2",{className:"text-xl font-bold",children:"Response Verification Details"}),(0,Kn.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Kn.jsxs)("div",{className:"space-y-6",children:[(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Status"}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[w(n.status),(0,Kn.jsx)("span",{className:`px-2 py-1 text-sm rounded ${k(n.status)}`,children:n.status.replace("_"," ").toUpperCase()})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Overall Score"}),(0,Kn.jsxs)("span",{className:`text-2xl font-bold ${S(n.overall_score)}`,children:[(100*n.overall_score).toFixed(1),"%"]})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Verification Scores"}),(0,Kn.jsxs)("div",{className:"space-y-2",children:[(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{children:"Context Alignment:"}),(0,Kn.jsxs)("span",{className:S(n.context_score),children:[(100*n.context_score).toFixed(1),"%"]})]}),(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{children:"Intent Accuracy:"}),(0,Kn.jsxs)("span",{className:S(n.intent_alignment_score),children:[(100*n.intent_alignment_score).toFixed(1),"%"]})]}),(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{children:"Content Quality:"}),(0,Kn.jsxs)("span",{className:S(n.content_quality_score),children:[(100*n.content_quality_score).toFixed(1),"%"]})]}),(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{children:"Personalization:"}),(0,Kn.jsxs)("span",{className:S(n.personalization_score),children:[(100*n.personalization_score).toFixed(1),"%"]})]}),(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{children:"Professional Tone:"}),(0,Kn.jsxs)("span",{className:S(n.tone_score),children:[(100*n.tone_score).toFixed(1),"%"]})]})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Verification Notes"}),(0,Kn.jsx)("div",{className:"bg-gray-50 p-3 rounded-md",children:(0,Kn.jsx)("p",{className:"text-sm text-gray-700",children:n.verification_notes||"No notes available"})})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Original Content"}),(0,Kn.jsx)("div",{className:"bg-gray-50 p-4 rounded-md",children:(0,Kn.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700",children:n.original_content})})]}),n.verified_content!==n.original_content&&(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Verified Content"}),(0,Kn.jsx)("div",{className:"bg-blue-50 p-4 rounded-md",children:(0,Kn.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700",children:n.verified_content})})]}),n.suggested_changes&&(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Suggested Changes"}),(0,Kn.jsx)("div",{className:"bg-yellow-50 p-4 rounded-md",children:(0,Kn.jsx)("p",{className:"text-sm text-gray-700",children:n.suggested_changes})})]}),n.manual_review_notes&&(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Manual Review Notes"}),(0,Kn.jsxs)("div",{className:"bg-green-50 p-4 rounded-md",children:[(0,Kn.jsx)("p",{className:"text-sm text-gray-700",children:n.manual_review_notes}),(0,Kn.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Reviewed by: ",n.manual_reviewer]})]})]})]})]})}):null},C=e=>{let{show:t,onClose:s,verification:n}=e;return t&&n?(0,Kn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Kn.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Kn.jsx)("h2",{className:"text-xl font-bold",children:"Manual Review"}),(0,Kn.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Kn.jsxs)("div",{className:"space-y-4",children:[(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Overall Score"}),(0,Kn.jsxs)("span",{className:`text-2xl font-bold ${S(n.overall_score)}`,children:[(100*n.overall_score).toFixed(1),"%"]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Verification Notes"}),(0,Kn.jsx)("p",{className:"text-sm text-gray-700",children:n.verification_notes})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Original Content"}),(0,Kn.jsx)("div",{className:"bg-gray-50 p-4 rounded-md",children:(0,Kn.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700",children:n.original_content})})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Edit Content (Optional)"}),(0,Kn.jsx)("textarea",{value:v,onChange:e=>b(e.target.value),rows:8,className:"w-full px-3 py-2 border rounded-md"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Review Notes"}),(0,Kn.jsx)("textarea",{value:x,onChange:e=>f(e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-md",placeholder:"Add your review notes..."})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Suggested Changes (if rejecting)"}),(0,Kn.jsx)("textarea",{value:g,onChange:e=>y(e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-md",placeholder:"Suggest specific improvements..."})]}),(0,Kn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Kn.jsx)("button",{onClick:s,className:"px-4 py-2 text-gray-600 border rounded-md hover:bg-gray-50",children:"Cancel"}),v!==n.original_content&&(0,Kn.jsx)("button",{onClick:()=>(async e=>{try{await Jn.put(`${tl}/api/response-verification/${e}/content`,{content:v}),Pt.success("Response content updated successfully"),m(!1),j()}catch(t){console.error("Error updating content:",t),Pt.error("Failed to update content")}})(n.id),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Update Content"}),(0,Kn.jsx)("button",{onClick:()=>(async e=>{try{await Jn.post(`${tl}/api/response-verification/${e}/reject`,{reviewer:"Manual Review",notes:x,suggested_changes:g}),Pt.success("Response rejected successfully"),m(!1),j(),N()}catch(t){console.error("Error rejecting verification:",t),Pt.error("Failed to reject response")}})(n.id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Reject"}),(0,Kn.jsx)("button",{onClick:()=>(async e=>{try{await Jn.post(`${tl}/api/response-verification/${e}/approve`,{reviewer:"Manual Review",notes:x}),Pt.success("Response approved successfully"),m(!1),j(),N()}catch(t){console.error("Error approving verification:",t),Pt.error("Failed to approve response")}})(n.id),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Approve"})]})]})]})}):null};return a?(0,Kn.jsx)("div",{className:"p-6",children:(0,Kn.jsxs)("div",{className:"animate-pulse",children:[(0,Kn.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,Kn.jsxs)("div",{className:"space-y-3",children:[(0,Kn.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,Kn.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,Kn.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):(0,Kn.jsxs)("div",{className:"p-6",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Response Verification"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"Review and approve AI-generated responses"})]}),(0,Kn.jsx)("div",{className:"flex space-x-3",children:(0,Kn.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"px-4 py-2 border rounded-lg",children:[(0,Kn.jsx)("option",{value:"pending",children:"Pending Review"}),(0,Kn.jsx)("option",{value:"needs_review",children:"Needs Review"}),(0,Kn.jsx)("option",{value:"approved",children:"Approved"}),(0,Kn.jsx)("option",{value:"rejected",children:"Rejected"}),(0,Kn.jsx)("option",{value:"all",children:"All"})]})})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[(0,Kn.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-gray-600",children:"Total Verifications"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.total_verifications||0})]}),(0,Kn.jsx)(ba,{className:"w-8 h-8 text-blue-500"})]})}),(0,Kn.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-gray-600",children:"Pending"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.pending_verifications||0})]}),(0,Kn.jsx)(nr,{className:"w-8 h-8 text-yellow-500"})]})}),(0,Kn.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-gray-600",children:"Approved"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.approved_verifications||0})]}),(0,Kn.jsx)(ja,{className:"w-8 h-8 text-green-500"})]})}),(0,Kn.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm text-gray-600",children:"Rejected"}),(0,Kn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.rejected_verifications||0})]}),(0,Kn.jsx)(Fa,{className:"w-8 h-8 text-red-500"})]})})]}),(0,Kn.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,Kn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[(0,Kn.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[w(e.status),(0,Kn.jsxs)("div",{children:[(0,Kn.jsxs)("h3",{className:"font-semibold text-gray-900",children:["Verification #",e.id.substring(0,8)]}),(0,Kn.jsxs)("p",{className:"text-sm text-gray-600",children:["Created ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("span",{className:`px-2 py-1 text-xs rounded ${k(e.status)}`,children:e.status.replace("_"," ").toUpperCase()}),(0,Kn.jsxs)("span",{className:`text-lg font-bold ${S(e.overall_score)}`,children:[(100*e.overall_score).toFixed(1),"%"]})]})]}),(0,Kn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Verification Scores"}),(0,Kn.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{children:"Context:"}),(0,Kn.jsxs)("span",{className:S(e.context_score),children:[(100*e.context_score).toFixed(1),"%"]})]}),(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{children:"Intent:"}),(0,Kn.jsxs)("span",{className:S(e.intent_alignment_score),children:[(100*e.intent_alignment_score).toFixed(1),"%"]})]}),(0,Kn.jsxs)("div",{className:"flex justify-between",children:[(0,Kn.jsx)("span",{children:"Quality:"}),(0,Kn.jsxs)("span",{className:S(e.content_quality_score),children:[(100*e.content_quality_score).toFixed(1),"%"]})]})]})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Notes"}),(0,Kn.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3",children:e.verification_notes||"No notes available"})]})]}),(0,Kn.jsx)("div",{className:"bg-gray-50 p-3 rounded-md mb-4",children:(0,Kn.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3",children:e.original_content})}),(0,Kn.jsxs)("div",{className:"flex space-x-2",children:[(0,Kn.jsxs)("button",{onClick:()=>(e=>{h(e),d(!0)})(e),className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-md hover:bg-blue-700 flex items-center justify-center space-x-1",children:[(0,Kn.jsx)(ra,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:"View Details"})]}),("pending"===e.status||"needs_review"===e.status)&&(0,Kn.jsxs)("button",{onClick:()=>(e=>{h(e),f(""),y(""),b(e.verified_content||e.original_content),m(!0)})(e),className:"bg-green-600 text-white py-2 px-3 rounded-md hover:bg-green-700 flex items-center justify-center space-x-1",children:[(0,Kn.jsx)(fr,{className:"w-4 h-4"}),(0,Kn.jsx)("span",{children:"Review"})]})]})]},e.id))}),0===e.length&&(0,Kn.jsxs)("div",{className:"text-center py-12",children:[(0,Kn.jsx)(ba,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Kn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No verifications found"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"pending"===i?"No responses are currently pending verification":"No verifications match your current filter"})]}),(0,Kn.jsx)(_,{show:c,onClose:()=>d(!1),verification:p}),(0,Kn.jsx)(C,{show:u,onClose:()=>m(!1),verification:p})]})},nl=ea("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),al=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(""),[a,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)(""),[x,f]=(0,r.useState)(!0),[g,y]=(0,r.useState)([]),v=(0,r.useRef)(null),b=(0,r.useRef)(null),j=(0,r.useRef)(null),{isListeningForWakeWord:N,isAwake:w,error:k,goToSleep:S,resetActivity:_,startWakeWordListening:C,stopWakeWordListening:E}=ar(()=>{setTimeout(()=>A(!0),1e3)},x);(0,r.useEffect)(()=>{h(`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),t([{id:"welcome",type:"agent",content:"Hello! I'm Joy, your AI assistant. Say 'Hello Joy' to activate voice mode, or just type your message. I can help you manage campaigns, prospects, templates, and much more!",suggestions:["Hello Joy","Show me all my campaigns","Create a new prospect","What are my analytics?","Upload prospects from CSV"],timestamp:new Date}]),y(["Hello Joy","Show me all my campaigns","Create a new prospect","What are my analytics?","Upload prospects from CSV"]),x&&setTimeout(()=>{R("Hello! I'm Joy, your AI assistant. Say 'Hello Joy' to wake me up anytime.")},1e3)},[x]),(0,r.useEffect)(()=>{P()},[e]);const P=()=>{var e;null===(e=v.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},T=async e=>{if(!e.trim())return;_();const s={id:`user_${Date.now()}`,type:"user",content:e,timestamp:new Date};t(e=>[...e,s]),n(""),l(!0);try{if(u&&b.current)b.current.send(JSON.stringify({message:e,user_id:"default",context:{}}));else{const s=await Ra.post("/api/ai-agent/chat",{message:e,user_id:"default",session_id:p,context:{}}),n={id:`agent_${Date.now()}`,type:"agent",content:s.data.response,actionTaken:s.data.action_taken,data:s.data.data,suggestions:s.data.suggestions||[],timestamp:new Date(s.data.timestamp)};t(e=>[...e,n]),y(s.data.suggestions||[]),l(!1),x&&w&&setTimeout(()=>R(s.data.response),500)}}catch(c){var a,r,i,o;console.error("Detailed error sending message:",c),console.error("Error response:",null===(a=c.response)||void 0===a?void 0:a.data),console.error("Error status:",null===(r=c.response)||void 0===r?void 0:r.status),console.error("Error message:",c.message),st.error(`Failed to send message: ${c.message}`),l(!1);const e={id:`error_${Date.now()}`,type:"agent",content:`I apologize, but I'm having trouble processing your request right now. \n        \nError details: ${c.message}\nStatus: ${(null===(i=c.response)||void 0===i?void 0:i.status)||"Unknown"}\nResponse: ${JSON.stringify(null===(o=c.response)||void 0===o?void 0:o.data)||"No response data"}\n\nPlease try again or ask for help.`,timestamp:new Date};t(t=>[...t,e])}},A=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void st.error("Voice recognition not supported in this browser");_();const t=window.SpeechRecognition||window.webkitSpeechRecognition;j.current=new t,j.current.lang="en-US",j.current.interimResults=!1,j.current.maxAlternatives=1,j.current.onstart=()=>{o(!0),st("\ud83c\udfa4 Listening... Speak now",{icon:"\ud83c\udfa4",duration:1e3})},j.current.onresult=t=>{const s=t.results[0][0].transcript;if(s.toLowerCase().includes("sleep")||s.toLowerCase().includes("go to sleep"))return st('Going to sleep. Say "Hello Joy" to wake me up.',{icon:"\ud83d\ude34"}),void S();n(s),st.success(`Heard: "${s}"`),e&&setTimeout(()=>T(s),500)},j.current.onerror=e=>{o(!1),"aborted"!==e.error&&st.error(`Voice recognition error: ${e.error}`)},j.current.onend=()=>{o(!1)};try{j.current.start()}catch(s){st.error("Failed to start voice recognition"),o(!1)}},R=e=>{if(!x||!("speechSynthesis"in window)||!w)return;d(!0);const t=e.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/#{1,6}\s/g,"").replace(/```[\s\S]*?```/g,"code block").replace(/`([^`]+)`/g,"$1").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/---+/g,"").replace(/\n{3,}/g,"\n\n").substring(0,300),s=new SpeechSynthesisUtterance(t);s.rate=.95,s.pitch=1.1,s.volume=.9,s.onstart=()=>{_()},s.onend=()=>{d(!1),_()},s.onerror=()=>{d(!1)},speechSynthesis.speak(s)},L=e=>{let t=e.content;return e.actionTaken&&e.data&&(t+="\n\n---","list_campaigns"===e.actionTaken&&Array.isArray(e.data)?(t+="\n\ud83d\udccb **Campaigns Found:**",e.data.slice(0,5).forEach(e=>{t+=`\n\u2022 ${e.name} (${e.status})`}),e.data.length>5&&(t+=`\n\u2022 ... and ${e.data.length-5} more`)):"list_prospects"===e.actionTaken&&Array.isArray(e.data)?(t+="\n\ud83d\udc65 **Prospects Found:**",e.data.slice(0,5).forEach(e=>{t+=`\n\u2022 ${e.first_name} ${e.last_name} - ${e.company||"No company"}`}),e.data.length>5&&(t+=`\n\u2022 ... and ${e.data.length-5} more`)):"show_analytics"===e.actionTaken&&e.data&&(t+="\n\ud83d\udcca **Analytics Summary:**",t+=`\n\u2022 Campaigns: ${e.data.total_campaigns}`,t+=`\n\u2022 Prospects: ${e.data.total_prospects}`,t+=`\n\u2022 Emails Sent: ${e.data.total_emails_sent}`,t+=`\n\u2022 Open Rate: ${e.data.average_open_rate}%`)),t};return(0,Kn.jsxs)("div",{className:"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[(0,Kn.jsxs)("div",{className:"bg-white shadow-sm border-b p-4 flex items-center justify-between",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Kn.jsx)(nl,{className:"h-6 w-6 text-blue-600"})}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Joy - AI Agent Assistant"}),(0,Kn.jsx)("p",{className:"text-sm text-gray-500",children:u?"\ud83d\udfe2 Connected via WebSocket":"\ud83d\udd34 HTTP Mode"})]})]}),(0,Kn.jsx)(dr,{isListeningForWakeWord:N,isAwake:w,isListening:i,isSpeaking:c,error:k,voiceEnabled:x,onToggleVoice:()=>f(!x),onGoToSleep:S}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("button",{onClick:()=>{try{const e="https://d90eaae8-ec2e-41a4-a8e7-e61f976a5052.preview.emergentagent.com".replace("http","ws")+`/api/ai-agent/ws/${p}`;b.current=new WebSocket(e),b.current.onopen=()=>{m(!0),console.log("WebSocket connected"),st.success("Connected to AI Agent")},b.current.onmessage=e=>{const s=JSON.parse(e.data),n={id:`agent_${Date.now()}`,type:"agent",content:s.response,actionTaken:s.action_taken,data:s.data,suggestions:s.suggestions||[],timestamp:new Date(s.timestamp)};t(e=>[...e,n]),y(s.suggestions||[]),l(!1)},b.current.onclose=()=>{m(!1),console.log("WebSocket disconnected")},b.current.onerror=e=>{console.error("WebSocket error:",e),m(!1),l(!1),st.error("Connection error")}}catch(e){console.error("Failed to connect WebSocket:",e),st.error("Failed to connect to AI Agent")}},disabled:u,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm",children:u?"Connected":"Connect WS"}),(0,Kn.jsx)("button",{onClick:()=>{t([]),y([]),st.success("Chat cleared")},className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm",children:"Clear Chat"})]})]}),(0,Kn.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map(e=>(0,Kn.jsx)("div",{className:"flex "+("user"===e.type?"justify-end":"justify-start"),children:(0,Kn.jsxs)("div",{className:"max-w-3xl px-4 py-3 rounded-lg shadow-sm "+("user"===e.type?"bg-blue-600 text-white":"bg-white text-gray-800 border"),children:[(0,Kn.jsx)("div",{className:"whitespace-pre-wrap",children:L(e)}),e.actionTaken&&(0,Kn.jsxs)("div",{className:"mt-2 text-xs opacity-75",children:["\u26a1 Action: ",e.actionTaken.replace("_"," ")]}),(0,Kn.jsx)("div",{className:"text-xs mt-1 opacity-70",children:e.timestamp.toLocaleTimeString()})]})},e.id)),a&&(0,Kn.jsx)("div",{className:"flex justify-start",children:(0,Kn.jsx)("div",{className:"bg-white border rounded-lg px-4 py-3 shadow-sm",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,Kn.jsx)("span",{className:"text-gray-600",children:"AI is thinking..."})]})})}),(0,Kn.jsx)("div",{ref:v})]}),g.length>0&&(0,Kn.jsxs)("div",{className:"px-4 py-2 border-t bg-gray-50",children:[(0,Kn.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"\ud83d\udca1 Suggested actions:"}),(0,Kn.jsx)("div",{className:"flex flex-wrap gap-2",children:g.map((e,t)=>(0,Kn.jsx)("button",{onClick:()=>(e=>{T(e)})(e),className:"px-3 py-1 bg-white border border-blue-200 text-blue-700 rounded-full text-sm hover:bg-blue-50 transition-colors",children:e},t))})]}),(0,Kn.jsxs)("div",{className:"bg-white border-t p-4",children:[(0,Kn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),T(s)},className:"flex items-center space-x-3",children:[(0,Kn.jsxs)("div",{className:"flex-1 relative",children:[(0,Kn.jsx)("input",{type:"text",value:s,onChange:e=>n(e.target.value),placeholder:"Ask me anything... 'Show my campaigns', 'Create a new prospect', etc.",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:a}),(0,Kn.jsx)("button",{type:"button",onClick:()=>A(!1),disabled:i||a||!w,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded-full transition-colors "+(i?"text-red-600 bg-red-100":w?"text-blue-600 bg-blue-100 hover:bg-blue-200":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),title:w?"Voice input":"Say 'Hello Joy' to wake up for voice input",children:i?(0,Kn.jsx)(tr,{className:"h-5 w-5"}):(0,Kn.jsx)(sr,{className:"h-5 w-5"})})]}),(0,Kn.jsx)("button",{type:"submit",disabled:!s.trim()||a,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?(0,Kn.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,Kn.jsx)(ma,{className:"h-5 w-5"})})]}),(0,Kn.jsx)("div",{className:"mt-2 text-xs text-gray-500 text-center",children:w?'\ud83c\udf99\ufe0f Voice activated! Say \'sleep\' to deactivate \u2022 Try: "Show my campaigns" \u2022 "Create prospect John Doe from TechCorp"':'\ud83d\udca4 Say "Hello Joy" to activate voice mode \u2022 Or type: "Show campaigns" \u2022 "Create prospect" \u2022 "Analytics"'})]})]})},rl=ea("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ll=ea("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),il=()=>{var e;const[t,s]=(0,r.useState)([]),[n,a]=(0,r.useState)(""),[l,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(""),[h,x]=(0,r.useState)(!1),[f,g]=(0,r.useState)([]),[y,v]=(0,r.useState)(!0),[b,j]=(0,r.useState)("analyzing"),[N,w]=(0,r.useState)(null),[k,S]=(0,r.useState)({}),[_,C]=(0,r.useState)(10),[E,P]=(0,r.useState)(!1),[T,A]=(0,r.useState)([]),R=(0,r.useRef)(null),L=(0,r.useRef)(null);(0,r.useEffect)(()=>{p(`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`);const e={id:"welcome",type:"agent",content:y?"Hello! I'm your Enhanced AI assistant with confirmation flow. I'll ask for your confirmation before performing any actions. Tell me what you'd like to do!":"Hello! I'm your AI assistant. I can help you manage campaigns, prospects, templates, and much more. Just tell me what you'd like to do in natural language!",suggestions:["Show me all my campaigns","Create a new campaign named Summer Sale","Add John Smith from TechCorp","What are my analytics?","Set turn limit to 25"],timestamp:new Date,conversationState:"analyzing"};s([e]),g(e.suggestions)},[y]),(0,r.useEffect)(()=>{F()},[t]);const F=()=>{var e;null===(e=R.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},O=async e=>{if(!e.trim())return;const t={id:`user_${Date.now()}`,type:"user",content:e,timestamp:new Date};s(e=>[...e,t]),a(""),i(!0);try{if(d&&L.current)L.current.send(JSON.stringify({message:e,user_id:"default",use_enhanced_flow:y,context:{}}));else{const t=await Ra.post("/api/ai-agent/chat",{message:e,user_id:"default",session_id:m,use_enhanced_flow:y,context:{}}),n={id:`agent_${Date.now()}`,type:"agent",content:t.data.response,actionTaken:t.data.action_taken,data:t.data.data,suggestions:t.data.suggestions||[],conversationState:t.data.conversation_state,pendingAction:t.data.pending_action,contextInfo:t.data.context_info,timestamp:new Date(t.data.timestamp)};s(e=>[...e,n]),g(t.data.suggestions||[]),j(t.data.conversation_state||"analyzing"),w(t.data.pending_action),S(t.data.context_info||{}),i(!1)}}catch(n){console.error("Error sending message:",n),st.error(`Failed to send message: ${n.message}`),i(!1);const e={id:`error_${Date.now()}`,type:"agent",content:`I apologize, but I'm having trouble processing your request right now. Error: ${n.message}. Please try again.`,timestamp:new Date,conversationState:"error"};s(t=>[...t,e])}},M=e=>{switch(e){case"analyzing":default:return(0,Kn.jsx)(nl,{className:"h-4 w-4"});case"gathering_info":case"error":return(0,Kn.jsx)(Oa,{className:"h-4 w-4"});case"confirming":case"completed":return(0,Kn.jsx)(ja,{className:"h-4 w-4"});case"executing":return(0,Kn.jsx)(rl,{className:"h-4 w-4"})}},D=e=>{let t=e.content;return e.actionTaken&&e.data&&(t+="\n\n---","list_campaigns"===e.actionTaken&&Array.isArray(e.data)?(t+="\n\ud83d\udccb **Campaigns Found:**",e.data.slice(0,5).forEach(e=>{t+=`\n\u2022 ${e.name} (${e.status})`}),e.data.length>5&&(t+=`\n\u2022 ... and ${e.data.length-5} more`)):"list_prospects"===e.actionTaken&&Array.isArray(e.data)&&(t+="\n\ud83d\udc65 **Prospects Found:**",e.data.slice(0,5).forEach(e=>{t+=`\n\u2022 ${e.first_name} ${e.last_name} - ${e.company||"No company"}`}),e.data.length>5&&(t+=`\n\u2022 ... and ${e.data.length-5} more`))),t};return(0,Kn.jsxs)("div",{className:"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[(0,Kn.jsxs)("div",{className:"bg-white shadow-sm border-b p-4 flex items-center justify-between",children:[(0,Kn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Kn.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:M(b)}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsxs)("h1",{className:"text-xl font-bold text-gray-900",children:[y?"Enhanced AI Agent":"AI Agent"," Assistant"]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,Kn.jsxs)("span",{className:`flex items-center space-x-1 ${(e=>{switch(e){case"analyzing":return"text-blue-600";case"gathering_info":return"text-yellow-600";case"confirming":return"text-orange-600";case"executing":return"text-purple-600";case"completed":return"text-green-600";case"error":return"text-red-600";default:return"text-gray-600"}})(b)}`,children:[M(b),(0,Kn.jsx)("span",{className:"capitalize",children:b.replace("_"," ")})]}),(0,Kn.jsx)("span",{children:"\u2022"}),(0,Kn.jsx)("span",{children:d?"\ud83d\udfe2 Connected via WebSocket":"\ud83d\udd34 HTTP Mode"}),void 0!==k.turn_count&&(0,Kn.jsxs)(Kn.Fragment,{children:[(0,Kn.jsx)("span",{children:"\u2022"}),(0,Kn.jsxs)("span",{children:[k.turn_count,"/",k.max_turns||_," turns"]})]})]})]})]}),(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("button",{onClick:()=>v(!y),className:"px-3 py-2 rounded-lg text-sm transition-colors "+(y?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"),title:"Toggle enhanced confirmation flow",children:y?"Enhanced":"Legacy"}),(0,Kn.jsx)("button",{onClick:()=>x(!h),className:"p-2 rounded-lg transition-colors "+(h?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"),title:"Toggle voice responses",children:h?(0,Kn.jsx)(rr,{className:"h-5 w-5"}):(0,Kn.jsx)(or,{className:"h-5 w-5"})}),(0,Kn.jsx)("button",{onClick:()=>P(!E),className:"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",title:"Settings",children:(0,Kn.jsx)(Hr,{className:"h-5 w-5"})}),(0,Kn.jsx)("button",{onClick:async()=>{try{const e=await Ra.get(`/api/ai-agent/conversation-history/${m}`);A(e.data.history),st.success("Conversation history loaded")}catch(e){st.error("Failed to load conversation history")}},className:"p-2 rounded-lg bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors",title:"Load conversation history",children:(0,Kn.jsx)(ll,{className:"h-5 w-5"})}),(0,Kn.jsx)("button",{onClick:()=>{try{const e="https://d90eaae8-ec2e-41a4-a8e7-e61f976a5052.preview.emergentagent.com".replace("http","ws")+`/api/ai-agent/ws/${m}?enhanced=${y}`;L.current=new WebSocket(e),L.current.onopen=()=>{u(!0),console.log("WebSocket connected"),st.success("Connected to Enhanced AI Agent")},L.current.onmessage=e=>{const t=JSON.parse(e.data),n={id:`agent_${Date.now()}`,type:"agent",content:t.response,actionTaken:t.action_taken,data:t.data,suggestions:t.suggestions||[],conversationState:t.conversation_state,pendingAction:t.pending_action,contextInfo:t.context_info,timestamp:new Date(t.timestamp)};s(e=>[...e,n]),g(t.suggestions||[]),j(t.conversation_state||"analyzing"),w(t.pending_action),S(t.context_info||{}),i(!1)},L.current.onclose=()=>{u(!1),console.log("WebSocket disconnected")},L.current.onerror=e=>{console.error("WebSocket error:",e),u(!1),i(!1),st.error("Connection error")}}catch(e){console.error("Failed to connect WebSocket:",e),st.error("Failed to connect to AI Agent")}},disabled:d,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm",children:d?"Connected":"Connect WS"}),(0,Kn.jsx)("button",{onClick:async()=>{try{await Ra.delete(`/api/ai-agent/sessions/${m}?enhanced=${y}`),s([]),g([]),j("analyzing"),w(null),S({}),st.success("Conversation cleared")}catch(e){st.error("Failed to clear conversation")}},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"Clear Chat"})]})]}),E&&(0,Kn.jsxs)("div",{className:"bg-yellow-50 border-b p-4",children:[(0,Kn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Conversation Settings"}),(0,Kn.jsx)("button",{onClick:()=>P(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Kn.jsxs)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Turn Limit (10-100)"}),(0,Kn.jsx)("input",{type:"number",min:"10",max:"100",value:_,onChange:e=>C(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),(0,Kn.jsx)("button",{onClick:()=>(async e=>{try{await Ra.post("/api/ai-agent/set-turn-limit",{session_id:m,max_turns:e}),C(e),st.success(`Turn limit updated to ${e}`)}catch(t){st.error("Failed to update turn limit")}})(_),className:"mt-2 px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Update Turn Limit"})]}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Context Info"}),(0,Kn.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Kn.jsxs)("p",{children:["State: ",(0,Kn.jsx)("span",{className:"font-medium",children:b})]}),(0,Kn.jsxs)("p",{children:["Extracted Params: ",(0,Kn.jsx)("span",{className:"font-medium",children:Object.keys(k.extracted_params||{}).length})]}),(0,Kn.jsxs)("p",{children:["Missing Params: ",(0,Kn.jsx)("span",{className:"font-medium",children:(k.missing_params||[]).length})]})]})]})]})]}),N&&(0,Kn.jsx)("div",{className:"bg-orange-50 border-b p-3",children:(0,Kn.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Kn.jsx)(ja,{className:"h-5 w-5 text-orange-600 mt-0.5"}),(0,Kn.jsxs)("div",{children:[(0,Kn.jsx)("p",{className:"text-sm font-medium text-orange-800",children:"Action Waiting for Confirmation"}),(0,Kn.jsxs)("p",{className:"text-sm text-orange-700",children:[null===(e=N.action)||void 0===e?void 0:e.replace("_"," ")," - Please confirm to proceed"]})]})]})}),(0,Kn.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map(e=>(0,Kn.jsx)("div",{className:"flex "+("user"===e.type?"justify-end":"justify-start"),children:(0,Kn.jsxs)("div",{className:"max-w-3xl px-4 py-3 rounded-lg shadow-sm "+("user"===e.type?"bg-blue-600 text-white":"bg-white text-gray-800 border"),children:[(0,Kn.jsx)("div",{className:"whitespace-pre-wrap",children:D(e)}),e.conversationState&&"agent"===e.type&&(0,Kn.jsxs)("div",{className:"mt-2 flex items-center space-x-2 text-xs opacity-75",children:[M(e.conversationState),(0,Kn.jsxs)("span",{children:["State: ",e.conversationState.replace("_"," ")]}),e.actionTaken&&(0,Kn.jsxs)(Kn.Fragment,{children:[(0,Kn.jsx)("span",{children:"\u2022"}),(0,Kn.jsxs)("span",{children:["Action: ",e.actionTaken.replace("_"," ")]})]})]}),(0,Kn.jsx)("div",{className:"text-xs mt-1 opacity-70",children:e.timestamp.toLocaleTimeString()})]})},e.id)),l&&(0,Kn.jsx)("div",{className:"flex justify-start",children:(0,Kn.jsx)("div",{className:"bg-white border rounded-lg px-4 py-3 shadow-sm",children:(0,Kn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Kn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,Kn.jsxs)("span",{className:"text-gray-600",children:["analyzing"===b&&"Analyzing your request...","gathering_info"===b&&"Processing information...","confirming"===b&&"Preparing confirmation...","executing"===b&&"Executing action...",!b&&"AI is thinking..."]})]})})}),(0,Kn.jsx)("div",{ref:R})]}),f.length>0&&(0,Kn.jsxs)("div",{className:"px-4 py-2 border-t bg-gray-50",children:[(0,Kn.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"\ud83d\udca1 Suggested actions:"}),(0,Kn.jsx)("div",{className:"flex flex-wrap gap-2",children:f.map((e,t)=>(0,Kn.jsx)("button",{onClick:()=>(e=>{O(e)})(e),className:"px-3 py-1 bg-white border border-blue-200 text-blue-700 rounded-full text-sm hover:bg-blue-50 transition-colors",children:e},t))})]}),(0,Kn.jsxs)("div",{className:"bg-white border-t p-4",children:[(0,Kn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),O(n)},className:"flex items-center space-x-3",children:[(0,Kn.jsxs)("div",{className:"flex-1 relative",children:[(0,Kn.jsx)("input",{type:"text",value:n,onChange:e=>a(e.target.value),placeholder:"gathering_info"===b?"Please provide the requested information...":"confirming"===b?"Say 'yes' to confirm, 'no' to cancel, or 'change' to modify...":"Ask me anything... 'Show my campaigns', 'Create a new prospect', etc.",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:l}),(0,Kn.jsx)("button",{type:"button",onClick:()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void st.error("Voice recognition not supported in this browser");const e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.lang="en-US",e.interimResults=!1,e.maxAlternatives=1,e.onstart=()=>{c(!0),st("Listening... Speak now",{icon:"\ud83c\udfa4"})},e.onresult=e=>{const t=e.results[0][0].transcript;a(t),st.success(`Heard: "${t}"`)},e.onerror=e=>{c(!1),st.error(`Voice recognition error: ${e.error}`)},e.onend=()=>{c(!1)},e.start()},disabled:o||l,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded-full transition-colors "+(o?"text-red-600 bg-red-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),title:"Voice input",children:o?(0,Kn.jsx)(tr,{className:"h-5 w-5"}):(0,Kn.jsx)(sr,{className:"h-5 w-5"})})]}),(0,Kn.jsx)("button",{type:"submit",disabled:!n.trim()||l,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?(0,Kn.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,Kn.jsx)(ma,{className:"h-5 w-5"})})]}),(0,Kn.jsx)("div",{className:"mt-2 text-xs text-gray-500 text-center",children:y?(0,Kn.jsx)(Kn.Fragment,{children:'Enhanced Mode: Actions require confirmation \u2022 Try: "Create campaign Summer Sale" \u2022 "Yes, proceed" \u2022 "Set turn limit to 25"'}):(0,Kn.jsx)(Kn.Fragment,{children:'Legacy Mode: Direct execution \u2022 Try: "Show my campaigns" \u2022 "Create prospect John Doe from TechCorp"'})})]})]})},ol=()=>{const{user:e,loading:t}=Gn();return t?(0,Kn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:(0,Kn.jsxs)("div",{className:"text-center",children:[(0,Kn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Kn.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):e?(0,Kn.jsx)(_a,{children:(0,Kn.jsxs)(ye,{children:[(0,Kn.jsx)(fe,{path:"/",element:(0,Kn.jsx)(La,{})}),(0,Kn.jsx)(fe,{path:"/real-time",element:(0,Kn.jsx)($a,{})}),(0,Kn.jsx)(fe,{path:"/campaigns",element:(0,Kn.jsx)(Ja,{})}),(0,Kn.jsx)(fe,{path:"/prospects",element:(0,Kn.jsx)(pr,{})}),(0,Kn.jsx)(fe,{path:"/lists",element:(0,Kn.jsx)(jr,{})}),(0,Kn.jsx)(fe,{path:"/lists/:listId",element:(0,Kn.jsx)(Cr,{})}),(0,Kn.jsx)(fe,{path:"/templates",element:(0,Kn.jsx)(Tr,{})}),(0,Kn.jsx)(fe,{path:"/intents",element:(0,Kn.jsx)(Lr,{})}),(0,Kn.jsx)(fe,{path:"/analytics",element:(0,Kn.jsx)(Fr,{})}),(0,Kn.jsx)(fe,{path:"/email-processing",element:(0,Kn.jsx)(qr,{})}),(0,Kn.jsx)(fe,{path:"/email-providers",element:(0,Kn.jsx)(Jr,{})}),(0,Kn.jsx)(fe,{path:"/knowledge-base",element:(0,Kn.jsx)(Yr,{})}),(0,Kn.jsx)(fe,{path:"/system-prompts",element:(0,Kn.jsx)(el,{})}),(0,Kn.jsx)(fe,{path:"/response-verification",element:(0,Kn.jsx)(sl,{})}),(0,Kn.jsx)(fe,{path:"/ai-agent",element:(0,Kn.jsx)(al,{})}),(0,Kn.jsx)(fe,{path:"/ai-agent-enhanced",element:(0,Kn.jsx)(il,{})})]})}):(0,Kn.jsx)(oa,{})};const cl=function(){return(0,Kn.jsx)(Xn,{children:(0,Kn.jsx)(_e,{children:(0,Kn.jsxs)("div",{className:"App",children:[(0,Kn.jsx)(ol,{}),(0,Kn.jsx)(Et,{position:"top-right"})]})})})};i.createRoot(document.getElementById("root")).render((0,Kn.jsx)(r.StrictMode,{children:(0,Kn.jsx)(cl,{})}))})();
//# sourceMappingURL=main.3ac2cb6d.js.map